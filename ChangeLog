2016-05-14 Jim Lowe <jhlowe@acm.org>
* VERSION now 1.13

2016-05-11 Jim Lowe <jhlowe@acm.org>
* ./doc/source/*: Documentation updated, regenerated (on Slackware 14.1)

2016-04-18 Jim Lowe <jhlowe@acm.org>
* swsupplib/uinfile/uinfile.c (uinfile_i_open) <lxpsf>: fix package translation
for slackware packages (support either ./ or "" as file name prefix).

2014-10-16 Jim Lowe <jhlowe@acm.org>
* VERSION now 1.12.904
* bin/checkdigest.sh (check_files_by_md5): fixed failure on systems whose
md5sum utility adorns its output with ''(stdin)''.

2014-10-14 Jim Lowe <jhlowe@acm.org>
* swprogs/swcopy.c (swc_write_target_copy_script) <swcopy>:
added code to test the shell found in getconf(PATH) for required posix feature suitability.
* swprogs/swproglib.c (swpl_bashin_posixsh): added quoting of variables to
some places where is was missing.

2014-10-12 Jim Lowe <jhlowe@acm.org>
* swsupplib/misc/rpmpsf.c (rpmpsf_get_rpmtagvalue) <lxpsf, RPM translation>
Removed broken sanity check which became unmasked on a NETBSD 6.1.5 system.

2014-10-04 Jim Lowe <jhlowe@acm.org>
* swprogs/swverify_lib.c (determine_inl_field_condition) <swverify>:
Fixed summary_info falsely reporting PASSED for case of missing file.
(exit status and other error messages were correctly reporting error).
* swprogs/swverify_lib.c (set_inl_field_status_conditionally): added

2014-08-02 Jim Lowe <jhlowe@acm.org>
* VERSION now 1.12

2014-08-02 Jim Lowe <jhlowe@acm.org>
* swprogs/swverify.sh.in: export some shell variables explicitly using 'export'

2014-07-31 Jim Lowe <jhlowe@acm.org>
* swprogs/swcommon.c (swc_write_source_copy_script):
test for pax-write-command equalling 'tar' so as to preserve 
meaning of '--pax-write-command=tar' to mean generic tar usage
compatibility.

2014-07-30 Jim Lowe <jhlowe@acm.org>
* swprogs/pax_command.h g_pax_read_commands[]: now
gtar selection uses --format=pax

2014-07-27 Jim Lowe <jhlowe@acm.org>
* swprogs/swinstall.c (main) <swinstall>: fix -A option
* swprogs/swlist.c (main) <swlist>: fix -A option
* swprogs/swremove.c (main) <swremove>: fix -A option
* swprogs/iswverify.c (main) <swverify>: fix -A option
* swprogs/swconfig.c (main) <swconfig>: fix -A option-

2014-07-27 Jim Lowe <jhlowe@acm.org>
* swsupplib/misc/swlib.c (swlib_wait_on_all_pids_with_timeout): now
return return value of last waitpid invocation, was returning the status
of the last waitpid invocation.
* swsupplib/misc/swlib.c (swlib_wait_on_pid_with_timeout): added

2014-07-27 Jim Lowe <jhlowe@acm.org>
* swprogs/swpackage.cxx (main) <swpackage>: removed --no-construct-missing
option, added --construct-missing option.  Maintain default behavior to be
same as version 1.11

2014-07-25 Jim Lowe <jhlowe@acm.org>
* doc/README: updated
* doc/fixdirentry.sh (doc/info/swbis_swpackage.info):
fix empty lines (newlines only) from being dropped.
* Documentation updated, regened on Slackware 14.1

2014-07-20 Jim Lowe <jhlowe@acm.org>
* swprogs/swproglib.c (swpl_bashin_posixsh): added
* swprogs/swproglib.c (swpl_bashin_testsh): added
Now a specified shell is tested for POSIX suitability.
* swprogs/swinstall_lib.c <swinstall>: use swpl_bashin_testsh 
* swprogs/swlist_lib.c <swlist> : use swpl_bashin_testsh
* swprogs/swremove_lib.c <swremove>: use swpl_bashin_testsh
* swprogs/swverify_lib.c <swverify>: use swpl_bashin_testsh
* swprogs/swcopy.c <swcopy>: use swpl_bashin_testsh

2014-07-20 Jim Lowe <jhlowe@acm.org>
* swprogs/swproglib.c (swpl_bashin_detect):
Improved code for detecting suitable shell
* swprogs/swproglib.c (swpl_agent_fail_message):
standardize error messages among utilities

2014-07-18 Jim Lowe <jhlowe@acm.org>
* swsupplib/misc/swfork.c (swlib_pty_fork2) <swcopy>:
used in the testing --login mode, updated to use ptmx.
* swsupplib/configure.ac: now test for posix_openpt

2014-07-12 Jim Lowe <jhlowe@acm.org>
* swsupplib/uinfile/uinfile.c (uinfile_i_open): fixed
detection of gpg encrypted data
* swpackage.cxx (main) <swpackage>: now resigning can
be done in place using --overwrite option.

2014-07-11 Jim Lowe <jhlowe@acm.org>
* swsupplib/misc/swheader.h: added F_GOTO_NEXT function pointer typedef.
* swsupplib/misc/swheader.c (swheader_get_iter_function):
fixed compiler warning about function pointer declaration type cast.
* swsupplib/misc/swheaderline.c (swheaderline_strdup): fixed warning
about uninitialized variable.

2014-07-08 Jim Lowe <jhlowe@acm.org>
* swsupplib/misc/swlib.c (swlib_apply_location): fixed for
case of absolute path
* swprogs/swproglib.c (swpl_ls_fileset_from_iscat) <swverify>:
apply directory attribute when transforming the located path
based on the ''location'' attribute.
* swprogs/swinstall.c (main) <swinstall>: fixed use of NULL
pointer at taru_set_tar_header_policy() after call to 
swi_do_decode (introduced c.May 2014).

2014-07-04 Jim Lowe <jhlowe@acm.org>
* swprogs/swinstall_lib.c (arfinstall_tar) <swinstall>:
if linksource is relative path, then do not apply 'location'
(and 'directory') attribute modification.

2014-07-01 Jim Lowe <jhlowe@acm.org>
* swprogs/swcommon0.c (swc_write_source_copy_script) <swcopy>
added test for GNU tar and if true use add --format=pax option
to tar invocation.

2014-06-21 Jim Lowe <jhlowe@acm.org>
* swsupplib/taru/to_oct.h: conditionally define TSVTX which
is now conditionally defined in /usr/include/tar.h in at least
one recent GNU/Linux distro [Slackware 14.1].

2014-06-19 Jim Lowe <jhlowe@acm.org>
* swsupplib/ls_list/gensubs.c (prepend_dotslash) <swverify>:
fixed case for leading slash

2014-06-18 Jim Lowe <jhlowe@acm.org>
* swsupplib/ls_list/gensubs.c (alt_ls_list_to_string) <swverify>:
added LS_LIST_VERBOSE_LINKNAME_PLAIN to fix hard link verification
error
* swprogs/swproglib.c (swpl_make_verify_command_script_fragment)
<swverify>:  support use --hard-derefernce option, check for 
required version of GNU tar.
* swsupplib/ls_list/gensubs.c (print_linkname) <swverify, swlist>:
added case for unadorned rendering of name
* swsupplib/shell_lib/shell_lib.sh (shls_check_for_recent_gnu_gtar): added
* -H pax tar option added just about everywhere

2014-06-16 Jim Lowe <jhlowe@acm.org>
* swstructlib/src/swmetadata/swpackagefile.cxx (apply_file_stats)
<swpackage>: add hard links as a type available for no-stat 
optimization.
* <all files> : replaced ahsStaticSetTarLinkname with
ahsStaticSetPaxLinkname except where reading from tar header field
directory

2014-06-15 Jim Lowe <jhlowe@acm.org>
* swprogs/swpackage.cxx (main) <swpackage>: added -H as the single
letter option for format (same as --format format).
* swsupplib/progs/lxpsf.c (main) <lxpsf>: now default format is pax
when converting to tar format (from RPM cpio archive).

2014-06-14 Jim Lowe <jhlowe@acm.org>
* swprogs/swinstall.c (main) <swinstall>: default format now "pax"
* swprogs/swpackage.cxx (main) <swpackage>: default format now "pax"
* swsupplib/progs/lxpsf.cxx (main) <lxpsf>: respect format by setting
tarheaderflags approprately.
* swsupplib/taru/pcopyin.c (taru_process_copy_in): now invoke
taru_write_archive_member_header instead of taru_write_out_tar_header2
(which has the effect of running through the extended header generator).

2014-06-12 Jim Lowe <jhlowe@acm.org>
* swprogs/swverify_lib.c (swpl_make_verify_command_script_fragment) <swverify>:
support GNU tar named as 'gtar' transparently even though pax_read_command
is set to 'tar'.
* swsupplib/shell_lib/shell_lib.sh (shls_check_for_gnu_gtar): added
* swsupplib/shell_lib/shell_lib.sh (shls_check_for_gnu_tar): added -H pax
as requirement for tar to be recognized as GNU tar

2014-06-08 Jim Lowe <jhlowe@acm.org>
* swsupplib/misc/swpath.c (swpath_parse_path): remove arbitrary length
restriction.

2014-06-08 Jim Lowe <jhlowe@acm.org>
* swsupplib/taru/ahs.c (ahsStaticSetTarname_i): protect from copying itself
onto itself.

2014-06-06 Jim Lowe <jhlowe@acm.org>
* swsupplib/taru/copyout.c (write_exthdrs_xattr_records): added

2014-06-05 Jim Lowe <jhlowe@acm.org>
* swsupplib/taru/otar.c (taru_exatt_override_ustar): added
* swsupplib/taru/taru.c (taru_exatt_init): added
* swsupplib/taru/taru.c (taru_exatt_get_free): added
* swsupplib/taru/taru.c (taru_exattlist_init): added

2014-06-02 Jim Lowe <jhlowe@acm.org>
swsupplib/taru/readinheader.c (taru_read_all_ext_header_records): added
swsupplib/taru/readinheader.c (taru_read_ext_header_record): added


2014-05-26 Jim Lowe <jhlowe@acm.org>
* swsupplib/taru/copyout.c (write_exthdrs_records): truncate values to fit
in plain ustar header. swpackage can now write archives with extended headers.

2014-05-23 Jim Lowe <jhlowe@acm.org>
* swprogs/swcommon0.c (swc0_set_arf_format): support "pax" and "posix" format names
* swsupplib/taru/mtar.c (taru_is_tar_linkname_too_long): support pax headers
* swsupplib/taru/mtar.c (taru_is_tar_filename_too_long): support pax headers
* swsupplib/taru/copyout.c (taru_write_archive_member_header): fix pax headers
* swprogs/swpackage.cxx (main): support "pax" as format name

2014-05-13 Jim Lowe <jhlowe@acm.org>
* swsupplib/taru/otar.c (taru_get_pax_group_by_gid): added
* swsupplib/taru/otar.c (taru_get_pax_user_by_uid): added
* swsupplib/taru/otar.c (taru_set_sysdb_nameid_by_policy): added
* swsupplib/taru/copyout.c (taru_fill_exthdr_usage_mask): added
* swsupplib/taru/copyout.c (write_exthdrs_records): added
* swsupplib/taru/copyout.c (construct_exthdr_record): added
* swsupplib/taru/copyout.c (taru_write_archive_member_header):
support writing PAX extended headers.


2014-05-11 Jim Lowe <jhlowe@acm.org>
* swsupplib/taru/etar.c: extricate dependence on TARU object.
* swsupplib/taru/otar.c (taru_split_name_ustar): remove TARU
from parameter to function 
* swsupplib/taru/taru.c (taru_set_tar_header_policy); added
support for format "posix", "pax".


2014-04-27 Jim Lowe <jhlowe@acm.org>
* swprogs/swinstall.c (main) <swinstall>: added option --format,H
* swprogs/swinstall_lib.c <swinstall> (send_files_with_no_storage):
support hard links with long link name;
* swsupplib/taru/copyout.c  (taru_write_archive_member_header):
support hard links with long link name;
* swsupplib/taru/ahs.c (void ahs_set_linkname): squash warning message
* swsupplib/taru/mtar.c (taru_is_tar_linkname_too_long): added
* swsupplib/taru/otar.c (taru_write_out_tar_header2): support hard links
with long names
* swsupplib/taru/taru.h (TARU_HE_LINKNAME_4): added special case return value

2014-04-21 Jim Lowe <jhlowe@acm.org>
* swprogs/swverify_lib.c (write_summary_report> <swverify>: formatting
changes

2014-04-18 Jim Lowe <jhlowe@acm.org>
* swprogs/swverify_lib.c (write_rpmv_output_line> <swverify>: added
* swprogs/swverify_lib.c (compare_diff) <swverify>: now support
rpm-like eight character string report form
* swprogs/iswverify.c (main) <swverify>: option --report-format=FORM added
* swprogs/iswverify.c (main) <swverify>: option --no-prelink added


2014-04-16 Jim Lowe <jhlowe@acm.org>
* swprogs/swcommon0.h: added SWBIS_TS_Get_prelink_filelist
* swprogs/swproglib.c (swpl_run_get_prelink_filelist) <swverify>: added
* swsupplib/shell_lib/shell_lib.sh (shls_v_looper): added
* swsupplib/progs/lxpsf.c (main) <lxpsf>: support writing to disk file,
instead of just stdout.
* swprogs/swverify_lib.c (swverify_v_looper_prelink_md5_func) <swverify>: added.

2014-04-16 Jim Lowe <jhlowe@acm.org>
* swsupplib/misc/rpmpsf.c (rpmpsf_write_file_psf) <lxpsf>:
(Re: RPM translation) Fixed sticky bit being dropped in file mode

2014-04-11 Jim Lowe <jhlowe@acm.org>
* swsupplib/taru/copyout.c  (taru_write_archive_member_header):
re-worked to better support GNU longlink type tar headers.
* swsupplib/taru/copyout.c  (taru_write_archive_member):
re-worked to better support GNU longlink type tar headers.
* swsupplib/taru/copyout.c (taru_process_copy_out):
re-worked to better support GNU longlink type tar headers.
* swsupplib/taru/otar.c (taru_read_in_tar_header2):
re-worked to better support GNU longlink type tar headers.
* swsupplib/taru/taru.c (taru_read_pax_data_blocks): addded

2014-04-04 Jim Lowe <jhlowe@acm.org>
* swsupplib/taru/ahs.c (ahsStaticSetTarLinkname): now doesn't assume NUL
terminated string.

2014-04-02 Jim Lowe <jhlowe@acm.org>
* swprogs/swlist.c (main) <swlist>: Conditionally shutdown logger only if it
was forked; This fixed an exit 137 error when listing a distribuion tarball.

2014-04-02 Jim Lowe <jhlowe@acm.org>
* swprogs/swlist.c (main) <swlist>: fixed error path that never terminated
for case of listing a directory with ''-d'' option (i.e. as a  distribution).

2014-04-02 Jim Lowe <jhlowe@acm.org>
* swprogs/iswverify.c (main) <swverify>: display package identifying
information when processing many packages from selecion wildcard
for verbose level 1.

2014-03-31 Jim Lowe <jhlowe@acm.org>
* swsupplib/misc/swicat_e.c (swicat_e_open_catalog_tarball):
Now check for TRAILER!!! indicating end of archive.  Fixes
hang when taru_read_in_tar_header2 read two NUL EOA blocks.
* swsupplib/taru/otar.c (taru_read_in_tar_header2): Revert part
of 2014-03-28 changes.  Now two null blocks are definitely read,
extra null blocks remain (un-read) as historically were.

2014-03-30 Jim Lowe <jhlowe@acm.org>
* swsupplib/misc/topsf.c (topsf_search_list) <lxpsf>:
support special case of comparing "./" to "/" and treat as same
* swsupplib/misc/swlib.c (swlib_toggle_leading_dotslash):
test to avoid squashing the string to zero length
* swstructlib/src/swmetadata/swmetadata.cxx (getModeFromFileType) <swpackage>: added
* swstructlib/src/swmetadata/swmetadata.cxx (fileStats2statbuf) <swpackage>: added
* swstructlib/src/swmetadata/swmetadata.cxx (getModeFromFileType) <swpackage>: added
swstructlib/src/swmetadata/swpackagefile.cxx (check_no_stat_optimization) <swpackage>: added
* swstructlib/src/swmetadata/swpackagefile.cxx (apply_file_stats) <swpackage>:
modified, now check if sufficient file attributes are
provided in the PSF to avoid calling stat().
* swstructlib/src/swmetadata/swmetadata.cxx (getModeFromFileType) <swpackage>: added
* swstructlib/src/swmetadata/swmetadata.cxx (fileStats2statbuf) <swpackage>: added
* swstructlib/src/swmetadata/swmetadata.cxx (swmetadata_decode_file_stats) <swpackage>:
Now conditionally call readlink to obtain the linksource attribute only if it is not
given in the PSF.

2014-03-28 Jim Lowe <jhlowe@acm.org>
* swsupplib/swi/swi.c (swi_decode_catalog): Fix reporting of
file position and EOA blocks for packages with empty fileset,
i.e. no files in storage section.
* swsupplib/taru/otar.c (taru_read_in_tar_header2): Now correctly
read and record End-of-archive blocks, still require only
one (1) nul block but report subsequent blocks that are non-nul.

* swsupplib/taru/xformat.c (xformat_get_next_dirent): transfer
value of swvarfs->oeaM to xformat->eoaM.

2014-03-27 Jim Lowe <jhlowe@acm.org>
* swstructlib/src/swexport/swobjfiles_i.h (processCatalogFile) <swpackage>:
Fixed possible use of free'd memory

2014-03-23 Jim Lowe <jhlowe@acm.org>
* bin/testforgnupg.sh: added support for gnupg version 2.0
and higher
* swprogs/swinstall.c (main) <swinstall>: added options
 --nodeps --nosignature  --enforce-all-signatures 
* swprogs/swproglib.c (swpl_signature_policy_accept) <all utilites>
added support for a --sig-level=-1 meaning all signatures and the
new option --enforce-all-signatures
* swsupplib/misc/rpmpsf.c (rpmpsf_write_psf_files) <lxpsf>: fixed
special case for a RPM with no files.

2014-03-22 Jim Lowe <jhlowe@acm.org>
* swprogs/swinstall.c (main) <swinstall>: removed the
'f_retval++' line from the NOT_COMPATIBLE case to fix
a bash process from being left alive after program end.

2014-03-21 Jim Lowe <jhlowe@acm.org>
* swprogs/iswverify.c (main) <swverify>: added line 
swlex_set_input_policy(SWLEX_INPUT_UTF_TR) to prevent
hard exit when reading non-UTF-8 input in a INFO or INDEX
file in installed software.

2014-03-18 Jim Lowe <jhlowe@acm.org>
* swprogs/swinstall_lib.c <swinstall> (arfinstall):
Now the linksource is made to respect location (verison ID l=location)
version id.

2014-03-17 Jim Lowe <jhlowe@acm.org>
* swprogs/swverify.sh.inh <swverify>: fix --shell-command option
* swprogs/swverify.sh.inh <swverify>: fix --remote-shell option

2014-03-17 Jim Lowe <jhlowe@acm.org>
* swsupplib/shell_lib/shell_lib.sh <swremove> (shls__cleansh):
changed ''ps -awx'' to ''ps awx'' for broader OS coverage.

2014-03-15 Jim Lowe <jhlowe@acm.org>
* Tested on Oracle Solaris 11.1

2014-03-15 Jim Lowe <jhlowe@acm.org>
* bin/checkdigest.sh <swverify>: Added check for use of GNU diff
on Oracle Solaris (11.1) as work-around for broken non-gnu diff
(which seemed to care if one of its file arguments is a FIFO)

2014-03-12 Jim Lowe <jhlowe@acm.org>
* swsupplib/uinfile/uinfile.c (uinfile_i_open): added support for
xz compression in a .deb file

2014-03-12 Jim Lowe <jhlowe@acm.org>
* swsupplib/misc/rpmpsf.c (rpmpsf_write_file_psf) <lxpsf>: regarding
RPM translation, now files that are not in the archive are marked as
volatile (is_volatile true) in the PSF file constructed by lxpsf.
* swsupplib/misc/rpmpsf.c (rpmpsf_write_file_psf) <lxpsf>: fix handling
of RPMTAG_DEFAULTPREFIX (1056).

2014-03-11 Jim Lowe <jhlowe@acm.org>
* swprogs/swpackage.cxx (main) <swpackage>: --no-construct-missing added
for back-compatibility with version 1.11 regarding RPM translation.
* swprogs/swpackage.cxx (main) <swpackage>: [RPM Translation] Now
applies --construct-missing-files to invocation of lxpsf
* swsupplib/progs/lxpsf.c (main) <lxpsf>: --construct-missing-files added
* swsupplib/misc/topsf.c <lxpsf>:  improvement to RPM translation to create
files that are in the Header but missing from archive.
* swsupplib/misc/rpmpsf.c <lxpsf>: improvement to RPM translation
* swsupplib/strob/strob.c <[all programs]>: improved character array
implementation used in topsf.c.

2014-03-09 Jim Lowe <jhlowe@acm.org>
* swsupplib/taru/taruib.h: error code clean-up
* swsupplib/taru/taruib_i.c (taruib_write_signedfile_if) <swverify>:
swlib_wait_on_all_pids() was improperly invoked with flags=WNOHANG.
This fixes random hang (which probably was rare on Linux kernels).

2014-03-06 Jim Lowe <jhlowe@acm.org>
* swsupplib/misc/swcommon_options.h (struct extendedOptions optionsArray):
Fixed ''swbis_any_format'' option to work with more utilities
* swprogs/swinstall.c (main) <swinstall>: --help fixes
* swprogs/swlist.c (main) <swlist>: --help fixes
* swprogs/swremove.c (main) <swremove>: --help fixes
* swprogs/iswverify.c (main) <swverify>: --help fixes
* swprogs/swconfig.c (main) <swconfig>: --help fixes

2014-03-03 Jim Lowe <jhlowe@acm.org>
* swsupplib/progressmeter/atomicio.c (timed_atomic_read5): added
* swsupplib/progressmeter/atomicio.c (timed_atomicio): modified,
and now used in one location
* swsupplib/misc/swlib.c (swlib_synct_read): added code to handle
cause of program (swlinstall, swlist, et.al) hanging when accessing
the catalog.
* swsupplib/misc/swlib.c (synct_check_for_possible_eof): Now handles
case of mangled TRAILER string

2014-03-03 Jim Lowe <jhlowe@acm.org>
* swprogs/swinstall_lib.c (arfinstall_tar) <swinstall>:
improve warning messages pertaining to missing files.
* swprogs/swinstall.c (main) <swinstall>: added
--allow-missing-files option

2014-02-18 Jim Lowe <jhlowe@acm.org>
* swprogs/swinstall.c (main) <swinstall>: option --no-chdir-for-scripts
added as a compatibility option with version 1.11 and prior.

2014-02-17 Jim Lowe <jhlowe@acm.org>
* swprogs/swproglib.c (form_entry_names) <all utilities
except swpackage>: fix support for absolute path for installed
software location.
* swsupplib/misc/swicat_e.c (swicat_e_form_catalog_path)  <all utilities
except swpackage>: fix support for absolute path for installed
sofware location.
* swprogs/swproglib.c (swpl_unpack_catalog_tarfile): now check
error status of "cd export\n"
* swprogs/swproglib.c (swpl_remove_catalog_directory): now check
error status of "cd export\n"

2014-02-16 Jim Lowe <jhlowe@acm.org>
* doc/source/swinstall_8.sgml: updated
* doc/source/swpackage_8.sgml: updated
* Documentation rebuilt on Slackware 14.0 box. 

2014-02-10 Jim Lowe <jhlowe@acm.org>
* swprogs/swinstall.c (main) <swinstall> added --reinstall option
* swprogs/swinstall.c (main) <swinstall> added --enforce-scripts option
* swprogs/swinstall_lib.c (contruct_controlsh_script) <swinstall> support
setting the interpreter attribute in a control_script in a PSF.
* swprogs/swinstall_lib.c (contruct_controlsh_script) <swinstall> Now
export SW_CONTROL_DIRECTORY, also fixed the value of SW_CATALOG.
* swprogs/swproglib.c (contruct_script_cases) <swinstall> Fixed use of
enforce_scripts attribute. Now a script error shows up as exit status.
* swsupplib/swi/swi.c (find_swdef_in_INFO) <swinstall>: NEW
* swsupplib/swi/swi_afile.c (get_attribute_from_INFO_object) <swinstall>: NEW

2014-01-22 Jim Lowe <jhlowe@acm.org>
* swprogs/swpackage.cxx (main) <swpackage> Now support
a regular file as an output target.

2014-01-01 Jim Lowe <jhlowe@acm.org>
* swsupplib/misc/swlib.c (swlib_append_synct_eof) <swlist et.al>
Now render ''TRAILER!!!\r\n\r\n'' with a single printf command.
This fixes brokeness (in swlist) when shell-command is pdksh or mksh;
bash and ksh(att93) worked OK. (Don't know who is right or wrong or if
behavior is undefined).

2014-01-01 Jim Lowe <jhlowe@acm.org>
* swprogs/swlist.c (main) <swlist>
Improved completeness of --help output.

2014-01-01 Jim Lowe <jhlowe@acm.org>
* PSF.bin.in
Added missing documentation files

2013-04-13 Jim Lowe <jhlowe@acm.org>
* doc/: documentation generated on a Slackware14 box.

2013-04-03 Jim Lowe <jhlowe@acm.org>
* swsupplib/uinfile/uinfile.c (uinfile_i_open): fixed support for old
  Unix compress (i.e. the .Z suffix).
* swsupplib/uinfile/uinfile.h: removed zcat_cmdM structure member.
* swprogs/swpackage.cxx (main) <swpackage>: add --recompress option

2013-03-27 Jim Lowe <jhlowe@acm.org>
* bin/checkdigest.sh <checkdigest.sh>: fix support for latest version
of openssl
* swprogs/iswverify.c <swverify>: support verifying all signatures
* swprogs/swinstall.c: support sig-level with value
of ``-1'' meaning check all signatures.
* swprogs/swpackage.cxx (main) <swpackage>: add options
to support re-signing, adding a signature and removing
a signature.
* swprogs/swproglib.c (swpl_check_package_signatures):
fully support multiple signatures where -1 means all, 0
means last, N means Nth.
* swprogs/swverify.sh.in <swverify>: fully support
multiple signatures.
* swprogs/swverify_lib.c (swverify_looper_sr_payload) <swverify>:
SECURITY FIX: Only decode catalog if signature checks pass.
* swsupplib/misc/swgpg.c (swgpg_determine_signature_status):
support multiple signatures.
* swsupplib/progs/arf2arf.c (main) <arf2arf>: add option -N
* swsupplib/misc/swutillib.c (swutil_setup_xformat): allow
NULL parameter ``opta'' for use in contexts where there is no
opta.
* swsupplib/progs/swbistar.c (main) <swbistar>: allow opening
a regular file.
* swsupplib/swi/swi.c: protect use of NULL pointer that was
never NULL.
* swsupplib/taru/taru.h <TARU_BUFSIZ>: now set to 8192
instead of pulling from system value in ''BUFSIZ''
* swsupplib/taru/to_oct.h: removed pre-processor definitions
that were causing compiler warnings.
* swsupplib/tests/testdig2.sh <testdig2.sh>: now support
new version of openssl (which changed its adornment style when
reporting ascii digests).
* swsupplib/uinfile/uinfile.c: added support for contruction
of a "re-compress it" command based on its un-compressing 
of a compressed stream.

2013-02-22 Jim Lowe <jhlowe@acm.org>
* swprogs/intsizes.c (main): Fixed reporting of ULONG_MAX
and LONG_MAX (This program is only a test program and has
no effect on other programs.

2012-05-21 Jim Lowe <jhlowe@acm.org>
* swsupplib/misc/swicat.c (swicat_write_isc_script):
FIX a generated syntax error when nil (empty) query specs
are used such a ``swremove -p @ /''.  This generated a
bash syntax error, now fixed.

2012-04-09 Jim Lowe <jhlowe@acm.org>
* swsupplib/taru/xformat.c (xformat_copy_pass_md5): FIX
potential (never realized) use of uninitialized pointer.

2011-04-23 Jim Lowe <jhlowe@acm.org>
* VERSION now 1.11

2011-04-22 Jim Lowe <jhlowe@acm.org>
* swprogs/swpackage.cxx (main) <swpackage>: FIX use
of swlib_wait_on_all_pids() 
* swsupplib/misc/debpsf.c (debpsf_write_psf_buf) <swpackage>: FIX segfault
(use of null pointer) for .deb packages without release attribute.
* swsupplib/uinfile/uinfile.c (uinfile_i_open): add support for
lzma compressed data file in a .deb package

2011-04-15 Jim Lowe <jhlowe@acm.org>
* VERSION now 1.10

2011-04-15 Jim Lowe <jhlowe@acm.org>
* swprogs/swpackage.cxx (main) <swpackage>: fix translation
mode which was busted by v1.9 (change 2011-01-19).

2011-02-12 Jim Lowe <jhlowe@acm.org>
* swprogs/swpackage.cxx (main) <swpackage>: fix the verbosity
setting's (-v) interaction with swdefaults file specification.

2011-01-19 Jim Lowe <jhlowe@acm.org>
* VERSION now 1.9

2011-01-19 Jim Lowe <jhlowe@acm.org>
* swprogs/swpackage.cxx (main) <swpackage>: prevent use of
tty passphrase entry when using the '--to-swbis' tranlation mode.

2011-01-19 Jim Lowe <jhlowe@acm.org>
* swprogs/swinstall.c (main) <swinstall>: FIX to-stdout  (i.e. `swinstall @-')
operation which was busted by version 1.8

2011-01-16 Jim Lowe <jhlowe@acm.org>
* VERSION now 1.8

2011-01-16 Jim Lowe <jhlowe@acm.org>
* swprogs/swpackage.cxx (get_package_signature) <swpackage>: set verbosity to 1 in
child process to stop double listing to stderr the packaged files

2011-01-15 Jim Lowe <jhlowe@acm.org>
* swprogs/swproglib.c (swpl_unpack_catalog_tarfile): adjusted
verbosity threshold.

2011-01-15 Jim Lowe <jhlowe@acm.org>
* VERSION now 1.8pre3

2011-01-15 Jim Lowe <jhlowe@acm.org>
* swsupplib/swi/swi.c (swi_find_compatible_product): fixed for
case of no compatible found.
* swsupplib/swi/swi.c (swi_audit_all_compatible_products): added (factored
from swi_find_compatible_product)
* swprogs/swinstall.c (main) <swinstall>: use swi_audit_all_compatible_products as
replacement for swi_find_compatible_product

2011-01-15 Jim Lowe <jhlowe@acm.org>
* VERSION now 1.8pre2

2011-01-15 Jim Lowe <jhlowe@acm.org>
* swsupplib/misc/swlib.c (swlib_append_synct_eof): more fixes
to prevent hang and odd number of blocks being written

2011-01-14 Jim Lowe <jhlowe@acm.org>
* VERSION now 1.8pre1

2011-01-09 Jim Lowe <jhlowe@acm.org>
* swprogs/iswverify.c (main) <swverify>: error handling fixes
* swprogs/swverify_lib.c (swverify): error path fixes

2011-01-08 Jim Lowe <jhlowe@acm.org>
* swprogs/swlist.c (main) <swlist>: error handling fixes
* swprogs/swlist_lib.c (swlist_looper_sr_payload) <swlist>: error handling fixes
* swprogs/swconfig_lib.c (swlist_looper_sr_payload) <swconfig>: error handling and
error path fixes
* swprogs/swconfig_lib.c (looper_locked_region) <swconfig>: added 'sleep 2'
to the error path of the last event.
* swprogs/swlist_lib.c (looper_locked_region) <swlist>: added 'sleep 2' to
the error path of the the last event.
* swprogs/swremove_lib.c (looper_locked_region) <swremove>: added 'sleep 2' to
the error path of the the last event.
* swprogs/swremove_lib.c (swlist_looper_sr_payload) <swremove>: error handling fixes

2011-01-07 Jim Lowe <jhlowe@acm.org>
* swsupplib/misc/swlib.c (swlist_wait_on_all_pids_with_timeout): added

2011-01-02 Jim Lowe <jhlowe@acm.org>
* swprogs/swconfig.c <swconfig>: fix error handling to avoid segfault
* swprogs/swconfig_lib.c <swconfig>: fix error handling to avoid segfault
* swsupplib/misc/swicat_e.c: fix error handling to avoid segfault

2011-01-02 Jim Lowe <jhlowe@acm.org>
* swprogs/iswverify.c (swverify): added dummy guard events
* swprogs/swlist.c <swlist>:  added dummy guard events
* swprogs/swinstall_lib.c <swinstall>:  added dummy guard events
* swprogs/swconfig_lib.c <swconfig>:  added dummy guard events
* swprogs/swremove_lib.c <swremove>:  added dummy guard events
* swsupplib/shell_lib/shell_lib.sh (shls__cleansh): add 2>/dev/null

2011-01-01 Jim Lowe <jhlowe@acm.org>
* swsupplib/misc/swlib.c (swlist_synct_suck): re-wrote 
* swsupplib/misc/swlib.h: new SYNCT struct
* swsupplib/misc/swicol.c (print_task_script): syntax fix
for new version of swlib_synct_suck().

2010-12-18 Jim Lowe <jhlowe@acm.org>
* VERSION now 1.7

2010-12-18 Jim Lowe <jhlowe@acm.org>
* swsupplib/swi/swi.c (swi_make_file_list): remove fatal error
in case of no compatible product found, now just warn.
* PSF.bin.in: add swconfig binary to /usr/bin/
* swsupplib/shell_lib/shell_lib.sh (shls__cleansh): add 2>/dev/null

2010-12-17 Jim Lowe <jhlowe@acm.org>
* swprogs/swproglib.c (parse_ls_ld_output): Support 'bsdtar' ls listing
(bsdtar from libarchive-2.8.4)
* swprogs/swproglib.c (swpl_get_catalog_perms): now set default
values if parse_ls_ld_output() fails.

2010-12-15 Jim Lowe <jhlowe@acm.org>
* swsupplib/taru/etar.c (etar_emit_data_from_buffer):
fixed calculation of file block padding.
* swsupplib/taru/etar.c (etar_emit_data_from_fd):
fixed calculation of file block padding.
* swprogs/swproglib.c (swpl_get_whole_block_size): corrected
* swsupplib/shell_lib/shell_lib.sh (shls_write_cat_ar): now support
systems that have neither GNU tar nor pax by adding fall back code
using traditional tar capabilities.
* swprogs/swproglib.c (parse_ls_ld_output): Support 'star' ls listing
format which places the file at the beginning of the line.

2010-12-06 Jim Lowe <jhlowe@acm.org>
* swsupplib/misc/swverid.c (get_object_by_swverid): optimization fix

2010-12-05 Jim Lowe <jhlowe@acm.org>
* swprogs/swlist.c: Feature development
* swsupplib/misc/swlib.c (swlib_synct_read): FIXED,
affects all utilities except swpackage
* swsupplib/misc/swlib.c (swlib_append_synct_eof): added 'ibs=%s'

2010-11-27 Jim Lowe <jhlowe@acm.org>
* swsupplib/shell_lib/shell_lib.sh (shls_apply_socspec): emit
corrupt package info on stderr instead of silently not listing
* swprogs/swlist_lib.c (swlist_looper_sr_payload): adjusted calculation
of ls_verbose variable as function of command line verbosity (-v option).

2010-10-31 Jim Lowe <jhlowe@acm.org>
* swsupplib/misc/swlib.c: (swlib_pad_amount): improved error message

2010-09-07 Jim Lowe <jhlowe@acm.org>
* VERSION now 1.6

2010-09-07 Jim Lowe <jhlowe@acm.org>
* swprogs/swlist.c (safe_sig_handler) <swlist>: limit SIGPIPE
stderr message to one.

2010-09-06 Jim Lowe <jhlowe@acm.org>
* VERSION now 1.6pre5

2010-09-06 Jim Lowe <jhlowe@acm.org>
* swsupplib/shell_lib/shell_lib.sh (shls_apply_socspec):
add SW_SELECTION_NOT_FOUND message
* swsupplib/misc/swicat.c (write_query_blob):
support addition of SW_SELECTION_NOT_FOUND message to
shls_apply_socspec

2010-09-04 Jim Lowe <jhlowe@acm.org>
* VERSION now 1.6pre4

2010-09-04 Jim Lowe <jhlowe@acm.org>
* VERSION now 1.6pre2

2010-09-04 Jim Lowe <jhlowe@acm.org>
* swprogs/swcommon.c (swc_make_absolute_path): added
* swsupplib/shell_lib/shell_lib.sh (shls_make_dir_absolute): added
* swprogs/swinstall_lib.c (write_target_install_script) <swinstall>: use shls_make_dir_absolute
* swprogs/swinstall.c (main) <swinstall>: use swc_make_absolute_path
* swprogs/swlist_lib.c (swlist_write_source_copy_script2) <swlist>:
support relative target path
* swprogs/swlist.c (main) <swlist>: support relative paths
* swprogs/swremove_lib.c (remove_files) <swremove>: set target_path
in call to swicol_rpsh_task_send_script2
* swprogs/swremove_lib.c (swremove_write_source_copy_script2): support
relative target path
* swprogs/swremove.c (main) <swremove>: support relative target path
* swprogs/iswverify.c (main) <swverify>: support relative target path
* swprogs/swverify_lib.c (swverify_write_source_copy_script2) <swverify>:
support relative target path

2010-09-04 Jim Lowe <jhlowe@acm.org>
* VERSION now 1.6pre1

2010-09-03 Jim Lowe <jhlowe@acm.org>
* swsupplib/misc/swicat.c (swicat_write_isc_script): now
chdir (cd) to the installed_software_catalog path and
check for success.
* swprogs/swproglib.c (swpl_get_catalog_entries): now
set target_path as swicol directory, instead of combination
of target_path and installed_software_catalog path.

2010-08-22 Jim Lowe <jhlowe@acm.org>
* swprogs/swinstall.c (main) <swinstall>: fixed seg fault
(use of null pointer) for multiple targets with non-existent
source archive.

2010-08-08 Jim Lowe <jhlowe@acm.org>
* swprogs/swlist_lib.c (swlist_looper_sr_payload) <swlist>:
only retrieve the files archive for the mode PMODE_FILE.

2010-08-06 Jim Lowe <jhlowe@acm.org>
* swprogs/swlist_lib.c (write_annex_date_attribute) <swlist>: added
* swprogs/swlist_lib.c (write_annex_attributes) <swlist>: added

2010-08-04 Jim Lowe <jhlowe@acm.org>
* swprogs/swlist_lib.c (swlist_blist_get_next_attr) <swlist>: added
* swprogs/swlist_lib.c (swlist_blist_attr_add) <swlist>: added

2010-08-01 Jim Lowe <jhlowe@acm.org>
* swprogs/swlist.c (main) <swlist>: development of new features for
listing attributes
* swprogs/swlist_lib.c <swlist>: development of new features

2010-08-01 Jim Lowe <jhlowe@acm.org>
* swsupplib/strob/strob.c (strob_chr_index): fixed for binary strings.

2010-07-29 Jim Lowe <jhlowe@acm.org>
* swsupplib/misc/swheader.c (swheader_get_attribute_in_object):
renamed to swheader_get_attribute_in_current_object

2010-07-28 Jim Lowe <jhlowe@acm.org>
* swsupplib/sw_parse/Makefile.in: Now UXDATE=20100728 for
pre-compiled parser/lexer files.
* swsupplib/sw_parse/swlex.l (swlex_get_input_policy): added
* swsupplib/sw_parse/swlex.l (swlex_set_input_policy): added

2010-07-26 Jim Lowe <jhlowe@acm.org>
* swprogs/swlist_lib.c (write_index_format_from_iscat): added
* swprogs/swlist.c (main) <swlist>: add suppport for INDEX
format listing (-v mode).

2010-07-25 Jim Lowe <jhlowe@acm.org>
* swprogs/swpackage.cxx (main) <swpackage>: FIXED --signer-pgm
option

2010-07-23 Jim Lowe <jhlowe@acm.org>
* VERSION now 1.5.0.111

2010-07-21 Jim Lowe <jhlowe@acm.org>
* swprogs/swinstall.c (main): fixes for preview mode
* swprogs/swinstall_lib.c (main): fixes for preview mode

2010-07-20 Jim Lowe <jhlowe@acm.org>
* swsupplib/misc/swicol.c (print_task_script): fixed printf() format
inconsistency (%d for %s) for the error-and-exit case

2010-07-19 Jim Lowe <jhlowe@acm.org>
* VERSION now 1.5.0.107

2010-07-17 Jim Lowe <jhlowe@acm.org>
* swprogs/swinstall_lib.c (report_file_conflicts): added
* swprogs/swinstall_lib.c (swinstall_analyze_overwrites): added
* swprogs/swinstall_lib.c (write_target_install_script): added
SWBIS_TS_check_OVERWRITE
* swprogs/swinstall.c (main): now check for file that will overwrite
files in the file system
* swprogs/swinstall.c (main): --replacefiles option added
* swprogs/swinstall.c (main): --keepfiles option added
* swprogs/swinstall.c (main): swbis_replacefiles extended option added

2010-07-13 Jim Lowe <jhlowe@acm.org>
* swprogs/swproglib.c <swinstall> (swpl_run_check_overwrite): added

2010-07-13 Jim Lowe <jhlowe@acm.org>
* swprogs/swinstall.c <swinstall> (main): prevent use preview
such as 'swinstall -p -s foo.tar @ /' from remove the catalog
entry.

2010-06-27 Jim Lowe <jhlowe@acm.org>
* swstructlib/src/swmetadata/swpackagefile.h (xFormat_apply_swdef_stats) <swpackage>
Fix ability to specify arbitrary uname/uid pairs in a PSF
* swprogs/swcommon.c (swc_get_pax_read_command): fixed wrt --keep-old-files

2010-06-27 Jim Lowe <jhlowe@acm.org>
* swstructlib/src/swmetadata/swextendeddef.h (parse_name_id_string) <swpackage>
Fixed long standing inability to set arbitrary ownership names and ids in
a tar archive.

2010-06-25 Jim Lowe <jhlowe@acm.org>
* swstructlib/src/swmetadata/swextendeddef.h (bound_value) <swpackage>
handle case of -o owner, meaning look up the uid in the system db.
* swstructlib/src/swmetadata/swextendeddef.h (parse_FileOpts) <swpackage>
handle case of -o owner, meaning look up the uid in the system db.

2010-06-21 Jim Lowe <jhlowe@acm.org>
* swsupplib/misc/swvarfs.c (stat_node): improved to handle
multiple levels of symbolic links.

2010-06-19 Jim Lowe <jhlowe@acm.org>
* swprogs/swpackage.cxx (main) <swpackage>: Now support
follow_symlinks extended option.
* swstructlib/src/swexport/swobjfiles_i.h (processCatalogFile):
use swvarfs_get_stat_syscall
* swsupplib/misc/swvarfs.c (swvarfs_get_stat_syscall): added
* swstructlib/src/swmetadata/swextendeddef.h (processRecursiveFile) <swpackage>
respect follow_symlinks extended option

2010-04-02 Jim Lowe <jhlowe@acm.org>
* swsupplib/swi/swi.c (swi_decode_catalog): guard against use of NULL
pointer for the case of a malformed package.

2010-03-18 Jim Lowe <jhlowe@acm.org>
* swsupplib/misc/: remove unused variables
* swsupplib/swi/: remove unused variables
* swsupplib/taru/: remove unused variables
* swproglib/: remove unused variables

2010-03-16 Jim Lowe <jhlowe@acm.org>
* VERSION now 1.5

2010-03-16 Jim Lowe <jhlowe@acm.org>
* upgraded release autotools to 1.11.1, 2.65, m4-1.4.14

2010-03-12 Jim Lowe <jhlowe@acm.org>
* swprogs/swproglib.c (swpl_get_catalog_perms): added redirect 2>/dev/null

2010-03-11 Jim Lowe <jhlowe@acm.org>
* swprogs/swproglib.c (swpl_set_detected_catalog_perms): turn
off setuid and setgid for regular files in the catalog

2010-03-10 Jim Lowe <jhlowe@acm.org>
* swprogs/swproglib.c (swpl_write_single_file_tar_archive): now use ahs
object, if given, to set the file owners and permissions.

2010-03-07 Jim Lowe <jhlowe@acm.org>
* swprogs/swproglib.c (swpl2_normalize_configure_script_results): added
* swprogs/swconfig_lib.c (swconfig_looper_sr_payload) <swconfig>: use
swpl2_normalize_configure_script_results(). 

2010-03-04 Jim Lowe <jhlowe@acm.org>
* swsupplib/sw_parse/swlex.l: now allow dot-delimited keywords
* swsupplib/sw_parse/swlex.l: now emit warning for unmatched input
* swsupplib/sw_parse/swlex.c.20100304: added
* swsupplib/sw_parse/swparse.tab.h.20100304: added
* swsupplib/sw_parse/swparse.tab.c.20100304: added

2010-02-27 Jim Lowe <jhlowe@acm.org>
* swsupplib/misc/swverid.c (parse_swspec_string): fix use of NUL pointer

2010-02-23 Jim Lowe <jhlowe@acm.org>
* swsupplib/progs/lxpsf.c (main) <lxpsf>: make --psf-form3 the
default form

2010-02-23 Jim Lowe <jhlowe@acm.org>
* swsupplib/misc/topsf.c (parse_slack_desc): now expand escapes
* swstructlib/src/swmetadata/swextendeddef.h (processExcludes) <swpackage>
added special case fixes for excluding ".", ie. the root directory
entry but not its contents.

2010-02-22 Jim Lowe <jhlowe@acm.org>
* VERSION now 1.5rc2

2010-02-21 Jim Lowe <jhlowe@acm.org>
* VERSION now 1.5rc1

2010-02-22 Jim Lowe <jhlowe@acm.org>
* swsupplib/uinfile/uinfile.c (uinfile_i_open): protect lseek() calls
from using uxfio descriptor.

2010-02-21 Jim Lowe <jhlowe@acm.org>
* VERSION now 1.4.133

2010-02-20 Jim Lowe <jhlowe@acm.org>
* swsupplib/uxfio/uxfio.c (uxfio_devnull_open): added
* swsupplib/uxfio/uxfio.c (uxfio_devnull_close): added
* Changes to common files to consolidate open() calls on "/dev/null"
(potentially affects all utilities)

2010-02-20 Jim Lowe <jhlowe@acm.org>
* swsupplib/taru/otar.c (l_cache_getuidbyname): added, to reduce
the number of opens on /etc/passwd, etc
* swsupplib/taru/otar.c (l_cache_getgidbyname): added, to reduce
the number of opens on /etc/group, etc

2010-02-20 Jim Lowe <jhlowe@acm.org>
* VERSION now 1.4.131

2010-02-20 Jim Lowe <jhlowe@acm.org>
* swsupplib/misc/swlib.c (swlib_is_option_true): fixed

2010-02-20 Jim Lowe <jhlowe@acm.org>
* VERSION now 1.4.130

2010-02-20 Jim Lowe <jhlowe@acm.org>
* swprogs/iswverify.c (main): fix errror reporting issue
that does (may) hide a failed verification when verifying multiple
selections on a host such as ``swverify --allow-ambig \* @ /''
* swprogs/swproglib.c (swpl_load_single_status_value): added
* swprogs/swproglib.c: support sig_level of -1 meaning don't even
run gpg
* swprogs/swinstall.c (main) <swinstall>: added --slackware option
to support detection and installation of slackware binary packages.
* swprogs/swlist.c (main) <swlist>: support negative --sig-level meaning
do not run gpg
* swprogs/iswverify.c (main) <swverify>: support negative --sig-level meaning
do not run gpg
* swsupplib/misc/swutillib.c (swutil_setup_xformat): support
slacware binary package translation.
* swsupplib/misc/swvarfs.c (swvarfs_opendup_with_name): added
* swsupplib/misc/topsf.c (topsf_parse_slack_pkg_name): support
target host syntax when parsing name for NAME, VERSION, RELEASE info.
* swsupplib/progs/lxpsf.c (main) <lxpsf>: add --slackware-pkg-name=NAME 
to support reading slackware runtime tarballs on stdin.
* swsupplib/taru/xformat.c (xformat_open_archive_by_fd_and_name): added
* swsupplib/uinfile/uinfile.c (uinfile_i_open): added slack_name parameter

2010-02-18 Jim Lowe <jhlowe@acm.org>
* VERSION 1.4.128
added support for slackware translation from swinstall

2010-02-14 Jim Lowe <jhlowe@acm.org>
* swprogs/swverify_lib.c (compare_diff) <swverify>: fix --no-slack option,
add --no-summary-report option
* swprogs/swverify.sh.in <swverify>: add --no-summary-report option
* swprogs/iswverify.c (main) <swverify>: add --no-summary-report option

2010-02-13 Jim Lowe <jhlowe@acm.org>
* swsupplib/misc/swpath.c (swpath_close): fix memory leak
* swsupplib/misc/swvarfs.c: fix memory leak
* swsupplib/taru/xformat.c (internal_open_archive_file): fix memory leak
* swsupplib/uinfile/uinfile.c (uinfile_detect_ieee): fix memory leak
* swsupplib/misc/swverid.c (swverid_copy): fix memory leak
* swsupplib/misc/swgpg.c: fix memory leak
* swsupplib/misc/swicat_e.c: fix memory leak
* swsupplib/misc/swlib.c (swlib_md5_copy): fix memory leak
* swsupplib/misc/swlib.c (swlib_digests): fix memory leak
* swsupplib/misc/swheader.c (swheader_close): fix memory leak
* swstructlib/src/swmetadata/swdefcontrolfile.cxx <swpackage>
(apply_file_stat_specialization): fix sha512 for files
* swstructlib/src/swmetadata/swpackagefile.cxx <swpackage>
(apply_file_stats): fix sha512 for files
(apply_file_stat_specialization): fix sha512
* swprogs/swconfig.c <swconfig>: fix memory leak
* swprogs/swlist.c <swlist>: fix memory leak
* swprogs/swremove.c <swlist>: fix memory leak
* swprogs/swlist_lib.c <swlist>: fix memory leak
* swprogs/swproglib.c: fix memory leak
* swprogs/swproglib.c: fix file descriptor leak

2010-02-06 Jim Lowe <jhlowe@acm.org>
* swstructlib/src/swmetadata/swpackagefile (initialize_file_stats_array) <swpackage>:
fix for sha512 digest
* swstructlib/src/swmetadata/swpackagefile (apply_file_stats_array) <swpackage>:
fix for sha512 digest

2010-02-06 Jim Lowe <jhlowe@acm.org>
* swsupplib/swi/swi.c (swi_find_fileset_by_swsel):
broadened sanity assertion to include pfiles type

2010-02-06 Jim Lowe <jhlowe@acm.org>
* swprogs/swremove.c (main) <swremove>: now issue
error message if no selections are given on command line.
* swprogs/swlist.c (main) <swlist>: Per spec, now select all
software when no selections are given on command line.

2010-02-05 Jim Lowe <jhlowe@acm.org>
* VERSION: now 1.4.113

2010-02-03 Jim Lowe <jhlowe@acm.org>
* VERSION: now 1.4.113
Has major changes to support installed software location
outside of target path.

2010-02-03 Jim Lowe <jhlowe@acm.org>
* swprogs/swverify_lib.c (compare_diff) <swverify>: test for null
parameter to swverify_inl_parse() at line 840

2010-02-02 Jim Lowe <jhlowe@acm.org>
* developtment to support installed catalog
outside of target path is complete, testing is still required.

2010-02-02 Jim Lowe <jhlowe@acm.org>
* swsupplib/misc/swicat.c (swicat_env):
support absolute path for installed_software_catalog
* swsupplib/swi/swi_afile.c (swi_afile_write_script_cases):
support absolute path for installed_software_catalog
* swprogs/swproglib.c (swpl_write_session_options_filename): removed
* swprogs/swproglib.c (swpl_load_single_file_tar_archive): Now use 
catalog_path parameter
* swprogs/swproglib.c (swpl_write_tar_installed_software_index_file):
support absolute path for installed_software_catalog

2010-02-01 Jim Lowe <jhlowe@acm.org>
* swprogs/swproglib.c (swpl_get_catalog_entries): support absolute path
for installed_software_catalog

2010-01-31 Jim Lowe <jhlowe@acm.org>
* swsupplib/misc/swextopt.c (get_opta_isc): added
* swprogs/swproglib.c: development toward support for installed
catalog at different root path.
* swprogs/swinstall_lib.c: development toward support for installed
catalog at different root path.
* swprogs/swinstall.c <swinstall>: development toward support for installed
catalog at different root path.
* swprogs/swproglib.c (swpl_common_catalog_tarfile_operation): don not force
installed catalog path relative to support catalog at different root than
target.

2010-01-27 Jim Lowe <jhlowe@acm.org>
* swprogs/swlist.c <main>: handle error from swpl_get_utsname_attributes()

2010-01-24 Jim Lowe <jhlowe@acm.org>
* swprogs/swinstall_lib.c (arfinstall_tar) <swinstall>: elimintate
time limit for execution phase, now set to 1 day (86400 Sec).
* swsupplib/misc/swicol.c (task_wait_for): respect swicol->master_alarmM
* swprogs/swinstall.c (safe_sig_handle) <swinstall>:  call
swicol_set_master_alarm().
* swprogs/swconfig.c (safe_sig_handle) <swconfig>:  call
swicol_set_master_alarm().
* swprogs/swremove.c (safe_sig_handle) <swremove>:  call
swicol_set_master_alarm().
* swprogs/swlist.c (safe_sig_handle) <swlist>:  call
swicol_set_master_alarm().
* swprogs/iswverify.c (safe_sig_handle) <swverify>:  call
swicol_set_master_alarm().
* doc/Makefile.in: added swconfig entries
* doc/source/swconfig_8.sgml: added
* doc/: Documentation regenerated

2010-01-23 Jim Lowe <jhlowe@acm.org>
* swprogs/swproglib.c (swpl2_update_execution_script_results):
set the return status of un-unscript to 'none' when, for example,
running the unconfigure script
* swprogs/swproglib.c (swconfig_looper_sr_payload) <swconfig>:
added SWBIS_TS_Load_INSTALLED_transient task
* swprogs/swproglib.c (swpl_load_single_file_tar_archive):
verbosity adjustments
* swprogs/swproglib.c (swpl_write_tar_installed_software_index_file)
added function parameter for name of INSTALLED file

2010-01-19 Jim Lowe <jhlowe@acm.org>
* swsupplib/ls_list/gen_subs.c (print_mode_owners) <swverify>:
fixed alter mode rendering.

2010-01-18 Jim Lowe <jhlowe@acm.org>
* swsupplib/misc/swevents.c (swevent_shell_echo): disable test
based on verbose_threshholdM, now always true.
* swsupplib/misc/swevents.h : changes to verbose_threshholdM
* swsupplib/misc/swlib.c (swlib_test_verbose): now test
using the verbose_threshholdM of (struct swEvents*) as one
of the tests of verbosity.
* swprogs/swproglib.c (swpl_cisf_product_create): now
makes no restriction on number of times called based on
static variable.

2010-01-16 Jim Lowe <jhlowe@acm.org>
* swprogs/swconfig_lib.c <swconfig>: more development
* swprogs/swproglib.c (swpl_run_make_installed_live): added
* swprogs/swinstall_lib.c (arfinstall_tar) <swinstall>: now use
swpl_run_make_installed_live

2010-01-16 Jim Lowe <jhlowe@acm.org>
* swprogs/swconfig.c (main) <swconfig>: add --send-environment option
* swsupplib/misc/swicat.c (swicat_write_script_cases) <swinstall>:
correctly set SW_SOFTWARE_SPEC
* swsupplib/misc/swicat.c (swicat_env) <swinstall>:
correctly set SW_SOFTWARE_SPEC

2010-01-12 Jim Lowe <jhlowe@acm.org>
* swprogs/swconfig_lib.c <swconfig>: more development
* swstructlib/src/swmetadata/swextendeddef.h (processExcludes) <swpackage>
more fixes.  Now /DIR/* excludes the contents of DIR, but not DIR.
/DIR/ excludes everthing, /DIR excludes the directory entry but not its
lower level contents.
*swsupplib/misc/swicol.c: support for "status=preview" and swconfig
*swsupplib/swi/swi_afile.c (swi_control_script_get_return_code): added

2010-01-12 Jim Lowe <jhlowe@acm.org>
* swprogs/swproglib.c (swpl_write_control_script_code_fragment): support special
"status=preview" response for swconfig

2010-01-05 Jim Lowe <jhlowe@acm.org>
* swprogs/swinstall.c <swinstall>: added --enable-agent-forwarding option

2009-12-29 Jim Lowe <jhlowe@acm.org>
* swprogs/swverify.sh.in <swverify>: add --check-owners option

2009-12-27 Jim Lowe <jhlowe@acm.org>
* swprogs/swverify_lib.c <swverify>: development and
refactoring to support new fine grained verification
report.
* swsupplib/ls_list/gen_subs.c (print_mode_owners) <swverify>:
now support controls printing or omitting file permissions.
Fixes --check-permissions=no

2009-12-19 Jim Lowe <jhlowe@acm.org>
* swsupplib/ls_list/gen_subs.c <swverify>: changed internal
alternate (alt_) listing form to support deterministic parsing
of individual verification fields.
* swprogs/swverify_lib.c (get_name_len) <swverify>: improved
* swprogs/swverify_lib.c <swverify>: added inl_get_<*> routines
to support fine grained reporting of verification.
* swsupplib/strob/strob.c (strob_snprintf): added

2009-12-12 Jim Lowe <jhlowe@acm.org>
* swprogs/swpackage.cxx  <swpackage>: add --xz compression
option
* swprogs/swcopy.c <swcopy>: clean up compression/decompression.
Now support lzma and xz, and gpg encryption.
* swsupplib/uinfile/uinfile.c (uinfile_i_open): Now support opening
a file of arbitrary data less than 3 bytes in length without error.

2009-12-09 Jim Lowe <jhlowe@acm.org>
* swsupplib/uinfile/uinfile.c (uinfile_i_open): support XZ
copression.

2009-09-12 Jim Lowe <jhlowe@acm.org>
* swprogs/swconfig_lib.c <swconfig>: more development
* swsupplib/mis/swgpg.c (make_dir): now use mkdtemp()
* swprog/swproglib.c (swpl_write_control_script_code_fragment): write
script tag in SW_CONTROL_SCRIPT_ENDS event message

2009-08-09 Jim Lowe <jhlowe@acm.org>
* swprogs/swconfig.c <swconfig>: added
* swprogs/swconfig_lib.c <swconfig>: added
* swprogs/Makefile.in: added swconfig
* swprogs/swremove.c (main) <swremove>: improve option checks
* swprogs/iswverify.c (main) <swverify>: improve option checks

2009-08-08 Jim Lowe <jhlowe@acm.org>
* swprogs/swremove_lib.c (swremove_looper_sr_payload) <swremove>:
add support for checkremove script.
* swsupplib/misc/swicol.c (swicol_rpsh_task_expect): set 
return value to -4 for all errors from swicol_rpsh_task_wait
* swprogs/swremove_lib.c (make_remove_command_script_fragment) <swremove>
now squash embedded dot-slash in name
* swprogs/swremove_lib.c (make_remove_glob_list_for) <swremove>: added,
now fixes failure to remove directories.

2009-08-06 Jim Lowe <jhlowe@acm.org>
* swprogs/swproglib.c (swpl_run_check_script): new, factored
from run_analysis_script in swinstall

2009-08-03 Jim Lowe <jhlowe@acm.org>
* swprogs/swproglib.c (swpl_make_environ_transfer_image): added

2009-08-02 Jim Lowe <jhlowe@acm.org>
* swsupplib/misc/swicat_s.c (sr_construct_swverid): added
* swsupplib/misc/swicat_s.c (swicat_sr_parse): modified, now create
and set the version Id of the response, sr->swspecM.
* swprogs/iswverify.c (main): added --swbis-check-owners option
* swsupplib/misc/swextopt.h (swverify): added swbis_check_owners extended option

2009-07-18 Jim Lowe <jhlowe@acm.org>
* swsupplib/taru/xformat.c (xformat_write_by_name) <swbistar>: fixed
brokenness caused by deprecation of (struct stat*) argument in 2009-06-20
change.

2009-07-14 Jim Lowe <jhlowe@acm.org>
* swbis-1.4 released.

2009-07-12 Jim Lowe <jhlowe@acm.org>
* version 1.4 distribution tarball created

2009-07-12 Jim Lowe <jhlowe@acm.org>
* swprogs/swign.sh.in <swign>: set some extened options of swpackage
explicitly to prevent a user's swbisdefaults from breaking swign

2009-07-11 Jim Lowe <jhlowe@acm.org>
* swsupplib/sw_parse/Makefile: added precompiled files with 20090711 path
suffix.

2009-07-10 Jim Lowe <jhlowe@acm.org>
* swsupplib/misc/swextopt.c (swextopt_is_value_true): give warning if boolean value is
neither true nor false

2009-07-09 Jim Lowe <jhlowe@acm.org>
* swprogs/iswverify.c (main) <swverify>: fixed option processing
* swprogs/swlist.c (main) (swlist): fixed option processing
* swprogs/swremove.c (main) (swremove): fixed option processing
* swprogs/swpackage.cxx (main) (swpackage): fixed option processing
* swprogs/swcopy.c (main) (swcopy): fixed option processing

2009-07-04 Jim Lowe <jhlowe@acm.org>
* swprogs/swverify.sh.in <swverify>: fixed i.e.eliminated requirement for '@-' to
be given on command line.
* swprogs/swpackage.cxx (do_unrpm) <swpackage>: fixed --to-swbis
operation when the -s- option is given.

2009-07-03 Jim Lowe <jhlowe@acm.org>
* swsupplib/misc/topsf.c: add group and owner support
* swprogs/swpackage.cxx (do_unrpm) <swpackage>: set owner and group
in invocation of 'lxpsf' program.
* swsupplib/progs/lxpsf.c (main) <lxpsf>: add --owner and --group option

2009-07-02 Jim Lowe <jhlowe@acm.org>
* swprogs/swpackage.cxx (check_name_to_convert) <swpackage>: added
* swstructlib/src/swmetadata/swdefinition.cxx (squash_duplicates): added
* swstructlib/src/swmetadata/swdefdistribution.h (write_fd): now calls
squash_duplicates.

2009-06-29 Jim Lowe <jhlowe@acm.org>
* swsupplib/sw_parse/swlex.l (swlex_input): now support Definition Files
using \r\n for line termination files by stripping the cr (carriage return) 

2009-06-28 Jim Lowe <jhlowe@acm.org>
* swprogs/swinstall_lib.c: remove unneeded swheader_set_current_offset() calls.
* swsupplib/misc/swheader.c (swheader_get_attribute): now call free() on list
* swsupplib/misc/swheader.c: call store_state() and restore_state() where needed.

2009-06-25 Jim Lowe <jhlowe@acm.org>
* swprogs/swpackage.cxx <swpackage> (main): added --regfiles-only option

2009-06-24 Jim Lowe <jhlowe@acm.org>
* swprogs/swinstall_lib.c (send_files_with_no_storage): added

2009-06-21 Jim Lowe <jhlowe@acm.org>
* swsupplib/taru/xformat.c (common_setup_write_header): remove parameter p_lt1 

2009-06-20 Jim Lowe <jhlowe@acm.org>
* swstructlib/src/swexport/swexfileset.h (emitStorageStructure) <swpackage>:
check device files device numbers and skip if too large.
* swsupplib/taru/taru.c (taru_check_devno_for_tar): added
* swsupplib/taru/taru.c (taru_check_devno_for_system): added
* swsupplib/taru/xformat.c (common_setup_write_header): deprecate
use  of (struct stat*) p_lt1, always set to NULL.
* swsupplib/taru/copyout.c (taru_write_archive_member_header): deprecate
use of (struct stat*)file_stat and assert that it should be NUL.

2009-06-18 Jim Lowe <jhlowe@acm.org>
* swsupplib/taru/to_oct.c: fixed program names error messages

2009-06-16 Jim Lowe <jhlowe@acm.org>
* swstructlib/src/swexport/swpackagefile.h (xFormat_apply_swdef_stats) <swpackage>:
check return status of taru_datoul().
* swstructlib/src/swexport/swpackagefile.h (xFormat_write_file) <swpackage>:
check return status of xFormat_apply_swdef_stats().
* swstructlib/src/swexport/swobjfiles_i.h (check_device_files_file_stats): added
* swstructlib/src/swexport/swobjfiles_i.h (addFileStatsToFileDefinitions):
handle device files better, set no_stat() flag if all
the file stats for the device file are present in the PSF.

2009-06-14 Jim Lowe <jhlowe@acm.org>
* swprogs/swinstall_lib.c (construct_execution_phase_script) <swinstall>
add umask 077 in the shell where 'tar' loads the fileset.
* swprogs/swinstall_lib.c (sanity_compare) <swinstall>
made messages for attribute mismatch require an elevated verbosity.

2009-06-04 Jim Lowe <jhlowe@acm.org>
* swprogs/swpackage.cxx <swpackage> (main): added --symmetric option
* swprogs/swpackage.cxx <swpackage> (main): added 
-encrypt-for-recipient=NAME option
* swprogs/swpackage.cxx <swpackage> (main): now supports layers of
encryption/compression
* swsupplib/misc/shcmd.c (shcmd_get_last_command): added

2009-06-04 Jim Lowe <jhlowe@acm.org>
* swsupplib/uinfile/uinfile.c: now detects and decrypts packages
encrypted with gpg using gpg.

2009-05-29 Jim Lowe <jhlowe@acm.org>
* swprogs/swinstall.c (main) <swinstall>: option processing fixes.
* VERSION: now 1.4

2009-05-25 Jim Lowe <jhlowe@acm.org>
* swstructlib/src/swexport/swobjfiles_i.h (process_files_step1) <swpackage>:
Now support file definitions that only have the 'source' attribute when merging
duplicate file definitions.
* swstructlib/src/swmetadata/swdefinitionfile.cxx (merge_duplicates) <swpackage>:
Now use swlib_dir_compare() instead of strcmp().

2009-05-24 Jim Lowe <jhlowe@acm.org>
* swsupplib/misc/debpsf.c (debpsf_write_psf_buf) <lxpsf>: initial support for
setting the is_volatile attribute for pathnames listed in the 'conffiles' file
of a .deb package. (requires fixing swpackage's merging of duplicate file
definitions).

2009-05-02 Jim Lowe <jhlowe@acm.org>
* swprogs/swlist.c (main) <swinstall>: option processing fixes.

2009-04-26 Jim Lowe <jhlowe@acm.org>
* swprogs/swpackage.cxx (main) <swpackage>: fixed extended option
processsing for options given on the command line.
* swsupplib/misc/swextopt.c (getEnumFromName):  now swaps '_' and '-' in 
the option name and returns success based on either form.
* swprogs/swign.sh.in <swign>: added -W swbis-gzip=n and -W swbis-bzip2=n
to swpackage invocation.

2009-04-13 Jim Lowe <jhlowe@acm.org>
* version 1.3 released

2009-04-08 Jim Lowe <jhlowe@acm.org>
* swprogs/swlist.c <swlist>: cleanups
* swprogs/swcopy.c <swcopy>: initial development steps toward supporting
software selections in a source spec.
* swprogs/swcommon.c (swc_validate_targetpath): now has context
arg for better error messages.
* swsupplib/uinfile/uinfile.c (uinfile_i_open): support LZMA
copression.

2009-03-08 Jim Lowe <jhlowe@acm.org>
* VERSION: now 1.3

2009-03-08 Jim Lowe <jhlowe@acm.org>
* swprogs/swproglib.c (swpl_make_verify_command_script_fragment):
query 'check_volatile' option only for swverify.

2009-03-07 Jim Lowe <jhlowe@acm.org>
* doc/: Documentation updates, now built on Slackware 12.1.0 system

2008-11-26 Jim Lowe <jhlowe@acm.org>
* swprogs/swproglib.c (swpl_set_detected_catalog_perms): turn off sticky bit
for regular files.
* swprogs/swproglib.c (swpl_write_out_signature_member) <swinstall>: now set
the mode of the signatures according to the catalog policy set by the top
directory.
* swprogs/swinstall_lib.c (construct_directory_ownership_script) <swinstall>: added,
fixes ownerships of created directories in the catalog

2008-11-22 Jim Lowe <jhlowe@acm.org>
* version 1.2 released
* VERSION: now 1.2

2008-11-22 Jim Lowe <jhlowe@acm.org>
* swprogs/swproglib.c (swpl_make_verify_command_script_fragment) <swverify>
fixed handling of volatile files according to the --check-voaltile option.

2008-11-17 Jim Lowe <jhlowe@acm.org>
* swstructlib/src/swmetadata/swdefinition.cxx (list_replace_if_not_explicitly_set) <swpackage>: added 
to fix preservation of file attributes set in a PSF file definition.
* swstructlib/src/swmetadata/swpackagefile.cxx (apply_file_stats) <swpackage>:
use list_replace_if_not_explicitly_set()
    
2008-11-15 Jim Lowe <jhlowe@acm.org>
* swstructlib/src/swmetadata/swdefinitionfile.h (swdeffile_linki_write_fd):
now merge attributes from duplicate files, and don't write the duplicate entry.
* swstructlib/src/swmetadata/swdefinition.h (merge): added parameter
to control replacement
* swprogs/swinstall_lib.c (sanity_compare): now mismatch of size attribute
is fatal
* swprogs/swlist.c (main) <swlist>: fix hang when listing catalog as tar
archive when SIGPIPE is received.
* swprogs/swproglib.c (swpl_ls_fileset_from_iscat) <swverify>: fix false
verification failure of installed software.
* swprogs/swverify_lib.c (remove_duplicate_files) <swverify>: added
* swstructlib/src/misc/switer.h <swpackage>: warning fix
* swstructlib/src/swexport/swexbundle.cxx <swpackage>: cleanup
* swstructlib/src/swexport/swexcat.h <swpackage>: cleanup
* swstructlib/src/swexport/swexcat_debug.cxx <swpackage>: cleanup
* swstructlib/src/swexport/swexcategory.cxx <swpackage>: cleanup
* swstructlib/src/swexport/swexdistribution.cxx <swpackage>: cleanup
* swstructlib/src/swexport/swexdistribution_debug.cxx <swpackage>: cleanup
* swstructlib/src/swexport/swexfileset.h (emitStorageStructure) <swpackage>:
Now properly handle duplicate file definitions in a PSF
* swstructlib/src/swexport/swexfileset.h (find_last_swdef) <swpackage>: deleted
* swstructlib/src/swexport/swexfileset_debug.cxx <swpackage>: cleanup
* swstructlib/src/swexport/swexhost.cxx <swpackage>: cleanup
* swstructlib/src/swexport/swexhost_debug.cxx <swpackage>: cleanup
* swstructlib/src/swexport/swexproduct.h <swpackage>: cleanup
* swstructlib/src/swexport/swexproduct_debug.cxx <swpackage>: cleanup
* swstructlib/src/swexport/swexpsf.h <swpackage>: cleanup
* swstructlib/src/swexport/swexstruct.cxx <swpackage>: cleanup
* swstructlib/src/swexport/swexstruct_i.h <swpackage>: cleanup
* swstructlib/src/swexport/swexstruct_i_debug.cxx <swpackage>: cleanup
* swstructlib/src/swexport/swexsubproduct.cxx <swpackage>: cleanup
* swstructlib/src/swexport/swexvendor.cxx <swpackage>: cleanup
* swstructlib/src/swexport/swixcat.cxx <swpackage>: cleanup
* swstructlib/src/swexport/swobjfiles.cxx <swpackage>: cleanup
* swstructlib/src/swexport/swobjfiles_i.cxx <swpackage>: cleanup
* swstructlib/src/swexport/swobjfiles_i.h <swpackage>: cleanup
* swstructlib/src/swexport/swobjfiles_i.h (check_for_storage_section_duplicates) <swpackage>:
fix handling of multiple file defintiions in a PSF.
* swstructlib/src/swexport/swobjfiles_i_debug.cxx <swpackage>: cleanup
* swstructlib/src/swmetadata/swattribute.cxx (generate_attribute_list) <swpackage>:
now set set_is_explicit() as fix for multiple defintiions in a PSF.
* swstructlib/src/swmetadata/swdefcontrolfile.cxx <swpackage>: cleanup
* swstructlib/src/swmetadata/swdeffileset.cxx <swpackage>: cleanup
* swstructlib/src/swmetadata/swdefinition.cxx <swpackage>: cleanup
* swstructlib/src/swmetadata/swdefinition.cxx (merge) <swpackage>: added function 
control parameter
* swstructlib/src/swmetadata/swdefinitionfile.cxx (swdeffile_linki_write_fd) <swpackage>:
respect duplicate file status flags when writing.
* swstructlib/src/swmetadata/swdefinitionfile.cxx (determine_status_for_writing) <swpackage>: added
* swstructlib/src/swmetadata/swdefinitionfile.cxx (merge_duplicates) <swpackage>: added
* swstructlib/src/swmetadata/swdefproduct.cxx <swpackage>: cleanup 
* swstructlib/src/swmetadata/swextendeddef.h <swpackage>: cleanup 
* swstructlib/src/swmetadata/swinfo.h <swpackage>: cleanup
* swstructlib/src/swmetadata/swmetadata.h <swpackage>: cleanup
* swstructlib/src/swmetadata/swpackagefile.cxx (apply_file_stats) <swpackage>:
respect duplicate file status flags.
* swstructlib/src/swmetadata/swpackagefile.h (xFormat_apply_swdef_stats) <swpackage>:
respect duplicate file status flags.
* swstructlib/src/swmetadata/swpsf.cxx <swpackage>: cleanup
* swstructlib/src/swmetadata/swpsf.h <swpackage>: cleanup
* swstructlib/src/swstruct/swscontrolfile.h <swpackage>: cleanup
* swstructlib/src/swstruct/swsfile.h <swpackage>: cleanup
* swstructlib/src/swstruct/swstruct_i.cxx <swpackage>: cleanup
* swsupplib/misc/strar.c (strar_remove_index) : added
* swsupplib/misc/swheader.c: cleanup
* swsupplib/misc/topsf.c (slack_write_psf_buf) <swpackage> <lxpsf>: support tagging
volatile files for slackware packages when translating

2008-11-12 Jim Lowe <jhlowe@acm.org>
* swsupplib/misc/topsf.c (parse_src_pkg_name) <lxpsf>:
fixed slackware package translation
* swsupplib/misc/topsf.c (slack_write_psf_buf) <lxpsf>:
fixed slackware package translation

2008-11-11 Jim Lowe <jhlowe@acm.org>
* swprogs/swinstall.c (main): add --justdb option
* swprogs/swremove.c (main): add --justdb option
* swprogs/swverify.sh.in: added --dereference and --ignore-slack-install options
* swprogs/swverify_lib.c (compare_diff): added support for --ignore-slack-install
* swprogs/swproglib.c (swpl_make_verify_command_script_fragment): support
new --dereference option for swverify

2008-11-02 Jim Lowe <jhlowe@acm.org>
* swprogs/swverify.sh.in: now --catalog-info is --catalog-info-file (same
for --system-info)
* swprogs/iswverify.c (main) <swverify>: now require at least one software spec

2008-11-01 Jim Lowe <jhlowe@acm.org>
* swprogs/spwroglib.c (swpl_get_catalog_perms): added
* swprogs/swproglib.c (swpl_set_detected_catalog_perms): added
* swprogs/swcommon0.h (SWBIS_TS_get_catalog_perms): added
* swprogs/swinstall.c (main) <swintall>: now obtain and use the
permissions and ownerships for the the installed software
catalog directory as a mask when creating new files in the catalog.
* swprogs/swinstall_lib.c (swpl_set_detected_catalog_perms): use
* swprogs/swinstall.c (main): make default pump delay be 0
* swsupplib/taru/filemode.c (swlib_filestring_to_mode): added
* swsupplib/misc/swlib.c (swlib_i_digs_copy): fix pump delay default
* swsupplib/misc/swlib.c (swlib_i_pipe_pump): fix pump delay default

2008-10-26 Jim Lowe <jhlowe@acm.org>
* VERSION: now 1.1

2008-10-26 Jim Lowe <jhlowe@acm.org>
* swprogs/Makefile.in: added  -Wno-write-strings comoile option
* swprogs/swpackage.cxx <swpackage> (main):  fixed uninitialized usage when
--create-time=TIME is used.
* swstructlib/src/Makefile.inc.in: added option -Wno-write-strings
* swstructlib/src/swexport/swexstruct.h <swpackage>: added virtual destructor definition
to silence gcc-4.3.x warnings.
* swstructlib/src/swexport/swstruct.h <swpackage>: added virtual destructor definition
to silence gcc-4.3.x warnings.
* swsupplib/swi/swi.c: remove unused variable.
* swsupplib/swi/swi_common.c (swi_com_do_preview): fixed type of parameter in call
to ls_list 
* swsupplib/taru/taru.c (taru_write_preview_line): fixed possible use of uninitialized
variable.

2008-10-23 Jim Lowe <jhlowe@acm.org>
* swprogs/swcopy.c <swcopy> (main): added a sleep(1) in the error branch
for file not found error to cause the message to appear to stderr.

2008-10-22 Jim Lowe <jhlowe@acm.org>
* include/stream_config.h: removed unnecessary includes. 

2008-10-18 Jim Lowe <jhlowe@acm.org>
* swprogs/iswverify.c <swverify>: added  --catalog-info option
* swprogs/iswverify.c <swverify>: added  --system-info option
* swprogs/iswverify.c <swverify>: now default sig-level is 1, not 0
* swsupplib/ls_list/gen_subs.c (alt_ls_list_to_string): added option flag to
prepend "./" to filenames
* swsupplib/taru/copyout.c: clean up confusing indentation and braces 

2008-10-17 Jim Lowe <jhlowe@acm.org>
* swsupplib/misc/strar.c (strar_qsort_strcmp): added
* swprogs/swverify_lib.c <swverify> (compare_fileset): Now use correct qsort
compare function.  This will fix a false verification failure for
some packages (affects installed software only).
* PSF.bin.bin: added swprogs/swbis

2008-10-04 Jim Lowe <jhlowe@acm.org>
* VERSION now 1.0

2008-09-27 Jim Lowe <jhlowe@acm.org>
* swprogs/swproglib.c (swpl_make_package_signature) <swinstall>: added
* swprogs/swinstall.c (main) <swinstall>: now can sign a package if aready signed

2008-09-18 Jim Lowe <jhlowe@acm.org>
* VERSION now 0.993
* swprogs/swcopy.c: add option --to-sw to be same as existing option --unrpm

2008-09-17 Jim Lowe <jhlowe@acm.org>
* VERSION now 0.992
* doc/: Documentation updates

2008-09-14 Jim Lowe <jhlowe@acm.org>
* VERSION now 0.991
* swprogs/swinstall.c <swinstall>: now checks signatures before installing using the
--sig-level option
* swsupplib/taru/etar.c (etar_write_trailer_blocks): now use uxfio routine for the atomic write
* swprogs/swproglib.c (swpl_check_package_signatures) <swinstall>: added

2008-09-13 Jim Lowe <jhlowe@acm.org>
* swprogs/iswverify.c <swverify>: fix --help text
* swprogs/swverify.sh.in <swverify>: fix --help text

2008-09-12 Jim Lowe <jhlowe@acm.org>
* VERSION now 0.990

2008-09-12 Jim Lowe <jhlowe@acm.org>
* VERSION now 0.988

2008-09-11 Jim Lowe <jhlowe@acm.org>
* swprogs/swcommon.c: fixes for multiple sources
* swprogs/swcopy.c: fixes for multiple sources

2008-09-10 Jim Lowe <jhlowe@acm.org>
* swprogs/swcommon.c (determine_longest_common_dir): added
* swprogs/swcommon.c (make_multiplepathlist2) <swcopy>:  added
* swprogs/swcommon.c (swc_write_source_copy_script): support multiple source paths

2008-09-01 Jim Lowe <jhlowe@acm.org>
* swprogs/swcommon.c (make_multiplepathlist) <swcopy>:  fixed operation on multiple source specs

2008-08-30 Jim Lowe <jhlowe@acm.org>
* swprogs/swproglib.c (swpl_signature_policy_accept): change fd of error message.
* swprogs/swproglib.c (merge_name_id) <swverify>: added, fix comparison.

2008-08-30 Jim Lowe <jhlowe@acm.org>
* VERSION now 0.987

2008-08-12 Jim Lowe <jhlowe@acm.org>
* VERSION now 0.986
* bin/testforgnutar.sh: Fix version string support for GNU tar 1.20
* swprogs/swign.sh.in: Fix version string support for GNU tar 1.20
* swprogs/swverify.sh.in: Fix version string support for GNU tar 1.20
* tests/regression/testlib.sh: Fix version string support for GNU tar 1.20

2008-08-10 Jim Lowe <jhlowe@acm.org>
* VERSION now 0.985
* doc/: Documentation updates

2008-08-02 Jim Lowe <jhlowe@acm.org>
* VERSION now 0.984

2008-08-02 Jim Lowe <jhlowe@acm.org>
* swsupplib/sw_parse/swparse_supp.c: added flags to print a warning message only once.
* swstructlib/src/swmetadata/swmetadata.h <swpackage>: added flags to print a warning message only once
* swstructlib/src/swmetadata/swmetadata.cxx <swpackage>: added flags to print a warning message only once

2008-07-29 Jim Lowe <jhlowe@acm.org>
* bin/checkdigest.sh: use 'find' to create file list instead of tar
* swprogs/swpackage.cxx (main) <swpackage>: make "/dev/null" an allowable special target.

2008-07-28 Jim Lowe <jhlowe@acm.org>
* swsupplib/sw_parse/swparse_supp.c (swparse_construct_attribute): now just warn if
invalid UTF-8 chars are detected.

2008-07-27 Jim Lowe <jhlowe@acm.org>
* bin/checkdigest.sh: removed debugging code that placed a tmpfile in /tmp
* bin/checkdigest.sh: now warn with message when sha512sum utility is not available.

2008-07-26 Jim Lowe <jhlowe@acm.org>
* swsupplib/misc/swicol.c (print_task_script): now check for unset sw_retval var.
* swprogs/swinstall_lib.c (construct_execution_phase_script) <swinstall>: set sw_retval=0
if not set.

2008-07-25 Jim Lowe <jhlowe@acm.org>
* VERSION now 0.981

2008-07-25 Jim Lowe <jhlowe@acm.org>
* swprogs/swign.sh.in <swign>: added use of '--catalog-only' option to
the swpackage invocation

2008-07-22 Jim Lowe <jhlowe@acm.org>
* swprogs/swign.sh.in <swign>: added --emit-only option
* swprogs/swign.sh.in <swign>: added --sign-only option to be same as --sign-this
* swprogs/swign.sh.in <swign> (thisPSF): FIXED, use of negation in /usr/bin/test,
replace ! with -z in /usr/bin/test invocation.

2008-07-12 Jim Lowe <jhlowe@acm.org>
* swprogs/fmgetpass.c: moved to swsupplib/misc
* swprogs/fmgetpass.h: moved to swsupplib/misc
* swsupplib/misc/swgpg.c: added routines for signature creation.

2008-07-06 Jim Lowe <jhlowe@acm.org>
* VERSION now 0.974

2008-07-05 Jim Lowe <jhlowe@acm.org>
* swprogs/swinstall_lib.c (arfinstall_tar) <swinstall>: development to
support checkinstall script and fileset de-selection.
* swprogs/swinstall.c (main) <swinstall>: now responds correctly to checkinstall
script exit status

2008-07-01 Jim Lowe <jhlowe@acm.org>
* swprogs/swproglib.c (swpl_remove_catalog_entry) <swinstall>: re-factor
* swprogs/swproglib.c (swpl_restore_catalog_entry) <swinstall>: added

2008-06-25 Jim Lowe <jhlowe@acm.org>
* swprogs/swproglib.c (swpl_update_execution_script_results) <swinstall>:
Fixed, now update all script results.  Fixed, now avoid modifying message with NUL.

2008-06-21 Jim Lowe <jhlowe@acm.org>
* swprogs/swinstall_lib.c (run_analysis_script) <swinstall>

2008-06-21 Jim Lowe <jhlowe@acm.org>
* swprogs/swproglib.c (construct_script_cases): set sw_retval always
* swprogs/swinstall_lib.c (construct_execution_phase_script): 

2008-06-08 Jim Lowe <jhlowe@acm.org>
* swprogs/swproglib.c (swpl_bashin_detect): Fixed for swremove

2008-06-07 Jim Lowe <jhlowe@acm.org>
* VERSION now 0.972
* documentation updates

2008-06-06 Jim Lowe <jhlowe@acm.org>
* swprogs/swproglib.c (swpl_bashin_detect): Fixed

2008-06-05 Jim Lowe <jhlowe@acm.org>
* VERSION now 0.971

2008-06-05 Jim Lowe <jhlowe@acm.org>
* swprogs/swverify_lib.c <swverify>: FIXED false success for packages that
contain no file digests in the INFO meta-data.

2008-06-02 Jim Lowe <jhlowe@acm.org>
* swprogs/swproglib.c (swpl_bashin_detect): added
* swprogs/swinstall_lib.c <swinstall>: now support shell auto detection
* swprogs/swremove_lib.c <swremove>: now support shell auto detection
* swprogs/swlist_lib.c <swlist>: now support shell auto detection
* swprogs/swverify_lib.c <swverify>: now support shell auto detection
* swprogs/swcopy.c <swcopy>: now support shell auto detection

2008-06-01 Jim Lowe <jhlowe@acm.org>
* swprogs/swproglib.c (swpl_make_verify_command_script_fragment): exit gracefully
when GNU tar and pax are missing.
* swsupplib/shell_lib/shell_lib.sh (shls_write_files_ar): fixed

2008-06-01 Jim Lowe <jhlowe@acm.org>
* swprogs/iswverify.c <swverify>: add --show-info option
* VERSION now 0.963

2008-05-31 Jim Lowe <jhlowe@acm.org>
* swprogs/swverify_lib.c (compare_fileset) <swverify>: get rid of a 
testing/debug file dump to /tmp/meta.txt and /tmp/sys.txt
* swprogs/swproglib.c (swpl_ls_fileset_from_iscat) <swverify>: fix false success when the
meta-data has no file digests.  Also now support the check_contents extended option.

2008-05-30 Jim Lowe <jhlowe@acm.org>
* swprogs/pax_commands.h : added 'detect' command for swlist and swverify
* swprogs/swproglib.c (swpl_make_verify_command_script_fragment): check for GNU tar
* swprogs/swproglib.c (swpl_make_verify_command_script_fragment): support pax
* swprogs/swproglib.c (swpl_make_verify_command_script_fragment): support automatic detection of
GNU tar or pax
* swprogs/swlist_lib.c <swlist>: check for GNU tar
* swprogs/swverify_lib.c <swverify>: check for GNU tar

2008-05-28 Jim Lowe <jhlowe@acm.org>
* swsupplib/misc/swlib.h: added CSHID define

2008-05-18 Jim Lowe <jhlowe@acm.org>
* swprogs/swign.sh.in <swign>: added --file-ownerships option

2008-05-18 James Lowe, Jr. <jhlowe@acm.org>
* VERSION now 0.960

2008-05-18 James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swpackage.cxx <swpackage>: added --check-duplicates option
* swprogs/swign.sh.in <swign>: use swpackage --check-duplicates option

2008-05-17 James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swcommon.c <swcopy>: support multiple source specs
* swprogs/swcopy.c <swcopy>: support multiple source specs
* swprogs/swcopy.c (main) <swcopy>: added --create option
* swprogs/swcopy.c (main) <swcopy>: added --no-extract option

2008-05-14 James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/ls_list/gen_subs.c: support LANG and C encoding
* swsupplib/ls_list/ls_list.h: support LANG and C encoding
* swsupplib/ls_list/vis.c: support LANG and C encoding
* swsupplib/ls_list/vis.h: support LANG and C encoding
* swsupplib/taru/taru.c: support LANG and C encoding

2008-05-14 James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/misc/swextopt.c (swextopt_combine_directory) <swcopy>: Now directories
relative to remove home directory are respected.

2008-05-10 James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swverify.sh.in (make_cvs_stream) (do_files_sanity_check) <swverify>:
now avoid confusing files that have a substring 'catalog' with files that
are in the catalog directory.

2008-05-03 James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swcommon.c (write_error_line): fixed compiler'ism affecting older gcc's

2008-04-30 James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swlist_lib.c (swlist_looper_sr_payload): fixed use of NUL pointer

2008-04-21 James Lowe, Jr. <jhlowe@acm.org>
* VERSION now 0.951 (release)

2008-04-14 James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swinstall_lib.c (arfinstall_tar):  adjust file_loading_verbose
calculation.

2008-04-13 James Lowe, Jr. <jhlowe@acm.org>
* VERSION now 0.946

2008-04-05 James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swcommon.c (is_unix_ssh_error): ssh error message added.
* swprogs/swcommon.c (is_unix_sys_error): GNU tar message added.

2008-04-05 James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swcommon.c (is_ssh_sys_error): added
* swprogs/swcommon.c (write_error_line): modified to report ssh messages

2008-03-29 James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/misc/swssh.c (swssh_parse_target): now support setting the port number
in the ssh invocation via a _underscore delimited field in the hostname.

2008-03-26 James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/misc/swcommon_options.h (remote_shell_client): FIXED, was boolean type

2008-03-25 James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/misc/swicat.c (shpat_to_regex): fix for package names that contain '+', now protect '+'

2008-03-23 James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/misc/strar.c (strar_open): added cplob_add_nta() to fix core dump when
an empty file is sorted.

2008-03-23 James Lowe, Jr. <jhlowe@acm.org>
* VERSION now 0.944
* swsupplib/misc/swlib.c (swlib_synct_read): fix hang

2008-03-22 James Lowe, Jr. <jhlowe@acm.org>
* swstructlib/src/swexport/swexfileset.h <swpackage>: relaxed a sanity check for ".." in a filename.

2008-03-22 James Lowe, Jr. <jhlowe@acm.org>
* swprogs/iswverify.c <swverify>: add events and messages for SW_SOC_INTEGRITY_<NOT_>CONFIRMED
* swprogs/iswverify.c <swverify>: adjusted verbosity of common events
* VERSION now 0.943

2008-03-21 James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swproglib.c <swverify>: support check_volatile option
* swprogs/swverify_lib.c <swverify>: support check_volatile option
* swprogs/iswverify.c (main) <swverify>: support more extended options

2008-03-21 James Lowe, Jr. <jhlowe@acm.org>
* VERSION now 0.942
* bin/checkdigest.sh: more fixes
* VERSION now 0.941

2008-03-21 James Lowe, Jr. <jhlowe@acm.org>
* bin/checkdigest.sh: more fixes

2008-03-20 James Lowe, Jr. <jhlowe@acm.org>
* VERSION jumped to 0.940 as the beginning of the 1.0 pre-release series

2008-03-20 James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swverify_lib.c (compare_diff): development for verifying installed software

2008-03-20 James Lowe, Jr. <jhlowe@acm.org>
* all files: string 'SW_SOC_INTEGRITY' replaced with string 'SW_ISC_INTEGRITY' (for the
SW_SOC_INTEGRITY_CONFIRMED event).

2008-03-16 James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swverify_lib.c (compare_fileset): development for verifying installed software
* bin/checkdigest.sh: fixed sha512sum support when sha512sum utility is missing. 

2008-03-16 James Lowe, Jr. <jhlowe@acm.org>
* VERSION now 0.765

2008-03-15 James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swproglib.c (determine_ls_list_flags): added
* swprogs/swproglib.c (swpl_ls_fileset_from_isca): modified
* swprogs/swverify_lib.c (compare_fileset): development for verifying installed software
* swsupplib/ls_list/gen_subs.c (ls_list_to_string): modified

2008-03-09 James Lowe, Jr. <jhlowe@acm.org>
* VERSION now 0.764

2008-03-09 James Lowe, Jr. <jhlowe@acm.org>
* VERSION now 0.763

2008-03-09 James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swpackage.cxx <swpackage>: fixed evaluation of boolean option value
when value is 'y'.
* bin/checkdigest.sh: now support sha512 digests

2008-03-07 James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/misc/swlib.c: clean ups to byte pumping routines
* swsupplib/taru/copyout.c: 

2008-03-06 James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/misc/swlib.c  (swlib_copy_digs): now check for NUL pointer

2008-03-05 James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/misc/swlib.c  (swlib_imaxtostr) <swpackage>: fixed invalid assignment to
static var.

2008-03-03 James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/misc/swlib.c: development for use of FILE_DIGS struct

2008-03-01 James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/misc/swheader.c (swheader_fileobject2filehdr): support FILE_DIGS struct

2008-03-01 James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swlist.c (main): use FILE_DIGS struct
* swprogs/swlist_lib.c (swlist_ls_fileset_from_iscat): use FILE_DIGS struct
* swprogs/swproglib.c: use FILE_DIGS struct
* swprogs/swproglib.h: use FILE_DIGS struct
* swprogs/swverify_lib.c: use FILE_DIGS struct
* swsupplib/ls_list/gen_subs.c: use FILE_DIGS struct
* swsupplib/ls_list/ls_list.h: use FILE_DIGS struct
* swsupplib/misc/swicat_e.c : use FILE_DIGS struct
* swsupplib/misc/swlib.c   : use FILE_DIGS struct
* swsupplib/misc/swlib.h  : use FILE_DIGS struct
* swsupplib/progs/swbistar.c: use FILE_DIGS struct
* swsupplib/progs/tar2crc.c: use FILE_DIGS struct
* swsupplib/progs/tar2newc.c: use FILE_DIGS struct
* swsupplib/shell_lib/README: use FILE_DIGS struct
* swsupplib/shell_lib/shell_lib.sh:
* swsupplib/shell_lib/shlib.h: use FILE_DIGS struct
* swsupplib/swi/swi_common.c: use FILE_DIGS struct
* swsupplib/taru/copyout.c : use FILE_DIGS struct
* swsupplib/taru/cpiohdr.h: added FILE_DIGS structure
* swsupplib/taru/taru.c: use FILE_DIGS struct
* swsupplib/taru/taru.h: use FILE_DIGS struct
* swsupplib/taru/translate.c: use FILE_DIGS struct
* swsupplib/uinfile/uinfile.c: use FILE_DIGS struct

2008-02-23 James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/shell_lib/shell_lib.sh <swlist>: now a installed product
listing has 'sys' as the first column of each line.

2008-02-21 James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swlist_lib.c: fix un-initialized $targetpath variable.

2008-02-19 James Lowe, Jr. <jhlowe@acm.org>
* VERSION now 0.758

2008-02-19 James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swpackage.cxx <swpackage>: now --create-time option sets the
leading directory time as well, this fixes a race-condition and intermittent
failure when using swign.

2008-02-17 James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/taru/copyout.c (taru_process_copy_out): added verbose listing controls
* swprogs/swlist_lib.c: development to support file listing
* swprogs/swproglib.c: development to support file listing
* swprogs/swcopy.c: increased range of legal blocksize for the -b option
* swstructlib/src/swmetadata/swextendedef.h <swpackage>: added message when
verbose level is high.
* swstructlib/src/swmetadata/swmetadata.cxx (swmetadata_decode_file_stats) <swpackage>:
fixed sha2 controls, which had sha2 digests enabled always.
* swstructlib/src/swmetadata/swmetadatavb.h <swpackage>: get_p_offset now no
longer virtual function (deleted from virtual base).

2008-02-15 James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swlist_lib.c: development to support file listing
* VERSION now 0.757

2008-02-14 James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swlist_lib.c: development to support file listing
* swprogs/swlist.c: development to support file listing
* swprogs/swproglib.c: factored in (added) common routines.

2008-02-11 James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swcommon.c (swc_set_shell_dash_s_command): fixed when using posix
* <REVERTED> swsupplib/shell_lib/shell_lib.sh <swlist>: now a installed product
listing has 'sys' as the first column of each line.

2008-02-10 James Lowe, Jr. <jhlowe@acm.org>
* VERSION now 0.755
* swsupplib/shell_lib/shell_lib.sh <swlist>: now a installed product
listing has 'sys' as the first column of each line.

2008-02-08 James Lowe, Jr. <jhlowe@acm.org>
* doc/: Documentation updates
* doc/source/swbis_1.sgml: added
* swprogs/swpackage.cxx <swpackage>: added synonym --gpg-homedir for the
existing option --gpg-path

2008-02-02 James Lowe, Jr. <jhlowe@acm.org>
* VERSION now 0.753

2008-02-02 James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swign.sh.in <swign>: now the distribution object owner and group
attributes are set (which affect ownerships of the catalog files).

2008-01-28 James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swcommon0.c: now format type 'gnu' is same as 'gnutar'
* swprogs/swpackage.cxx: fixed --format=gnu
* swprogs/swpackage.cxx: now format type 'gnu' is same as 'gnutar'
* swsupplib/taru/taru.c: now format type 'gnu' is same as 'gnutar'

2008-01-27 James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/misc/qsort.c: remove include <alloca.h>

2008-01-27 James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/shell_lib/shell_lib.sh (shls_cleansh) <swremove>: fixes for
BSD hosts

2008-01-27 James Lowe, Jr. <jhlowe@acm.org>
* VERSION now 0.751

2008-01-27 James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swremove.c: added --cleansh option
* swprogs/swcommon.c: support for --cleansh option
* swprogs/swremove_lib.c: support for --cleansh option

2008-01-21 James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swign.sh.in <swign>: added --revision option

2008-01-21 James Lowe, Jr. <jhlowe@acm.org>
* VERSION now 0.750

2008-01-21 James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swign.sh.in <swign>: now revision attribute is set to "0.0" in the internally
generated PSF when a revision is not detected in the path
* swstructlib/src/swmetadata/swextendedef.h (makeRelativePath) <swpackage>: Reverted:
(See Below: 2008-01-13 fixed for case when prefix is ".", affected files that begin with ".".)
This change on 2008-01-13 broke the exclude keyword in a PSF

2008-01-19 James Lowe, Jr. <jhlowe@acm.org>
* VERSION now 0.749

2008-01-19 James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/sw_parse/swparse_supp.c (swparse_construct_attribute): now just warn if
invalid UTF-8 chars are detected.
* swprogs/swcopy.c: now set default target path from "-" to "." if target is remote.

2008-01-19 James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swcommon.c (swc_validate_targetpath): added args after the "sh -s" of
/_swbis /_utilname <task> for the task shells and ''_swbis _utilname'' for the
main approach shell
* swprogs/swinstall_lib.c: added identifying args after the 'sh -s' command
* swprogs/swaremove_lib.c: added identifying args after the 'sh -s' command
* swbis/swprogs/swlist_lib.c: added identifying args after the 'sh -s' command
* swprogs/swpackage.cxx: added --checkdigest=FILE option
* swprogs/swpackage.cxx: support specifying a checkdigest script when translating
a plain source tarball
* swsupplib/progs/lxpsf.c <lxpsf>: added -D option
* swsupplib/progs/lxpsf.c <lxpsf>: support specifying a checkdigest script when translating
a plain source tarball
* swsupplib/progs/topsf.c : support specifying a checkdigest script when translating
a plain source tarball

2008-01-15 James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swcommon.c (swc_validate_targetpath): fixed, assign default when targetpath is NUL

2008-01-15 James Lowe, Jr. <jhlowe@acm.org>
* VERSION now 0.747

2008-01-15 James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swinstall.c: support transparent rpm,dep,slack translation
* swprogs/swremove.c: fix initialization of enforce_scripts option
* swsupplib/swi/swi.c (swi_make_fileset_file_list): fix invalid check of path name
* swsupplib/uinfile/uinfile.c: support transparent rpm,dep,slack translation
* swsupplib/uxfio/uxfio.c (uxfio_lseek): added new case to support SEEK_CUR

2008-01-13 James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/uxfio/uxfio.c (uxfio_opendup): fix initial determiniation of uxfd_can_seekM
* swstructlib/src/swmetadata/swmetadata.cxx (swmetadata_decode_file_stats): added check for
correct size when calculating digests (as sanity check).

2008-01-13 James Lowe, Jr. <jhlowe@acm.org>
* swstructlib/src/swmetadata/swextendedef.h (makeRelativePath) <swpackage>: fixed for
case when prefix is ".", affected files that begin with ".".

2008-01-12 James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swcommon.c (swc_validate_targetpath): check for NULL targetpath.

2008-01-12 James Lowe, Jr. <jhlowe@acm.org>
* VERSION now 0.746

2008-01-12 James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swpackage.cxx: Fixed setting owners and perms of the leading
path prefix from the attributes in the PSF distribution object.
* swprogs/swpackage.cxx: code cleanups
* swsupplib/misc/topsf.c <lxpsf>: add support for plain source tarballs.
* swsupplib/uinfile/uinfile.c <lxpsf>: add support for plain source tarballs.
* swsupplib/progs/lxpsf.c <lxpsf>: add support for plain source tarballs.
* swstructlib/src/swexport/swexstruct_i.h <swpackage>: added dir_mtimeM static
member to hold the time of the leading path prefix. (to support making translation
of plain tarball 100% lossless).
* swprogs/swpackage.cxx: respect mtime attribute in the distribution object to mean
the time of the leading path prefix directory.

2008-01-08 James Lowe, Jr. <jhlowe@acm.org>
* VERSION now 0.745

2008-01-08 James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/misc/swlib.c (swlib_synct_suck): reverted: (see below: now initial read is a timed read)

2008-01-08 James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/sw_parse/swparse_supp.c (utf8_valid): added
* swsupplib/sw_parse/swparse_supp.c (swparse_construct_attribute): now
checks for valid UTF-8 
* swsupplib/sw_parse/swparse_supp.c (swparse_construct_attribute): now
processes '\xXX' hex escapes to its respective single byte values.

2008-01-06 James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swcommon.c (swc_read_target_ctl_message): revert nonblocking read(,,1) with
time out to original as this causes breakage.

2008-01-06 James Lowe, Jr. <jhlowe@acm.org>
* VERSION now 0.743

2008-01-06 James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/sw_parse/swlex.l: relaxed non-ascii chars restriction to allow
individually valid UTF-8 chars in definition files.
* swsupplib/sw_parse/swlex.c.20080105: added
* swsupplib/sw_parse/swparse.tab.c.20080105: added
* swsupplib/sw_parse/swparse.tab.h.20080105: added
* swsupplib/sw_parse/Makefile.in: pre-compiled version tag updated to 20080105
* swsupplib/misc/swheader.c (swheader_fileobject2filehdr) <swinstall>: fixed c_dev c_rdev confusion
* swprogs/swcommon.c (swc_read_target_ctl_message): now read(,,1) is nonblocking with time out.

2008-01-05 James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swpackage.cxx (main) <swpackage>: now set umask(0)
* swsupplib/uinfile/uinfile.c <lxpsf>: support slackware packages that have
the install/ control directory at the end

2008-01-04 James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/progs/lxpsf (main) <lxpsf>: added --psf-form3 option which
applies nil control directories for binary rpm package translation.
* swsupplib/misc/rpmpsf.c <lxpsf>:  --psf-form3 option support
* swsupplib/misc/topsf.c <lxpsf>:  --psf-form3 option support
* swprogs/swpackage.cxx (do_unrpm):  use --psf-form3 for translation

2008-01-04 James Lowe, Jr. <jhlowe@acm.org>
* VERSION now 0.742

2008-01-04 James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swinstall.c <swinstall>: fixed preview when there is no catalog
* swprogs/swinstall_lib.c <swinstall>: fixed preview when there is no catalog
* swprogs/swproglib.c: debugging messages added
* swsupplib/misc/swlib.c (swlib_synct_suck): now initial read is a timed read
* swsupplib/misc/topsf.c <lxpsf>: minor fix to slackware translation PSF
* swsupplib/progressmeter/atomicio.c (timed_atomicio): added
* swsupplib/progressmeter/atomicio.h (timed_atomicio): added
* swsupplib/swi/swi.c: debug messages
* swsupplib/uinfile/uinfile.c: fixed invalid detection as a deb package

2008-01-01 James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/sw_parse/Makefile.in: now only use flex if version 2.5.4.
Later versions (i.e. 2.5.33 and .34) result in infinite tight loop in swlex.c

2008-01-01 James Lowe, Jr. <jhlowe@acm.org>
* VERSION now 0.741

2008-01-01 James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swinstall_lib.c (write_target_install_script) <swinstall>:
Now exits on catalog access failure instead of falling through which
it apparently was not doing.
* swprogs/swinstall.c (main) <swinstall>: goto target label changed for
error on swc_read_catalog_ctl_message()

2007-12-30 James Lowe, Jr. <jhlowe@acm.org>
* VERSION now 0.740
* swsupplib/progs/lxpsf.c <lxpsf>: slackware packages now supported

2007-12-30 James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/uinfile/uinfile.c <lxpsf>: development for slackware package support
* swsupplib/misc/topsf.c <lxpsf>: development for slackware package support
* swsupplib/progs/lxpsf.c <lxpsf>: development for slackware package support

2007-12-29 James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/uinfile/uinfile.c <lxpsf>: development for slackware package support
* swsupplib/misc/topsf.c <lxpsf>: development for slackware package support
* swsupplib/progs/lxpsf.c <lxpsf>: development for slackware package support

2007-12-27 James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swpackage.cxx (main) <swpackage>: fixed --passphrase-fd=0
when translating RPMs, debs given as ``-s package.rpm''

2007-12-26 James Lowe, Jr. <jhlowe@acm.org>
* VERSION now 0.739

2007-12-26 James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swpackage.cxx: added check for multiple use of stdin
* swprogs/swverify.sh.in: option fix for -v

2007-12-23 James Lowe, Jr. <jhlowe@acm.org>
* VERSION now 0.738

2007-12-23 James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/taru/copyout.c: fixed hard link handling when translating
tar format input to tar format output. Applied to .deb package 
translation support.

2007-12-19 James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/uinfile/uinfile.c: Fixed development of .deb format support
* swprogs/swpackage.cxx <swpackage>: now -s option can be used to specify a
package name when translating to POSIX format.
* swprogs/swpackage.cxx <swpackage>: added --to-sw

2007-12-18 James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/misc/debpsf.c: <lxpsf>: fixed

2007-12-17 James Lowe, Jr. <jhlowe@acm.org>
* VERSION now 0.737

2007-12-17 Jim Lowe <jhlowe@acm.org>
* swprogs/swpackage.cxx <swpackage>: now supports .deb file translation

2007-12-17 Jim Lowe <jhlowe@acm.org>
* swsupplib/progs/lxpsf <lxpsf>: support deb packages
* swsupplib/uxfio/uxfio.c (uxfio_lseek): fixed case for SEEK_VSET
* swsupplib/misc/swvarfs.c (uxfio_lseek): changed error return values
* swstructlib/src/swmetadata/swmetadata.cxx (swMetaData::swmetadata_local_open)
<swpackage>: fixed operation on virtual filesystem (in memory tar archive) files.
* swstructlib/src/swmetadata/swextendeddef.h (makePathRelative) <swpackage>: fixed

2007-12-16 Jim Lowe <jhlowe@acm.org>
* swsupplib/uxfio/uxfio.c <uxfio_espipe>: fixed, was improperly saying can't seek
* swsupplib/taru/etar.c <etar_set_size_from_fd>: 
* swsupplib/progs/lxpsf.c <lxpsf>: development to support .deb packages
* swsupplib/misc/debpsf.c: <lxpsf>: development

2007-12-15 Jim Lowe <jhlowe@acm.org>
* swsupplib/misc/swssh.c: added support for dash shell (even though
at this time dash requires a patch to work with swbis)

2007-12-13 Jim Lowe <jhlowe@acm.org>
* swprogs/swpackage.cxx <swpackage> (main): fix option, --archive-digest now --archive-digests
* swprogs/swpackage.cxx <swpackage> (main): fix option, --archive-digests-sha2
now --archive-sha512
* swprogs/swpackage.cxx <swpackage> (main): fix option, --file-digests-sha2
now --file-sha512
* swprogs/swpackage.cxx <swpackage> (main): added --sha1 option
* swsupplib/misc/debpsf.c: development

2007-12-09 Jim Lowe <jhlowe@acm.org>
* swsupplib/misc/debpsf.c: development
* swsupplib/uxfio/uxfio.c (uxfio_unix_safe_read): now works with
uxfio file descriptors, not just Unix file descriptors.

2007-12-08 Jim Lowe <jhlowe@acm.org>
* swsupplib/misc/debpsf.c: development

2007-12-07 Jim Lowe <jhlowe@acm.org>
* swsupplib/misc/debpsf.c: development to support .deb format translation
* swsupplib/misc/debpsf.h: development to support .deb format translation
* swsupplib/misc/topsf.c: development to support .deb format translation
* swsupplib/misc/topsf.h: development to support .deb format translation

2007-12-07 Jim Lowe <jhlowe@acm.org>
* swprogs/swverify_lib.c: development

2007-12-04 Jim Lowe <jhlowe@acm.org>
* swprogs/swverify_lib.c: development

2007-12-03 Jim Lowe <jhlowe@acm.org>
* VERSION now 0.736

2007-12-01 Jim Lowe <jhlowe@acm.org>
swprogs/swremove.c <swremove>: now support volatile file policy
swprogs/swinstall.c <swinstall>: added --keep-volatile-files option 

2007-12-01 Jim Lowe <jhlowe@acm.org>
swprogs/swproglib.c (swpl_rename_suffix): added

2007-11-27 Jim Lowe <jhlowe@acm.org>
* swprogs/swremove.c <swremove>: added swbis_remove_volatile extended option
* swsupplib/swi/swi.c (swi_fl_set_user_flag): added
* swsupplib/swi/swi.c (swi_fl_get_user_flag): added
* swprogs/swremove_lib.c <swremove>: developement to support volatile files

2007-11-24 Jim Lowe <jhlowe@acm.org>
* VERSION now 0.735

2007-11-24 Jim Lowe <jhlowe@acm.org>
* swprogs/swverify.sh.in: Fixed option handling

2007-11-23 Jim Lowe <jhlowe@acm.org>
* swprogs/swinstall.c (main) <swinstall> : fixed hang on incompatible package

2007-11-23 Jim Lowe <jhlowe@acm.org>
* VERSION now 0.733

2007-11-22 Jim Lowe <jhlowe@acm.org>
* swprogs/swverify.sh.in: development

2007-11-20 Jim Lowe <jhlowe@acm.org>
* swprogs/iswverify.c <swverify>: development

2007-11-18 Jim Lowe <jhlowe@acm.org>
* VERSION now 0.733

2007-11-18 Jim Lowe <jhlowe@acm.org>
* swprogs/swverify.sh.in: now runs libexec/swbis/iswverify
for installed software
* swprogs/iswverify.c: added (copied from swremove.c)
* swprogs/swverify_lib.c: added (copied from swremove_lib.c)
and modified to disable removal.
* swprogs/Makefile.in <swverify>: iswverify now installed
in <libexec>/swbis

2007-11-14 Jim Lowe <jhlowe@acm.org>
* swprogs/swverify.sh.in <swverify>: development to support
checking installed software.

2007-11-10 Jim Lowe <jhlowe@acm.org>
* swsupplib/shell_lib/shell_lib.sh (shls_cleanbash): added

2007-11-04 Jim Lowe <jhlowe@acm.org>
* VERSION now 0.732

2007-11-03 Jim Lowe <jhlowe@acm.org>
* swprogs/swproglib.c (swpl_remove_catalog_entry) <swinstall>: now old entries are removed

2007-10-27 Jim Lowe <jhlowe@acm.org>
* VERSION now 0.731

2007-10-24 Jim Lowe <jhlowe@acm.org>
* swprogs/swinstall.c (main) <swinstall> : fixed hang on target ssh failure.

2007-10-23 Jim Lowe <jhlowe@acm.org>
* swsupplib/misc/swlib.h: tainted chars now include "[]"
* swprogs/swproglib.c (swpl_signature_policy_accept): fixed messages
* swsupplib/shell_lib/shell_lib.sh (shls_check_for_gnu_tar): fixed stderr redirection

2007-10-22 Jim Lowe <jhlowe@acm.org>
* swsupplib/swi/swi.c (swi_make_file_list): interface change, added
* swsupplib/swi/swi.c (swi_make_fileset_file_list): added

2007-10-21 Jim Lowe <jhlowe@acm.org>
* doc/Makefile.in: fixed missing installation of info files
* PSF.bin.in: added missing info files
* swsupplib/misc/swicat.c: fixed compiler'ism that broke compilation RH7.0 system
* swprogs/swremove_lib.c: fixed hang when no compatible product found for removal.

2007-10-20 Jim Lowe <jhlowe@acm.org>
* VERSION now 0.730

2007-10-20 Jim Lowe <jhlowe@acm.org>
* swprogs/swpackage.cxx (set_numeric): Fixed brokeness caused by the c.2007-10-07 clean up.
* tests/regression/test026.sh: Added '-s .' as required since 2007-10-13 change.

2007-10-20 Jim Lowe <jhlowe@acm.org>
* swstructlib/src/swexport/swexfileset.h (emitStorageStructure) <swpackage>: Fixed
special case of a path of "/" by appending "./".

2007-10-20 Jim Lowe <jhlowe@acm.org>
* swstructlib/src/swexport/swexfileset.h (emitStorageStructure) <swpackage>: now handle
special case of a path of "/" by appending "./".
* swsupplib/misc/swlib.c (swlib_toggle_trailing_slash): guard against single /
* swsupplib/misc/swlib.c (swlib_toggle_leading_slash): guard against single /
* swprogs/swinstall_lib.c (arfinstall_tar) <swinstall>: Fixed handling of "/" in a package,
as represented as "<path>/control_dir/control_dir/./"

2007-10-16 Jim Lowe <jhlowe@acm.org>
* swsupplib/uinfile/uinfile.c: Fixed development of .deb format support

2007-10-14 Jim Lowe <jhlowe@acm.org>
* swsupplib/uinfile/uinfile.c: development of .deb format support
* swsupplib/misc/u_ar.h: added (copied from /usr/include/ar.h)

2007-10-13 Jim Lowe <jhlowe@acm.org>
* swprogs/swign.sh.in: changed default source file to stdin
* swsupplib/misc/shcmd.c: added feature for internal filter
* swsupplib/misc/shcmd.h: added feature for internal filter
* swprogs/swpackage.cxx: fixed numeric option broken by the c.2007-10-07 clean up.
* VERSION now 0.729

2007-10-07 Jim Lowe <jhlowe@acm.org>
* swprogs/swinstall.c (main) <swinstall> : options cleanups
* swprogs/swremove.c (main) <swremove> : options cleanups
* swprogs/swlist.c (main) <swlist> : options cleanups
* swprogs/swpackage.c (main) <swpackage> : options cleanups

2007-10-07 Jim Lowe <jhlowe@acm.org>
* VERSION now 0.728

2007-10-07 Jim Lowe <jhlowe@acm.org>
* swsupplib/misc/swlib.c (swlib_exec_filter): uninitialized variable

2007-10-07 Jim Lowe <jhlowe@acm.org>
* swprogs/swinstall.c (main) <swinstall> : options cleanups
* swprogs/swremove.c (main) <swremove> : options cleanups
* swprogs/swlist.c (main) <swlist> : options cleanups
* swprogs/swpackage.c (main) <swpackage> : options cleanups

2007-10-06 Jim Lowe <jhlowe@acm.org>
* swsupplib/misc/swextopt.c (swbisoption_get_opta);

2007-10-06 Jim Lowe <jhlowe@acm.org>
* VERSION now 0.727

2007-10-06 Jim Lowe <jhlowe@acm.org>
* swprogs/swpackage.cxx (main) <swpackage>: now close all fd's in compressor
program.
* swsupplib/misc/swgpg.c (swgpg_show): fixed breakage caused by 2007-09-30
change to swgpg_get_number_of_sigs().
* swsupplib/misc/swlib.c (swlib_exec_filter): now close pipes properly.
* swsupplib/misc/swlib.c (swlib_exec_filter): now do not call shcmd_wait()
on exception. This fixes a hang of swverify when the package has a bad signature
CRC.
* swprogs/swpackage.cxx (main) <swpackage>: fix exit status when compression is
used.

2007-10-05 Jim Lowe <jhlowe@acm.org>
* VERSION now 0.726

2007-10-05 Jim Lowe <jhlowe@acm.org>
* swsupplib/uxfio/uxfio.c (uxfio_get_dynamic_buffer): set untracked extra
last byte of memory segment to '\0'.
* swsupplib/misc/swicat.c (squash_null_block): more fixes, fixed maybe 
* swsupplib/misc/swlib.c (swlib_synct_read): cleanups, more fixed, fixed maybe

2007-10-04 Jim Lowe <jhlowe@acm.org>
* swsupplib/misc/swlib.c (swlib_synct_read): Fixed possible hang condition
when reading the catalog entries.  Affects all utilities except swpackage
and swverify.

2007-09-30 Jim Lowe <jhlowe@acm.org>
* swprogs/swpackage.cxx <swpackage>: now --bzip2 and --gzip options are implemented.
* swprogs/swremove_lib.c (make_remove_command_script_fragment) <swremove>: fixed use of
uninitialized shell variable.
* swsupplib/misc/swgpg.c (swgpg_get_number_of_sigs): fixed mis-counting number of sigs

2007-09-28 Jim Lowe <jhlowe@acm.org>
* swprogs/swremove_lib.c (swremove_looper_sr_payload) <swremove>: handle permission denied
error gracefully.
* swprogs/swinstall.c (main) <swinstall>: support swbis_sig_level option
* swprogs/swlist.c (main) <swlist>: support swibs_sig_level option
* Documentation updates

2007-09-28 Jim Lowe <jhlowe@acm.org>
* VERSION now 0.723

2007-09-28 Jim Lowe <jhlowe@acm.org>
* swsupplib/misc/strob.c: added code to maintain
a memory pool of objects. This code is currently disabled.

2007-09-26 Jim Lowe <jhlowe@acm.org>
* swsupplib/misc/swicat.c (swicat_squash_null_bytes): fixed, now stray NULS
are not in swlist product listing.
* swsupplib/uxfio/uxfio.c (uxfio_ftruncate): fixed, and now used in swicat.c

2007-09-24 Jim Lowe <jhlowe@acm.org>
* swsupplib/misc/swicat.c (swicat_squash_null_bytes): extra NUL in output now gone
* swsupplib/misc/swlib.c (squash_trailing_char): now control min length

2007-09-24 Jim Lowe <jhlowe@acm.org>
* swprogs/swcommon.c (swc_process_selection_files): added
* swprogs/swlist.c <swlist>: support -f option 
* swprogs/swremove.c <swremove>: support -f option 
* swprogs/swinstall.c <swinstall>: support -f option 

2007-09-22 Jim Lowe <jhlowe@acm.org>
* swprogs/swremove_lib.c: now respect --ignore-scripts option

2007-09-18 Jim Lowe <jhlowe@acm.org>
* VERSION now 0.721

2007-09-16 Jim Lowe <jhlowe@acm.org>
* swsupplib/misc/swverid.c (swverid_open): check for NULL caused
by a empty string software spec.

2007-09-16 Jim Lowe <jhlowe@acm.org>
* doc/Makefile.in: added swremove targets
* doc/source/swremove_8.sgml: added
* doc: updated documentation

2007-09-15 Jim Lowe <jhlowe@acm.org>
* swstructlib/src/swmetadata/swextendeddef.h <swpackage>: added feature
to exclude directive where a path with a trailing slash means exclude
the directory but not the contents of the directory.
* swsupplib/misc/shcmd.c (shcmd_find_in_path) <swverify> : now requires
the command be a regular file
* swsupplib/misc/swgpg.c (swgpg_run_checksig2) <swverify> : fixed error out
code when the 'gpg' command is not found.

2007-09-14 Jim Lowe <jhlowe@acm.org>
* VERSION now 0.721

2007-09-08 Jim Lowe <jhlowe@acm.org>
* swprogs/swreomve_lib.c (make_remove_command_script_fragment) <swremove>: uncommented
line that should not have been for preremove script execution.

2007-09-07 Jim Lowe <jhlowe@acm.org>
* swprogs/swremove_lib.c: initialization fixes to
support postremove and preremove scripts.
* swremove: now possibly beta

2007-09-06 Jim Lowe <jhlowe@acm.org>
* swprogs/swremove_lib.c: new development to support
premove and postremove control scripts.

2007-09-03 Jim Lowe <jhlowe@acm.org>
* swprogs/swremove_lib.c: new development

2007-09-01 Jim Lowe <jhlowe@acm.org>
* VERSION now 0.701

2007-09-01 Jim Lowe <jhlowe@acm.org>
* swprogs/swverify.sh.in: portablity fixes for OpenSolaris' /bin/sh
* swprogs/swremove_lib.c (swremove_looper_sr_payload): now set *rp_status to
report failure to lock session

2007-08-31 Jim Lowe <jhlowe@acm.org>
* swprogs/swinstall.c (SWBIS_TS_remove_catalog_entry): added use of, therefore
the swinstall utility now removes the upgrade catalog entry.
* VERSION now 0.700

2007-08-31 Jim Lowe <jhlowe@acm.org>
* swsupplib/misc/swlib.h (std_quicksort): fix prototype
* swsupplib/misc/qsort.h: fix lack of compare_function type in some environments

2007-08-30 Jim Lowe <jhlowe@acm.org>
* swprogs/swremove.c: now swremove utility is working
* swprogs/swremove_lib.c: now fully functional

2007-08-28 Jim Lowe <jhlowe@acm.org>
* swprogs/swproglib.c: error return code checks tightened
* swsupplib/misc/swicol.c: error return values 

2007-08-27 Jim Lowe <jhlowe@acm.org>
* swprogs/swremove_lib.c (swremove_looper_sr_payload): development, improved error paths 

2007-08-24 Jim Lowe <jhlowe@acm.org>
* swsupplib/misc/swicat_e.c (swicat_e_form_catalog_path): fixes to make functional
* swprogs/swproglib.c (swpl_remove_catalog_entry): added
* swprogs/swremove_lib.c (make_remove_command_script_fragment): added

2007-08-22 Jim Lowe <jhlowe@acm.org>
* swsupplib/misc/swicat_e.c (swicat_e_open_entry_tarball): more initialization
* swsupplib/misc/swicat_e.c (swicat_e_open_catalog_tarball): refactor

2007-08-21 Jim Lowe <jhlowe@acm.org>
* swprogs/swremove_lib.c (swremove_looper_sr_payload): fixed error path
* swsupplib/misc/swicat_e.c (swicat_e_form_catalog_path): added

2007-08-20 Jim Lowe <jhlowe@acm.org>
* swprogs/swremove.c (main): add wait-for for SWI_MAIN_SCRIPT_ENDS event
* swprogs/swlist.c (main): add wait-for for SWI_MAIN_SCRIPT_ENDS event
* swprogs/swlist.c (main): improved shutdown on SIGINT

2007-08-19 Jim Lowe <jhlowe@acm.org>
* ./catalog: updated
* swsupplib/misc/swextopt.c (swextopt_combine_directory): fixed when
distribution_<source|target>_directory is a '.' by detecting a fully qualified
soc_spec
* swsupplib/misc/swicol.c (swicol_rpsh_wait_for_event): added
* swsupplib/misc/swevents.h (SWI_MAIN_SCRIPT_ENDS): added
* swprogs/swinstall.c <swinstall>: now wait for SWI_MAIN_SCRIPT_ENDS ends which
solves the problem of stranded 'sh -s' processes.

2007-08-18 Jim Lowe <jhlowe@acm.org>
* VERSION: now 0.621

2007-08-09 Jim Lowe <jhlowe@acm.org>
* swsupplib/misc/qsort.c: added (taken from glibc-2.3.6)
* swsupplib/swi/swi.c (swi_fl_qsort): added

2007-08-08 Jim Lowe <jhlowe@acm.org>
* swsupplib/swi/swi.c: added swi_fl_<*> routines
* swsupplib/misc/strar.c (strar_return_store): added
* swprogs/swremove_lib.c: now uses a SWI_FILELIST object

2007-08-07 Jim Lowe <jhlowe@acm.org>
* swsupplib/swi/swi.c (swi_make_file_list): added
* swprogs/swremove_lib.c (swremove_looper_sr_payload): code for
making a file list moved into swi.c
* swprogs/swremove.c: cleanups
* swprogs/swinstall_lib.c: an unintended comma operator replaced with a ';'
* swsupplib/misc/swicol.c (swicol_rpsh_wait_318): now add events to the 
event stack so they show up in the --debug-events verbosity.

2007-08-06 Jim Lowe <jhlowe@acm.org>
* swsupplib/taru/taruib_i.c (taruib_write_signedfile_if): fix digest error messages
* swsupplib/taru/taruib_i.c (taruib_write_signedfile_if): replace read()
with safeio(read,...) 
* swsupplib/misc/swlib.c (swlib_exec_filter): now properly wait on the child
with waitpid().

2007-08-05 Jim Lowe <jhlowe@acm.org>
* swsupplib/taru/taruib_i.c: now support checking sha512 digest
* swsupplib/taru/taruib.c: now support checking sha512 digest
* swsupplib/taru/taruib_i.c (taruib_arfinstall): removed as now dead code
* swsupplib/misc/swgpg.c (swgpg_run_checksig2): created to fix stdout/stderr
usage of swverify.
* swsupplib/progs/arf2arf.c: now uses swgpg_run_checksig2 in place of
swgpg_run_checksig

2007-08-04 Jim Lowe <jhlowe@acm.org>
* swprogs/swinstall.c: added use swlib_kill_all_pids() to prevent
hang on exception.

2007-08-04 Jim Lowe <jhlowe@acm.org>
* swprogs/swremove_lib.c: development
* swprogs/swcommon.c: added shutdown sighandler for USR2 in logger process
* VERSION: now 0.620

2007-08-01 Jim Lowe <jhlowe@acm.org>
* swprogs/swproglib.c (swpl_construct_script): renamed to
swpl_construct_script_cases
* swprogs/swproglib.c (swpl_construct_prepost_script): renamed to
swpl_construct_script

2007-07-31 Jim Lowe <jhlowe@acm.org>
* swprogs/swproglib.c (swpl_signature_policy_accept): added verbose messages

2007-07-30 Jim Lowe <jhlowe@acm.org>
* swsupplib/misc/swgpg.c (gpg_fifo_command): fix broken verbose level
* swprogs/swign.sh.in: added helpful error message

2007-07-30 Jim Lowe <jhlowe@acm.org>
* swsupplib/misc/swlib.c (swlib_exec_filter): set signal handlers to defaults
* swsupplib/misc/swlib.c (swlib_shcmd_output_fd): set signal handlers to defaults
* VERSION: now 0.616

2007-07-29 Jim Lowe <jhlowe@acm.org>
* swsupplib/misc/swgpg.c (swgpg_show): added
* swsupplib/misc/swgpg.c: development

2007-07-28 Jim Lowe <jhlowe@acm.org>
* swsupplib/misc/swgpg.c (swgpg_show): added
* swprogs/swproglib.c (swpl_signature_policy_accept): added
* swprogs/swremove_lib.c: development
* etc/swbisdefaults: swbis_enforce_one_signature renamed to swbis_sig_level
* swprogs/swinstall.c: swbis_enforce_one_signature renamed to swbis_sig_level
* swprogs/swproglib.c: swbis_enforce_one_signature renamed to swbis_sig_level
* swprogs/swremove.c: swbis_enforce_one_signature renamed to swbis_sig_level
* swprogs/swcommon_options.h: swbis_enforce_one_signature renamed to swbis_sig_level
* swsupplib/misc/swextopt.h: swbis_enforce_one_signature renamed to swbis_sig_level

2007-07-28 Jim Lowe <jhlowe@acm.org>
* swprogs/swproglib.c (swpl_signature_policy_accept): added
* swsupplib/misc/swgpg.c (swgpg_get_status): added
* swsupplib/misc/swgpg.c (swgpg_set_status): added
* swsupplib/misc/swgpg.c (swgpg_get_number_of_sigs): added
* swsupplib/misc/swgpg.h (SWGPG_SIG_ERROR): added
* swsupplib/strob/strob.c (strob_get_char): changed returned value on error
* swprogs/swcommon.c: now SIGTERM is blocked in the logger process
and the normal shutdown signal is SIGUSR2
* swsupplib/misc/swlib.h (SWBIS_LOGGER_SIGTERM): defined as SIGUSR2
* swprogs/swremove_lib.c (swremove_looper_sr_payload): fixed
return status when can't lock
* swprogs/swcommon.c (swc_fork_logger): now SIGINT is blocked in
logger process (SIGTERM should be too).
* swprogs/swremove.c (main): more fixes for clean shutdown on sigint.

2007-07-26 Jim Lowe <jhlowe@acm.org>
* swprogs/swremove.c: Fixed when selections match nothing.

2007-07-25 Jim Lowe <jhlowe@acm.org>
* swprogs/swremove.c: fixed stranded ''bash -s' processes being left
on remote hosts
* swprogs/swremove.c: exception handling clean-ups/fixes.

2007-07-24 Jim Lowe <jhlowe@acm.org>
swprogs/swcommon.c: cleanups, make all read/write safe and/or atomic
swprogs/swproglib.c: cleanups
swprogs/swremove.c: development
swstructlib/src/swexstruct/swexstruct.h: cleanups
swstructlib/src/swexstruct/swexstruct_i.h: cleanups
swstructlib/src/swexstruct/swscollection.cxx: cleanups
swstructlib/src/swexstruct/swscollection.h: cleanups
swstructlib/src/swexstruct/swstruct.h: cleanups
swstructlib/src/swexstruct/swstruct_i.cxx: cleanups
swstructlib/src/swexstruct/swstruct_i.h: cleanups
swsupplib/misc/swevents.c: cleanups
swsupplib/misc/swfork.c: cleanups
swsupplib/misc/swgpg.c: cleanups
swsupplib/misc/swlib.c: cleanups
swsupplib/misc/swutillib.c: cleanups
swsupplib/misc/topsf.c: cleanups
swsupplib/progresmeter/atomicio.c: cleanups
swsupplib/taru/etar.c: cleanups
swsupplib/taru/pcopyin.c: cleanups
swsupplib/uxfio/uxfio.c: cleanups

2007-07-23 Jim Lowe <jhlowe@acm.org>
* swsupplib/taru/copyout.c (taru_process_copy_out): change several reads
from safe reads to safe-atomic reads to fix an apparent reliability problem.
* swsupplib/misc/swlib.c (swlib_tee_to_file): prototype changed to specify length

2007-07-22 Jim Lowe <jhlowe@acm.org>
* swsupplib/misc/swvarfs.c (swvarfs_close): fix file descriptor leak
* swsupplib/uinfile/uinfile.c (uinformat_close): fix file descriptor leak
* swprogs/swremove.c: improved shutdown on SIGINT
* swprogs/globalblob.h: added data structure members
* swprogs/swcommon.c: fixes for signal handling
* swprogs/swinstall.c: signal handling fixes

2007-07-21 Jim Lowe <jhlowe@acm.org>
* VERSION: now 0.615

2007-07-21 Jim Lowe <jhlowe@acm.org>
* swsupplib/taru/taruib_i.c (taruib_write_signedfile_if_i): reverted
breakage caused on 2007-07-19

2007-07-21 Jim Lowe <jhlowe@acm.org>
* swprogs/swlist.c
* swprogs/swproglib.c
* swprogs/swremove.c
* swprogs/swremove_lib.c
* swprogs/swremove_lib.h
* swprogs/swverify.sh.in
* swprogs/swverify_installed.c
* swstructlib/src/misc/swstructdef.h
* swsupplib/misc/swicat_e.c
* swsupplib/misc/swicat_e.h
* swsupplib/misc/swlib.c
* swsupplib/misc/swlib.h
* swsupplib/misc/swsdflt.c
* swsupplib/misc/swsdflt.h
* swsupplib/progs/tar2crc.c
* swsupplib/progs/tar2newc.c
* swsupplib/taru/copyout.c
* swsupplib/taru/otar.c
* swsupplib/taru/taru.h
* swsupplib/taru/translate.c
* swsupplib/uxfio/uxfio.c
* swsupplib/uxfio/uxfio.h

2007-07-19 Jim Lowe <jhlowe@acm.org>
* swsupplib/taru/taruib_i.c (write_selected_sig): now truncate trailing
newlines when displaying signature via swverify -G /dev/tty for example.
* swprogs/swverify.sh.in: fixed option processing

2007-07-17 Jim Lowe <jhlowe@acm.org>
* swsupplib/uxfio/uxfio.c (uxfio_lseek): fixed seeking
when the virtual end-of-file (via cmd UXFIO_F_SET_VEOF) is set.

2007-07-15 Jim Lowe <jhlowe@acm.org>
* swsupplib/misc/swutillib.c (swutil_cpp_doif_writef): added
* swsupplib/misc/swutillib.c (cpp_doif_writef): added
* swsupplib/uxfio/uxfio.c (uxfio_lseek): added new case for when
VEOF is set and seeking with cmd UXFIO_SEEK_VSET or SEEK_SET
* swprogs/swign.sh.in: Fix --no-psf-detect option
* swprogs/swign.sh.in: Fix --show-psf option
* PSF.bin.in: added
* swsupplib/misc/swicat_e.c: development

2007-07-14 Jim Lowe <jhlowe@acm.org>
* swsupplib/misc/swicat_e.c (swicat_e_open_swi): added 

2007-07-12 Jim Lowe <jhlowe@acm.org>
* swsupplib/misc/swicat_e.h: added offsets and prefix to struct
to allow opening a archive with more that one catalog entry.
* swsupplib/misc/swicat_e.c (swicat_e_open_catalog_tarball): added

2007-07-10 Jim Lowe <jhlowe@acm.org>
* swprogs/swinstall_lib.c: added 2>/dev/null to dd invocation
* swprogs/swproglib.c: added 2>/dev/null to dd invocation
* swsupplib/misc/swicol.c: added 2>/dev/null to dd invocation
* swsupplib/shell_lib/shell_lib.sh: added 2>/dev/null to dd invocation
* swsupplib/misc/swicol.c: level SWC_VERBOSE_5 for /dev/null redirection was
level SWC_VERBOSE_4.

2007-07-09 Jim Lowe <jhlowe@acm.org>
* swprogs/swproglib.c: now support configure script and others.
* swprogs/swinstall_lib.c: now support configure script and others. 
* swprogs/swinstall.c: fixed defer_configure extended option
* swprogs/swproglib.c (swpl_get_utsname_attributes): now time limit is 100 sec

2007-07-08 Jim Lowe <jhlowe@acm.org>
* swsupplib/swi/swi_afile.c (make_case_pattern_for_unused_tags): now exits
with SWBIS_STATUS_COMMAND_NOT_FOUND.
* swsupplib/misc/sw.sh (SWBIS_STATUS_COMMAND_NOT_FOUND): added
* swprogs/swproglib.c (swpl_construct_configure_script): added
* swprogs/swinstall_lib.c (determine_if_do_configure): added
* swinstall: add support for running configure script.

2007-07-07 James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swproglib.c (swpl_send_null_task2): added
* swprogs/swproglib.c (swpl_looper_payload_routine): added
* swprogs/swremove.c: development and refactoring
* swprogs/swremove_lib.c: development and refactoring
* swprogs/swcommon0.h (SWBIS_TS_report_status): added

2007-07-06 James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/misc/swicat_s.c (swicat_sr_form_catalog_path): 
added buffer to modify, or use object buffer if NULL.
* swsupplib/misc/swevents.c (SW_SELECTION_EXECUTION_ENDS): added
* swsupplib/misc/swevents.c (SW_SELECTION_EXECUTION_BEGINS): added
* swprogs/swremove.c
* swprogs/swremove_lib.c
* swsupplib/misc/swgp.c (swgp_write_as_echo_line): added

2007-07-05 James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/misc/swicol.c (task_wait_for): wait time shortened to
297000 nanoseconds
* swprogs/swremove.c: development
* swprogs/swremove_lib.c: development

2007-07-04 James Lowe, Jr. <jhlowe@acm.org>
* ChangeLog: corrected syntax
* swprogs/swremove.c: development
* swprogs/swremove_lib.c: development
* swsupplib/misc/swgpg.c (swgpg_reset): added
* swsupplib/misc/swevents.h (SW_SOC_IS_READ_ONLY): added
* swsupplib/misc/swevents.c (SW_SOC_IS_READ_ONLY): added
* swprogs/swproglib.c: changed module prefix from swpg_ to swpl_
* swprogs/swproglib.h: changed module prefix from swpg_ to swpl_

2007-07-01 James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swremove_lib.c: development
* swprogs/swremove.c: development

2007-07-01 James Lowe, Jr. <jhlowe@acm.org>
* VERSION now 0.603

2007-06-30 James Lowe, Jr. <jhlowe@acm.org>
* all files:  license notices now reflect GPL version 3
* all files:  fixed the postal mail address of the FSF

2007-06-30 James Lowe, Jr. <jhlowe@acm.org>
* COPYING: now GPL Version 3
* swprogs/swproglib.c (swpg_shellfrag_session_unlock): added
* swprogs/swproglib.c (swpg_shellfrag_session_lock): added
* swprogs/swproglib.c (swpg_session_lock): added
* swprogs/swinstall_lib.c: factoring
* swsupplib/misc/swgp.c (swgp_read_line): added argument 'do_append'

2007-06-28 James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/misc/swicat_e.c: development
* swsupplib/misc/swgpg.c: development
* swsupplib/misc/swgpg.h: added SWGPG_VALIDATE data structure

2007-06-27 James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/misc/swlib.c (swlib_i_pipe_pump): added argument for
output buffer.
* swsupplib/misc/swlib.c (swlib_ascii_text_fd_to_buf): added

2007-06-25 James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/misc/swicat_e.c: created
* swsupplib/misc/swicat_e.h: created

2007-06-22 James Lowe, Jr. <jhlowe@acm.org>
* swstructlib/src/swmetadata/swdefinition.cxx write_fd: 
remove leading spaces in INFO files.
* swstructlib/src/swmetadata/swattribute.cxx (write_fd):
remove leading spaces in INFO files.
* swprogs/swremove_lib.c: developmentc
* swprogs/swremove.c: development
* swsupplib/shell_lib/shell_lib.sh (shls_looper): added

2007-06-16 James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swproglib.c (swpg_get_samepackage_query_response): copied
from swinstall.c as a re-factor.
* swprogs/swinstall.c: refactoring
* swprogs/swremove.c: development

2007-06-14 James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swremove.c: development

2007-06-12 James Lowe, Jr. <jhlowe@acm.org>
* ./swprogs/swremove.c: now compiles but is non-functional
* ./swprogs/globalblob.h: support for swremove.c
* ./swprogs/pax_commands.h: support for swremove.c
* ./swprogs/swcommon.c: support for swremove.c
* ./swprogs/swcommon.h: support for swremove.c
* ./swprogs/swcommon0.h: support for swremove.c
* ./swprogs/swremove.c: support for swremove.c
* ./swprogs/swremove_lib.h: support for swremove.c
* ./swsupplib/misc/swcommon_options.h: support for swremove.c
* ./swsupplib/misc/swextopt.h: support for swremove.c

2007-06-10 James Lowe, Jr. <jhlowe@acm.org>
* VERSION now 0.602
* swprogs/swverify_installed.c: created
* swprogs/swremove.c: created
* swprogs/swremove_lib.c: created
* swprogs/swremove_lib.h: created

2007-06-09 James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/misc/swlib.c (swlib_exec_filter): fixed when ifd is 0
* swsupplib/tests/testgpgverify.c: created

2007-06-07 James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/misc/swlib.c (swlib_exec_filter):
* swsupplib/misc/topsf.c (topsf_rpm_do_audit_hard_links):

2007-06-06 James Lowe, Jr. <jhlowe@acm.org>
* doc/Makefile.in: doc generation fixes for RH derived distribution
* doc/refme.sh: changes
* swsupplib/misc/swgpg.c: created
* swsupplib/misc/swgpg.h: created
* swsupplib/progs/arf2arf.c: re-factor

2007-06-04 James Lowe, Jr. <jhlowe@acm.org>
* VERSION now 0.601

2007-06-02 James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/misc/rpmpsf.c: RPMFLAGS version id was "rg" now "g"
* swprogs/swproglib.c (swpg_get_dependency_specs): now call swlib_expand_escapes()
* swsupplib/misc/swextopt.c (swextopt_combine_directory): fixed
* swprogs/swbisparse.cxx: include some missing headers that only gcc-4.2 cared
were missing.
 
2007-06-01 James Lowe, Jr. <jhlowe@acm.org>
* VERSION now 0.599

2007-06-01 James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swinstall.c:  Now, the correct catalog instance_id is
determined and used thus allowing more that one installation
instance of a package (due to having different locations).

2007-05-28 James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swinstall.c: developement of code to select the catalog
instance path component i.e. tag/tag/revision/<instance>/...
* swsupplib/misc/swvarfs.c swvarfs_dirent_reset(SWVARFS * swvarfs): added
* swsupplib/misc/swicat_s.c (swicat_sr_form_swspec_from_catalog_path): was named
swicat_sr_form_swverid_from_catalog_path

2007-05-27 James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/misc/swvarfs.c (swvarfs_i_iopen): now don't turn
uxfio buffer off (this fixed swvarfs_opendup(fd) where fd was
a uxfio descriptor).

2007-05-26 James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/misc/swextopt.c: allow "yes" and "no" for true
and false for boolean extended options
* swprogs/swinstall_lib.c:  added SWBIS_TS_Get_iscs_entry event
* swprogs/swinstall.c: added SWBIS_TS_Get_iscs_entry event 

2007-05-24 James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/misc/swicat.c (swicat_isf_installed_software): don't add path
and catalog attributes to INSTALLED since this makes the catalog non-portable
(i.e. non relocatable) and since the spec says these values are dynamically
created by swlist.

2007-05-23 James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/misc/strar.c: (strar_max_index) renamed to strar_num_elements()
* swsupplib/misc/swicat_s.c (swicat_sr_form_swverid_from_catalog_path): added
* swprogs/swinstall.c: analysis phase development

2007-05-22 James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swinstall.c: added support for existing multiple version test.

2007-05-20 James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swinstall.c: developement of analysis phase requirements

2007-05-19 James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swinstall.c: developement of analysis phase requirements

2007-05-16 James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swinstall.c: developement of analysis phase requirements

2007-05-15 James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/misc/swheader.c (swheader_get_single_attribute_value): fixed state
restoration.
* swprogs/swinstall.c: development

2007-05-12 James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swverify.sh.in: fixed arg processing error
for the case of ``swverify @ :name''

2007-05-11 James Lowe, Jr. <jhlowe@acm.org>
* VERSION now 0.597
* swsupplib/misc/swlib.c (swlib_digests): now allows selection
of which digests to compute depending on which buffers are non-NULL.

2007-05-10 James Lowe, Jr. <jhlowe@acm.org>
./swprogs/swpackage.cxx: added swbis_archive_digests_sha2 and
swbis_file_digests_sha2
./swprogs/swpackage.cxx: changes for support of sha512 digest
./swstructlib/src/swexport/swexstruct_i.h: changes for support of sha512 digest
./swstructlib/src/swmetadata/swextendeddef.h: changes for support of sha512 digest
./swstructlib/src/swmetadata/swmetadata.cxx: changes for support of sha512 digest
./swstructlib/src/swmetadata/swmetadata.h: changes for support of sha512 digest
./swstructlib/src/swmetadata/swpsf.h: changes for support of sha512 digest
./swsupplib/misc/sw.h: changes for support of sha512 digest
./swsupplib/misc/swcommon_options.h: changes for support of sha512 digest
./swsupplib/misc/swextopt.h: changes for support of sha512 digest
./swsupplib/sw_parse/sw_keyword.h: changes for support of sha512 digest

2007-05-10 James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/misc/swcommon_options.h: added archive_digests_sha2 and
file_digests_sha2
* swsupplib/misc/swextopt.h: added archive_digests_sha2 and
file_digests_sha2

2007-05-09 James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/misc/sha.c (sha_stream): uxfio_read() changed to uxfio_sfread()
* swsupplib/misc/sha512.c: added
* swsupplib/misc/sha512_orig.c: added from coreutils-6.9
* swsupplib/misc/sha512.h: added
* swsupplib/misc/sha512_orig.h: added from coreutils-6.9

2007-05-06 James Lowe, Jr. <jhlowe@acm.org>
* VERSION now 0.596
* swprogs/swinstall.c: prerequisites now supported
* swprogs/swinstall.c: exrequisites now supported

2007-05-06 James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swinstall.c: analysis phase and dependency development

2007-05-05 James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/misc/swverid.c: add support for dependency spec alternation
syntax, e.g. "emacs|vi".
* swprogs/swinstall.c: analysis phase development, dependency
spec alternation.

2007-05-03 James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/misc/swevents.c: added events for swinstall
analysis phase.
* swprogs/swinstall.c: analysis phase development

2007-04-30 James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swinstall.c: work on dependency support.

2007-04-29 James Lowe, Jr. <jhlowe@acm.org>
* version now 0.595
* swsupplib/misc/swextopt.c: fixed
* swprogs/swinstall.c: began adding dependency support.

2007-04-28 James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swinstall.c: added --force and --force-locks options
* swprogs/swinstall.c: removed unneeded pty-fork controls since
swinstall nevers uses pty.
* swprogs/swinstall_lib.c: added locking
* swprogs/swinstall_lib.c: initial changes to support locking
* swsupplib/shell_lib/shell_lib.sh: added locking routines
* swsupplib/shell_lib/shell_lib.sh: removed unused routines 
* swsupplib/shell_lib/shell_lib.sh (shls_get_verid_list):
Now a catalog entry is excluded if the sequence number is not a single digit and
exactly one char long.
* swprogs/swinstall_lib.c: Now the INSTALLED file is named _INSTALLED
during installation and moved to INSTALLED as last step.

2007-04-24 James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swinstall.c: Now --to-stdout does not require access to a
installed catalog.
* swprogs/swinstall_lib.c: Now --to-stdout does not require access to a
installed catalog.

2007-04-22 James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/misc/swextopt.c: added set_opta_boolean() and check for
allowable values.
* swsupplib/misc/swextopt.c: added swextopt_statusG status variable
* swprogs/swinstall.c: support for detecting a downdate
* swprogs/swinstall.c: support for detecting a reinstall

2007-04-19 James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swinstall.c
* swprogs/swproglib.c: (swpg_send_nothing_and_wait): 
now uses swicol_rpsh_task_send_script2()

2007-04-17 James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/misc/rpmpsf.c (rpmpsf_write_rpm_attribute): Fixed the 04/09
fix (below) to prevent '.' in vendor_tag 's

2007-04-15 James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swinstall.c: development of downdate/reinstall detection support.
* swsupplib/swi/swi_common.c swi_com_new_fd_mem(int fd, int * datalen): now NUL terminated
* swprogs/swinstall_lib.c: now the installed_software_catalog directory is made
if it does not exist.

2007-04-14 James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swinstall.c: now uses routines from swicat_s.c
* swsupplib/misc/swlib.c (swlib_synct_create): fixed use of uninitialized data
* swsupplib/uxfio/uxfio.c: fixed use of memcpy with overlapping memory

2007-04-14 James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/misc/swicat_s.h: created
* swsupplib/misc/swicat_s.c: created
* swsupplib/misc/swicat.c:  uses routines from swicat_s.c
* swsupplib/cplob/vplob.c (vplob_get_nstore): changed
* swsupplib/cplob/cplob.c (cplob_reopen): now memory is initialized to NULL
* swsupplib/cplob/cplob.c (cplob_open): now memory is initialized to NULL

2007-04-09 James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/misc/rpmpsf.c (rpmpsf_write_rpm_attribute): prevent '.' in vendor_tag 's

2007-03-29 James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/misc/swverid.c (create_version_id): strip trailing
slash from location.
* swprogs/swlist.c: fixed segfault when listing files.

2007-03-25 James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swproglib.c (swpg_get_same_revision_specs): added
* swprogs/swproglib.c (swpg_do_list_catalog_entries2): added
* swprogs/swproglib.c (swpg_get_catalog_entries): added

2007-03-24 James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swinstall.c: now include location and qualifier in
swverid object for the product.
* swprogs/swinstall_lib.c (get_directory): fixed

2007-03-23 James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swinstall_lib.c: Now the catalog directory is made later
in the script, just before it is needed.

2007-03-22 James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swinstall.c (main_sig_handler): fixed use of free'd data
* swprogs/swinstall.c: The functionality to check compatibility with
a host based on uname attributes is now implemented.

2007-03-21 James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swproglib.c (swgp_find_compatible_product): added
* swsupplib/misc/swuts.c (swuts_compare): added

2007-03-20 James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swcommon.c: now a control script's stderr is
relayed onto local stdout or stderr for all verbose levels.

2007-03-20 James Lowe, Jr. <jhlowe@acm.org>
* examples/PSF.bin: improved

2007-03-19 James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/misc/swgp.c: masked some messages that
were too verbose.
* swprogs/swinstall_lib.c (check_is_all_digits): now
returns non-zero for empty string.

2007-03-11 James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/misc/swverid.c: added swverid_replace_verid()
* swsupplib/misc/swverid.c: added swverid_add_verid_if()

2007-03-09 James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swlist.c: memory leak fixes.

2007-03-05 James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/shell_lib/shell_lib.sh: added routine based on
config.guess which will be the official swbis string
representation of the architecture attribute.
* swprogs/swlist.c: fixes and developement to get "-v -a architecture"
working.
* swsupplib/misc/swuts.h: added arch_tripletM struct member

2007-03-04 James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/misc/swicat.c: adjusted path split
between installed_software.path and installed_software.catalog
in the INSTALLED file.
* swprogs/swlist.c: added --dir listing mode
* swsupplib/misc/swicat.c: added list form DIR1
* swsupplib/misc/swverid.c: added swverid_replace_verid()
* config.guess: updated to latest version

2007-03-03 James Lowe, Jr. <jhlowe@acm.org>
* VERSION: now 0.553.20070303

2007-03-03 James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swlist.c: default target now "/", was "-"

2007-02-28 James Lowe, Jr. <jhlowe@acm.org>
* VERSION: now 0.552

2007-02-26 James Lowe, Jr. <jhlowe@acm.org>
* doc/: documentation updates
* swprogs/swbis.sh.in

2007-02-23 James Lowe, Jr. <jhlowe@acm.org>
* VERSION: now 0.551

2007-02-23 James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swverify.sh.in: fixed arg handling
for determining targets and selections

2007-02-22 James Lowe, Jr. <jhlowe@acm.org>
* VERSION: now 0.542.20070221
* swsupplib/taru/etar.c: error messages
* swprogs/swproglib.c: error messages

2007-02-21 James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/misc/swlib.c (swlib_pump_amount7): reverted 18 Jan non-fix
* swsupplib/taru/readinheader.c (taru_tape_buffered_read): changed
uxfio_sfread() to uxfio_sfa_read()
* swsupplib/uxfio/uxfio.c: added uxfio_sfa_read()

2007-02-19 James Lowe, Jr. <jhlowe@acm.org>
* swcopy.c: built-in options defaults changed
* swinstall.c: built-in options defaults changed
* swlist.c: built-in options defaults changed
* swinstall_lib.c: now assumes numeric id for owners if
the uname,gname is the same number as uid,gid.

2007-02-18 James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swlist.c: added support for overloading -v option
* doc/sources/swlist_8.sgml: added
* doc/sources/swbis_7.sgml: changes
* Recompiled documentation 

2007-02-17 James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/misc/swicat.c: added support for a revision range
in a software spec by specifying two revision version_ids

2007-02-14 James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swverify.sh.in: new names for existing options,
indentation fixes, added error message for -WS (--emit-digest-file)
mode when operating on a directory.

2007-02-11 James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/taru/copyout.c: removed warning message about hard
link processing.
* bin/checkdigest.sh: make INFO file parsing more portable.
* swstructlib/src/swmetadata/swdefinitionfile.h: ignore sockets
* swstructlib/src/swmetadata/swmetadata.cxx: ignore sockets
* swsupplib/taru/copyout.c: ig
* swsupplib/taru/filetypes.h: fixed handling of sockets,
added internal file type as a 'ignore-type'
* swsupplib/taru/mtar.c: ignore sockets
* swsupplib/taru/otar.c: ignore sockets

2007-02-10 James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/taru/filetypes.h: add IS_DOOR() macros
* swsupplib/taru/otar.c  tarui_get_filetypes(): now tests
for Solaris door filetype, and it treats like a socket.
* swstructlib/src/swmetadata/swdefinitionfile.h:  removed unused function

2007-02-09 James Lowe, Jr. <jhlowe@acm.org>
* bin/checkdigest.sh: added second check of file list
in catalog/<dfiles>/files

2007-02-03 James Lowe, Jr. <jhlowe@acm.org>
* VERSION: now 0.535.2007034

2007-02-03 James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/misc/swicat.c: dependency development
* swprogs/swlist.c: added --deps, --prere, --exreq
options to provide a development test bed for dependencies.
* swsupplib/misc/swicat.c (swicat_squash_null_bytes): added

2007-01-30 James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/swicat/swicat.c:
* swsupplib/swicat/swicat.h: added SWICAT_REQ struct
* swprogs/swlist.c: testing code for dependencies.

2007-01-29 James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/cplob/vplob.c (vplob_add): now uses cplob_add_nta
which keeps the array NUL terminated, this was potential and real
memory bounds bug.
* swsupplib/swicat/swicat.c (swicat_write_isc_script): front the
sync'ing dd with another dd with greater block size to avoid
(I hope) padding regions of 0x00 bytes in the file.
* swsupplib/uxfio/uxfio.c (uxfio_sfread): changed underlying read routine
* swprogs/swlist.c: development

2007-01-28 James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/shell_lib/shell_lib.sh: changes and development of 
internal dependency check output format.
* swsupplib/misc/swicat.c (swicat_write_isc_script): generalize
to handle dependency checks as well as plain listing queries.
* swsupplib/misc/swicat.c: development of dependency checks for
prerequisites, corequisites, and exrequisites.

2007-01-27 James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/shell_lib/shell_lib.sh (shls_apply_socspec):
changes to internal dependency check query response format 

2007-01-26 James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/shell_lib/gencfile.c: fixed signness mismatch warning
* swstructlib/src/swmetadata/swmetadata.cxx (swmetadata_decode_file_stats):
Fixed statements with no effect that should have been setting a string to nil.
* Added include "swuser_config.h" to all files where missing, to fix large
file support when the cpp #define is set via config.h, not the compiler
options.
* swstructlib/configure.ac: replaces configure.in

2007-01-23 James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/uxfio/uxfio.c: improved do_buffered_write()

2007-01-22 James Lowe, Jr. <jhlowe@acm.org>
* VERSION set to 0.533 (somewhat tested and stable)

2007-01-21 James Lowe, Jr. <jhlowe@acm.org>
* swstructlib/src/swexport/swexdfiles.h tuneAttributeFile(char * name, char * buffer):
Now the signature file is padded with all '\n' newlines, there are now
no NULS in the file.

2007-01-20 James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/misc/swgp.c: now use EINTR-immune reads and writes,
this was a bug that showed on OpenSolaris when using the progress bar. 
* swsupplib/uxfio/uxfio.c: added uxfio_unix_safe_read() and write
* swsupplib/progressmeter/atomicio.c: added safeio() function
* swprogs/swign.sh.in: PATH is now prefixed with the output of ``getconf PATH''
* swprogs/swverify.sh.in: PATH is now prefixed with the output of ``getconf PATH''

2007-01-19 James Lowe, Jr. <jhlowe@acm.org>
* Makefile.am
* swsupplib/Makefile.in

2007-01-18 James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/misc/swlib.c (swlib_pump_amount7): fixed possible infinite loop
* swsupplib/misc: fixes for large file support
* swsupplib/taru: fixes for large file support
* swstructlib/src/archive: fixes for large file suport
* swstructlib/src/swmetadata: fixes for large file suport
* swstructlib/src/swexport: fixes for large file suport
* Set VERSION to 0.532.2007018

2007-01-17 James Lowe, Jr. <jhlowe@acm.org>
* bin/checkdigest.sh: replaced echo with printf in several
error messages.

2007-01-16 James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/misc/swlib.c: Large File support
* swsupplib/misc/swlib.h
* swsupplib/progs/arf2arf.c
* swsupplib/progs/rpmheaderdump.c
* swsupplib/taru/ahs.c
* swsupplib/taru/ahs.h
* swsupplib/taru/copyout.c
* swsupplib/taru/mtar.c
* swsupplib/taru/pcopyin.c
* swsupplib/taru/readinheader.c
* swsupplib/taru/taru.c
* swsupplib/taru/taru.h
* swsupplib/taru/taruib.c
* swsupplib/taru/taruib.h
* swsupplib/taru/taruib_i.c
* swsupplib/taru/xformat.c
* swsupplib/taru/xformat.h
* swsupplib/uinfile/uinfile.c

2007-01-15 James Lowe, Jr. <jhlowe@acm.org>
* swstructlib/src/swmetadata/swdefinitionfile.cxx: Large File support
* swstructlib/src/swmetadata/swdefinitionfile.h
* swstructlib/src/swmetadata/swmetadata.cxx
* swsupplib/ls_list/gen_subs.c
* swsupplib/shell_lib/shell_lib.c
* swsupplib/taru/mtar.c
* swsupplib/taru/xformat.c
* swsupplib/taru/xformat.h
* swsupplib/uxfio/uxfio.c

2007-01-14 James Lowe, Jr. <jhlowe@acm.org>
* swstructlib/src/swexport/swexfileset.h: use uintmax_t and intmax_t
* conifigure.ac: Now tests for uintmax_t and intmax_t
* swsupplib/conifigure.ac: Now tests for uintmax_t and intmax_t
* set VERSION to 0.531.2007015

2007-01-10 James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/misc/swlib.c: use uintmax_t and intmax_t
* swsupplib/progressmeter/progressmeter.c: use uintmax_t and intmax_t
* swsupplib/taru/copyinold.c: use uintmax_t and intmax_t
* swsupplib/taru/copyout.c: use uintmax_t and intmax_t
* swsupplib/taru/otar.c: use uintmax_t and intmax_t

2007-01-09 James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/uxfio/uxfio.c: added support for large files.
* swsupplib/uxfio/uxfio_i.h: added support for large files.
* tests/devel/testmaxstrconv.c: added new
* swsupplib/misc/strtoimax.c: added, taken from GNU tar 1.16.1
* swsupplib/misc/intprops.h: added, taken from GNU tar 1.16.1
* swsupplib/misc/inttostr.c: added, taken from GNU tar 1.16.1
* swsupplib/misc/strtoint.h: added, taken from GNU tar 1.16.1
* swsupplib/misc/inttostr.h: added, taken from GNU tar 1.16.1
* swsupplib/misc/imaxtostr.c: added, taken from GNU tar 1.16.1

2007-01-07 James Lowe, Jr. <jhlowe@acm.org>
* Now requires autoconf version 2.6
* Many changes to auto configure system to support
Large Files on 32 bit machines.
* Now filesize variables are type uintmax_t
* Added string conversion routines from tar-1.16.1 to
support Large Files.

2007-01-02 James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swproglib.c (swpg_get_dependency_specs): added
* swsupplib/misc/swverid.c: now handle foo,*

2006-12-31 James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swlist_lib.c: now use shls_bashin2()
* swsupplib/shell_lib/shell_lib.sh: delete shls_bashin()

2006-12-28  James Lowe, Jr. <jhlowe@acm.org>
swprogs/swproglib.c swgp_init_header_root(): permissions now 0640

2006-12-26  James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/shell_lib/Makefile.in: fixes for Solaris
* swsupplib/shell_lib/test_isc_01.sh: fixes for Solaris

2006-12-22  James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swlist.c: development
* swprogs/swlist_lib.c: development
* swsupplib/misc/swicol.c: Now uses braces '{' and '}' as
the shell script group delimeters.

2006-12-17  James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/msic/swverid.c: improved debug dump routine, clean-ups
* swprogs/swinstall.c: added --noscripts option and ignore_scripts
as a new swbis_ extended option.
* swsupplib/misc/swextopt.h: added swbis_ignore_scripts option
* swsupplib/misc/swcommon_options.h: added swbis_ignore_scripts option
* swprogs/swinstall_lib.c: support swinstall --noscripts option
* swprogs/swproglib.c: support swinstall --noscripts option

2006-12-16  James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swinstall_lib.c: now uses cleaned-up shls_bashin2()
* swprogs/swinstall_lib.c: now uses swicol_brace_marks() instead
of swicol_subshell_marks()
* swsupplib/shell_lib/shell_lib.sh: added shls_bashin2()
* swsupplib/misc/swicol.c: added swicol_brace_marks()
* swprogs/swinstall.c: clean-up, made the non-use of a pty-fork more clear.
* swprogs/swinstall.c: Fixed --swi-debug-name, was ignored in swinstall
 
2006-12-12  James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/shell_lib/shell_lib.sh (shls_bashin): warning message fix
* swprogs/swinstall.c: signal handlers
* swprogs/swinstall_lib.c: fixed --target-script=NAME option

2006-12-10  James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/misc/swicat.c (swicat_write_isc_script): added
a dd after the syncing dd at the end of the pipeline.

2006-12-08  James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swlist.c: error and Verbose message clean-ups
* swprogs/swinstall.c: error and Verbose message clean-ups
* swprogs/swinstall_lib.c: error and Verbose message clean-ups
* swsupplib/shell_lib/shell_lib.sh (shls_write_cat_ar): added -b1 option
to tar. Fixes swlist hanging when using "-c -"

2006-12-07  James Lowe, Jr. <jhlowe@acm.org>
* swprogs/globalblob.c:  changes to SIGINT induced code paths
* swprogs/swcommon.c:  changes to SIGINT induced code paths
* swprogs/swinstall.c:  changes to SIGINT induced code paths
* swprogs/swinstall_lib.c:  changes to SIGINT induced code paths
* swprogs/swproglib.c:  changes to SIGINT induced code paths
* swsupplib/misc/swicol.c:  changes to SIGINT induced code paths
* swsupplib/misc/swlib.c:  changes to SIGINT induced code paths

2006-12-04  James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swproglib.c: fixed Load_signature task script

2006-12-03  James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/misc/topsf.c: fixed escape chars in filename
* swstructlib/src/swexport/swobjfiles_i.h: fixed escape chars in filename
* swsupplib/misc/swlib.c (swlib_unexpand_escapes): reworked to support
altering the source string or not.

2006-12-02  James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/misc/swdef.c: fixed escape chars in filename
* swsupplib/misc/swlib.c: fixed escape chars in filename
* swsupplib/misc/swlib.h: fixed escape chars in filename
* swsupplib/misc/swvarfs.c: fixed escape chars in filename

2006-11-30  James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/shell_lib/shell_lib.sh (shls_bashin): repeat warnings only
one time.
* swsupplib/misc/swvarfs.c: strcmp replaces a fnmatch to avoid a matching
bug for "usr/bin/[".
* swprogs/swinstall_lib.c: PATH now set with getconf in main script
* swprogs/swlist_lib.c: PATH now set with getconf in main script
* swprogs/swinstall_lib.c: removed checks for sh metachars in the
payload filenames.
* swsupplib/misc/swssh.c: avoid setting -A on the terminal host
and set -A only if commanded by function param.
all utilities: added option swbis_forward_agent

2006-11-29  James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/misc/swdef.c (swdef_write_value): now value is
quoted if contains a '<' to protect a leading space in the value.

2006-11-28  James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/shell_lib/shell_lib.sh (shls_bashin): improvement
* swsupplib/misc/swicol.c:  cleanup 
* swprogs/swinstall_lib.c: cleanup debugging crud and remove
dd|subshell in main target script (which was added for debugging).

2006-11-26  James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/misc/swicol.c: added event 318
* swsupplib/misc/swicol.c: added wait for start event
* swprogs/swinstall_lib.c: development
* swprogs/swinstall.c: now --allow-rpm also allows missing
file meta-data
* swsupplib/misc/swicol.c: Now adds 576 byte comment header to
each task script
* swsupplib/shell_lib/shell_lib.sh (shls_bashin): decodes 
swicol comment header.

2006-11-24  James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swcopy.c: check ret code of swc_parse_soc_spec
* swprogs/swinstall.c: check ret code of swc_parse_soc_spec
* swprogs/swpackage.cxx: support gpg2 as a signer program.
* swprogs/swinstall_lib.c: upgraded internal protocol
using swicol_task_send_script2() and shls_bashin() function.
* swprogs/swproglib.c: upgraded to use swicol_task_send_script2()
* swprogs/swcommon.c (swc_convert_multi_host_target_syntax): created
to support a scp-like multi-ssh-hop syntax.

2006-11-21  James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/misc/swverid.c: the ''location'' version id now is
made to be an absolute path if not one.

2006-11-20  James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swlist.c (apply_usage_restrictions)
* swprogs/globalblob.h: added do_distribution and do_installed_software
* swsupplib/shell_lib/shell_lib.sh
* swsupplib/misc/swicat.h: Fixed SW_LOCATION environment variable.

2006-11-19  James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swinstall.c: added support for qualifier and location version ids
* swprogs/swinstall_lib.c: added support for qualifier and location version ids
* swprogs/swinstall_lib.c: vendor_tag, qualifier, and location
attribute files always exist and have at least one '\n' char.
* swsupplib/shell_lib/shell_lib.sh: support location and qualifier version ids.

2006-11-18  James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swinstall_lib.c: support relocatable and location spec
* swprogs/swinstall.c: support relocatable and location spec
* swprogs/swinstall.c: improved preview verbosity.
* tests/regression/testlib.sh: support GNU tar 1.16
* bin/testforgnutar.sh: support GNU tar 1.16

2006-11-17  James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swinstall_lib.c: added support for ''location''
and relocatable packages.

2006-11-15  James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/misc/swverid.c: fixed parsing for swspecs w/o
a tag (only version ids)
* swsupplib/misc/swverid.h: added prototype for new function
* swprogs/swinstall.c: prelim support for location swspec
* swprogs/swlist.c: fixed ctrl-c signal when using -c DIR option

2006-11-14  James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/misc/swicat.c (swicat_write_isc_script) fixed
* swprogs/swlist.c: development, '-c -' now works
* swsupplib/taru/otar.c (taru_read_in_tar_header2): better
support for type 'L'
* swsupplib/taru/copyout.c (taru_process_copy_out): support type 'L'

2006-11-13  James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/misc/swicat.c (swicat_write_isc_script) added
support for writing tar archive of catalog selections.
* swsupplib/shell_lib/shell_lib.sh: (shls_write_cat_ar)

2006-11-12  James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swlist.c
* swsupplib/misc/swicat.c

2006-11-06  James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/misc/rpmpsf.c: fixes for dependencies
* swsupplib/misc/rpmpsf.c: formatting improvements

2006-11-05  James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/misc/swicat.c: 
* swsupplib/misc/swlib.c: swlib_sycnt_<*> 
(Basic mechanism for catalog queries in place, for example
swprogs/swlist  \*,r\>3.0  @ / gives a listing to stdout)
* swsupplib/misc/swverid.c:
* swsupplib/misc/rpmpsf.c: fixed translation of revision verid
and dependency specs.

2006-11-04  James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/misc/swicat.c
* swsupplib/misc/swlib.c: added swlib_sycnt_<*> routines 
* swprogs/swlist.c: Got example/test task shell developed for
getting catalog selections.

2006-11-02  James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/misc/swicat.c: development of catalog
query features

2006-11-01  James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/misc/swicat.c: added routines for
catalog entry selections.

2006-10-31  James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swinstall_lib.c

2006-10-30  James Lowe, Jr. <jhlowe@acm.org>
* option added --debug-task-script
* swsupplib/misc/swicol.c: added
swicol_write_debug_task_script() and  swicol_set_task_debug()

2006-10-29  James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swinstall_lib.c: introduced new task script
protocol using swicol_task_send_script2() and shls_bashin() function.
* swsupplib/shell_lib/shell_lib.sh: (shls_bashin) new
* swsupplib/misc/swicol.c: (swicol_task_send_script2) new

2006-10-28  James Lowe, Jr. <jhlowe@acm.org>
* VERSION: set to 0.502alpha
* swprogs/swinstall_lib.c: clean-ups 

2006-10-28  James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swlist_lib.c: development
* swsupplib/shell_lib/shell_lib.sh (shls_bashme): changed
* swsupplib/misc/swicol.h: added idstringM data member
* swsupplib/misc/swicol.c: added swicol_get_task_idstring()
* swprogs/swverify.sh.in: support GNU tar 1.16

2006-10-27  James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swlist_lib.c: development
* swsupplib/shell_lib/shell_lib.sh (shls_bashme): changed

2006-10-26  James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/misc/swverid.c: improved verid parsing
* swsupplib/misc/swverid.h: improved verid parsing
* swsupplib/shell_lib/shlib.c: interface changed 
* swsupplib/shell_lib/gencfile.c: outputs new struct

2006-10-24  James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/misc/swicol.h: added last_scriptM element

2006-10-23  James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swcommon.c (swc_process_selection_args): Fixed
bug when the last selection ends with the '@'
* swprogs/swlist.c: development towards listing selections
from the installed catalog.
* swsupplib/misc/swicat.c (swicat_write_isc_script): created
new as the function to create make the task script for
reading the the catalog.
* swprogs/swlist_lib.c (swlist_write_source_copy_script2): development

2006-10-22  James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/shell_lib/shell_lib.sh: new development
for software selections applied the installed software
catalog.
* swsupplib/shell_lib/test_isc_02.sh: created
* swsupplib/shell_lib/test_isc_03.sh: created

2006-10-21  James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/Makefile.in: make now $(MAKE)
# swsupplib/shell_lib/Makefile.in: portability fix
for non-GNU platforms.

2006-10-21  James Lowe, Jr. <jhlowe@acm.org>
* Added an example installed software catalog:
tests/examples/installed_software
* swsupplib/shell_lib.sh: Added routines for
selecting entries in the installed software catalog.
* swsupplib/shell_lib/test_isc_01.sh: created

2006-10-15  James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/shell_lib: created shlib.c and shlib.h.
re-worked gencfile.c and got compression working.

2006-10-14  James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swcommon0.h: added defines for string literals

2006-10-08  James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/strob/strob.c (strob_strncat): Fixed valgrind
uninitialized use warning and possible read of invalid
memory location.

2006-10-08  James Lowe, Jr. <jhlowe@acm.org>
* tests/regression: Added --scm option to several
tests, updated to preferred syntax.
* swprogs/swpackage.cxx: Fixed adjunct_md5sum from
the 2006-09-05 changes.

2006-10-08  James Lowe, Jr. <jhlowe@acm.org>
* spwrogs/globalblob.c: development of gb_fparams_<*>
* swsupplib/misc/swheader.c: code cleanups.

2006-10-07  James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/uxfio/uxfio.c: Now dynamic memory buffer always
has an untracked trailing extra NUL, and the unused dynamic
buffer bytes are memset to NULs upon creation.
* swsupplib/misc/swvarfs.c (swvarfs_i_search_filechain): 
Fixed handling of "./" filenames.

2006-10-06  James Lowe, Jr. <jhlowe@acm.org>
* swprogs/globalblob.c: added gb_fparams_* routines.

2006-10-05  James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swcopy.c: Fixed mistaken double call of gb_init()

2006-10-04  James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swlist_lib.c: more development

2006-09-24  James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swinstall_lib.c: added a sanity check
for files in INFO that do not appear in the storage section.
* swprogs/swproglib.c (swpg_assert_all_file_definitions_installed)
created new function.
* swprogs/swlist_lib.c: new development

2006-09-24  James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/sw_parse/swparse_supp1.c (swparse_expand_n):
Fixed memory access error and resulting core dump.
* swsupplib/misc/swheaderline.c: Fixed attributes with values >10000 bytes.
* swsupplib/misc/swheaderline.c: Added swheaderline_*_flag1() to create
a general purpose flag.

2006-09-23  James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swproglib.c: created by re-factoring routines in swinstall_lib.c
* swprogs/swproglib.h: created by re-factoring routines in swinstall_lib.c
* swprogs/swinstall_lib.c: routines move into swproglib.c

2006-09-20  James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/misc/swattributes.h:

2006-09-17  James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/misc/swdef.c (swlib_expand_escape)
renamed to swlib_expand_escapes()

2006-09-15  James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swinstall_lib.c: fixes for backslashes in file name
* swsupplib/misc/swdef.c (swlib_expand_escape): function signature
(i.e. parameters) changed.
* swstructlib/src/swmetadata/swpackagefile.h xFormat_write_file(swDefinition*, char *path):
employed swlib_unexpand_escapes() 
* swsupplib/swlib.c swlib_compare_8859(char *, char *): now handles all escape
sequences instead of just 'x\hh` hex escapes.

2006-09-13  James Lowe, Jr. <jhlowe@acm.org>
* swstructlib/src/swmetadata/swpackagefile.h xFormat_write_file(swDefinition*, char *path):
employed swlib_unexpand_escapes() 
* swsupplib/misc/swlib.c: Added swlib_unexpand_escapes() function.

2006-09-08  James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/taru/taruib_i.c: removed warnings
about packages with no storage section.

2006-09-07  James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/taru/taruib_i.c: Added support for
verifying archive size attribute.

2006-09-06  James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/taru/taruib_i.c: Fixed so that
a package with no files (empty storage section)
is handled without error.

2006-09-05  James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swpackage.cxx:  Added <distribution>.size
attribute to be the size in bytes of the digest'ed
sha1, md5 data.
* swsupplib/misc/swlib.c: made swlib_digests()
compute the length of the digested data.

2006-09-05  James Lowe, Jr. <jhlowe@acm.org>
* swprogs/swpackage.cxx: Fixed assumption when
computing the digests that a read() on a pipe
will never be a short read when the file length
is <=PIPE_BUF when according to POSIX.1 this may
not be the case.

2006-09-04  James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/swi/: Improvements to debug print
routine.
* swsupplib/swi/swi_base.c: fixed unitialized values
* swprogs/swlist.c: general development
* swprogs/swlist_lib.c: created as new file
* swprogs/swlist.c: Added --swi-debug-file=FILE
option.

2006-08-15 c.  James Lowe, Jr. <jhlowe@acm.org>
* swbis-0.499 released to GNU ftp sites

2006-08-03  James Lowe, Jr. <jhlowe@acm.org>
* Documentation Fixes
* bin/checkdigest.sh: Fixed the verification of 
the individual file sha1 digests.

2006-08-01  James Lowe, Jr. <jhlowe@acm.org>
* swsupplib/taru/otar.c: typo in comment fixed.
* swprogs/swverify.sh.in:  fixed the message displayed
when the signature can't be verified.

2006-07-30  James Lowe, Jr. <jhlowe@acm.org>
* Documentation fixes
* RCS $I d$ strings removed from files
* 0.498 tarball cast

2006-07-28  James Lowe, Jr.  <jhl@infionline.net>
* compiler warning fixes.
* some GCC warnings silenced.
* swstructlib/src/swmetadata/swpackagefile.h: Fixed
a gcc-4.1.1 compile error.

2006-07-16  James Lowe, Jr.  <jhl@infionline.net>
* tests/regression/test027,29: Now uses --scm option

2006-07-15  James Lowe, Jr.  <jhl@infionline.net>
* version set to 0.496, tarball cast.

2006-07-15  James Lowe, Jr.  <jhl@infionline.net>
* swprogs/swverify.sh.in: added --scm option and
control of SW_CONTROL_TAG value 'checkfile'
* bin/checkdigest.sh: Added support for when
SW_CONTROL_TAG=checkfile
* swsupplib/Makefile.in: removed rpmbis from the SUBDIRS list
* swsupplib/misc/taruib_i.c: Fixed the prior adjustment to
swverify verbosity levels.

2006-07-14  James Lowe, Jr.  <jhl@infionline.net>
swprogs/swverify.sh.in: added --no-checkdigest option.
added --signed-file and --digest-file options to be
same as existing options -WC and -WS

2006-07-13  James Lowe, Jr.  <jhl@infionline.net>
* bin/checkdigest.sh: added support for checking the
sha1sum of individual files.
* swprogs/swverify.sh.in: Added --order-catalog option

2006-07-12  James Lowe, Jr.  <jhl@infionline.net>
* swprogs/fixcatalog.awk: added new and committed.
* swprogs/swverify.sh.in: added --cvs option, and
made the -WC option work for directories.

2006-07-06  James Lowe, Jr.  <jhl@infionline.net>
* version set to 0.495, tarball cast.

2006-07-06  James Lowe, Jr.  <jhl@infionline.net>
* swstructlib/src/swmetadata/swpackagefile.h, swpackage.cxx
Now the mode attribute in the distribution object does not
affect the file modes in the <dfiles> directory.
* swpackage.cxx: Fixed the distrbution.mode being written
with too many leading zeros.

2006-07-03  James Lowe, Jr.  <jhl@infionline.net>
* swpackage.cxx: fixed the --dir-mode=mode option from
affecting other file permissions in the catalog
* swstructlib/src/swexport/swobjfiles_i.h: 
file permissions for control files are now 0644

2006-07-02  James Lowe, Jr.  <jhl@infionline.net>
* swprogs/swign.sh.in:  Fixed name-version-release
parsing which was broken on hosts where sed is not
GNU sed.
* swprogs/swign.sh.in:  Fixed gid/uid determination when
the user/group entry is missing from system databases.

2006-07-01  James Lowe, Jr.  <jhl@infionline.net>
* swsupplib/sw_parse/Makefile.in: Added support for
systems with present but busted flex and bison
installations.

2006-07-01  James Lowe, Jr.  <jhl@infionline.net>
* version set to 0.492, 0.492 tarball cast.

2006-06-30  James Lowe, Jr.  <jhl@infionline.net>
* swsupplib/misc/shcmd.h: Added a missing prototype.
* doc fixes

2006-06-28  James Lowe, Jr.  <jhl@infionline.net>
* swsupplib/misc/shcmd.c: fixed reaping a child more
than once.

2006-06-27  James Lowe, Jr.  <jhl@infionline.net>
* swpackage.cxx:  support value of "tty" for
SWPACKAGEPASSFD env variable.

2006-06-26  James Lowe, Jr.  <jhl@infionline.net>
* swverify.sh.in:  Fixes and adjustment to verbosity
levels.
* swsupplib/progs/arf2arf.c: adjustment to swverify
verbosity levels.
* swsupplib/misc/taruib_i.c: adjustment to swverify
verbosity levels.

2006-06-24  James Lowe, Jr.  <jhl@infionline.net>
* swign.sh.in:  Fixed a bug that truncates
the internally generated PSF stored in TMPDIR
due to reading and writing to it simultaneously.

2006-06-22  James Lowe, Jr.  <jhl@infionline.net>
* Build system fixes and improvements
* Added support for a ./VERSION file

2006-06-21  James Lowe, Jr.  <jhl@infionline.net>
* swpackage: Added the sha1 digest to be included as
a "sha1sum" attribute for each file when the
--file-digests option is true.

2006-06-19  James Lowe, Jr.  <jhl@infionline.net>
* swpackage: Fixed passphase logic busted on or
near 2006-06-18

2006-06-18  James Lowe, Jr.  <jhl@infionline.net>
* swign: Fixed support for GNUPGNAME environment
variable.

2006-06-18  James Lowe, Jr.  <jhl@infionline.net>
* Documentation fixes
* swpackage: Added support for the gpg-agent via setting
env variable SWPACKAGEPASSFD=agent
* swpackage: Added a GNUPGNAME environment variable to set
the --gpg-name option.
* swpackage: Added a env variable SWPACKAGEPASSPHRASE which
is used if SWPACKAGEPASSFD=env

2006-05-20  James Lowe, Jr.  <jhl@infionline.net>
* Documentation fixes

2006-05-16  James Lowe, Jr.  <jhl@infionline.net>
* swpackage: swobjfiles_i.h  Added mode attribute
for the INFO file's control_file definition in the
INFO file.
* doc/source/version.sgml: Added version file to 
make updating the version and date easy.

2006-05-15  James Lowe, Jr.  <jhl@infionline.net>
* swpackage: swobjfiles_i.h, swdefcontrolfile.cxx
swpackagefile.h  Fixed the mode attribute consistency
wrt the INFO meta-data and tar archive attributes for
control scripts.

2006-05-13  James Lowe, Jr.  <jhl@infionline.net>
* swpackage: swobjfiles_i.h,swdefcontrolfile.cxx: added the
mtime attribute to the control_file meta data in the INFO file.

* swpackage: swdefdistribution.h: add a human
readable date string as a comment to the
distribution.create_time attribute.

2006-05-11 James Lowe, Jr.  <jhl@infionline.net>
cvs rtag alpha_0_484_109 swbis

2006-05-11  James Lowe, Jr.  <jhl@infionline.net>
* doc/: documentation updates.  Built new docs
from from sources in doc/source

2006-05-11  James Lowe, Jr.  <jhl@infionline.net>
* CVS updates: fixed catalog/ 's representation in
the CVS repository.

2006-05-10  James Lowe, Jr.  <jhl@infionline.net>
* renamed checkdigests.sh to checkdigest.sh.  This only affects
the PSF files because the control file name is was and still
is checkdigest; only the source name was changed (which is
arbitrary and user defined).

2006-05-06  James Lowe, Jr.  <jhl@infionline.net>
* swprogs/swlist.c: fix swlist verbose levels
* swprogs/swcommon.c: fix swlist verbosity
* swprogs/globalblob.h:  Added g_verbose_threshold

2006-05-04  James Lowe, Jr.  <jhl@infionline.net>
* swprogs/swlist.c: Fixed so now works with remote targets
* swprogs/globalblob.c: fixed initialization 

2006-04-28  James Lowe, Jr.  <jhl@infionline.net>
* swprogs/swign.sh.in: new features

2006-04-26  James Lowe, Jr.  <jhl@infionline.net>
* swprogs/swlist.c: new development
* swsupplib/misc/swextopt.h: renamed cpp defines
* swinstall_lib.c: added support for use by swlist

2006-04-22  James Lowe, Jr.  <jhl@infionline.net>
* swsupplib/misc/swverid.c: changed swverid_print routine

2006-04-21  James Lowe, Jr.  <jhl@infionline.net>
* swprogs/swlist.c:  Now compiles but is severly broken.

2006-04-16  James Lowe, Jr.  <jhl@infionline.net>
* swprogs/swign.sh.in:  Added --dir=PATH_NAME_PREFIX
option.

2006-04-15  James Lowe, Jr.  <jhl@infionline.net>
* swprogs/*.c:  Top level clean-ups involving some
restructuring to eliminate similar code from
repeating in each sw<utility>.

2006-04-13  James Lowe, Jr.  <jhl@infionline.net>
* swign.sh.in: disabled sanity check of the directory contents
against the archive file list since this only matches
when the PSF directs packaging of every file in the
directory.

2006-04-09  James Lowe, Jr.  <jhl@infionline.net>
* swpackage: swextendeddef.h: Improved the exclude
directive processing.  Now supports wildcards via fnmatch

2006-04-07  James Lowe, Jr.  <jhl@infionline.net>
* swverify: Now the gpg status lines are interpreted
to determine a valid signature instead of relying on the
gpg exit status.

2006-04-04  James Lowe, Jr.  <jhl@infionline.net>
* Initiated clean-up and re-factoring of the top-level
programs in ./swprogs/ in order to group common code
together. Created swprogs/globalblob.c to get rid to
most static globals in the main programs.

2006-03-30  James Lowe, Jr.  <jhl@infionline.net>
* Deprecated the name 'checksig' for the distributor
extension verification script.  Now called 'checkdigest'
Retained back compatibilty though.

* swverify.sh.in: fixed the detection of the name-version-release
from the directory when the directory name has a release part.

2006-04-01  Claudio Fontana  <claudio@gnu.org>
* swprogs/Makefile.in: added DESTDIR variable to install targets
to support staged installation.
* swsupplib/progs/Makefile.in: likewise.
* doc/Makefile.in: likewise.
 
2006-02-19  James Lowe, Jr.  <jhl@infionline.net>
* created swbis-0.482.tar.gz 
9162a4bb3332c8c4fa2d4c8a5434ff8f  swbis-0.482.tar.gz
fcba79d8e9ddcb98587a8f75aa26c74ff4d6cab1  swbis-0.482.tar.gz

2006-02-19  James Lowe, Jr.  <jhl@infionline.net>
* swpackage; in swsupplib/misc/otar.c fixed invalid
name split for long files names which resulted in
loss of one letter of a path component in the name.

2006-02-17  James Lowe, Jr.  <jhl@infionline.net>
* Documentation fixes

2006-02-16  James Lowe, Jr.  <jhl@infionline.net>
* created swbis-0.481.tar.gz 

2006-02-12  James Lowe, Jr.  <jhl@infionline.net>
* swpackage: invalid layouts now detected.
* improved documentation

2006-02-12  James Lowe, Jr.  <jhl@infionline.net>
* created swbis-0.480.tar.gz 

2006-02-07  James Lowe, Jr.  <jhl@infionline.net>
* swign: file ownership policy detection added.

* swprogs/swpackag.cxx: Fixed handling of control
directory name collisions.

* swprogs/swpackag.cxx: Fixed assignment and handling of
the instance_id attribute. Now all objects get an instance_id.

2006-02-05  James Lowe, Jr.  <jhl@infionline.net>
* created swbis-0.479.tar.gz
76f9010008b715955bcb4f0332229568 
9034e44e453902229a846fcd2bfe805b92f8a935

2006-02-04  James Lowe, Jr.  <jhl@infionline.net>
* swsupplib/swi: code clean-ups.

* swpackage: improved error message reporting.

* swinstall: added prelim support for version id 
(software selections) and system imformation compatibiliity checks.

* swcopy:- Now uses the swinstall decode routine as
initial step towards supporting software selections.

* swinstall, swcopy: sw selection support development.

* swsupplib/taru/xformat.c: now supports files up to 4GB

* swsupplib/misc/swicol.c: use unsigned ints 

* all top level main programs:  include swmain.h which
includes the required files for main() programs that use
the swbis libraries.

swbis-0.478
	- swinstall_lib.c: really fixed swinstall to work with 
		packages from the HP_porting_center_.

swbis-0.477
	- swinstall_lib.c: fixed swinstall to work with HP_porting_
	     center_ packages.
	- Fixed combining the distribution and source target_dierctories
		with the soc_spec.
	- swinstall.c: now helper processes are killed on abnormal exit.

swbis-0.476
	- swpackage.cxx: added a usleep(100000) to a busy wait loop
		in swpackage.cxx.  This gratly improves performance on
		Cygwin.
	- swlib.c: added a usleep(100000) to a busy wait loop to improve
		performance on Cygwin.

	- swinstall.c: now the extended option distribution_source_directory
		is used.

swbis-0.475
	- swinstall.c: Fixed sourcing a package from a remote location.
	- Fixes for building on cygwin.
	- swverid.c: new development

918b3cad6210c19feaf56397d1f9c7ac  swbis-0.474.tar.gz
c5bdb73947fad721d3b952381706512324a65a18  swbis-0.474.tar.gz

swbis-0.474
	- swparse.y: silenced a warning.

swbis-0.473
	- Doc fixes
	- swpackage.cxx: removed long deprecated attributes from the
		distribution object.

swbis-0.472
	- swpackage.cxx: Added added nuermic-owner option to
		the gnu_tar_format_options and tar_format_emulation_options
		attributes (which are automatically created by swpackage).
		This fixes verification by the checksig (e.g. bin/checksig.sh)
		script of packages created with the --numeric option of
		swpackage or the "-o 0 -g 0" options of swign.
swbis-0.471
	- strob.c: portability fix for use of va_copy().

swbis-0.470
	- Documentation updates
	- All utilities, A bug was exposed and fixed on a ppc64
            GNU/Linux system involving the improper use of va_args
            and vsnprintf in strob.c.  This was a long standing
            bug (misuse of vsnprintf) but remained well hidden on
           x86 platforms.

swbis-0.469
swbis-0.468
	- Documentation updates

swbis-0.467
	- swpackage:  fixed again the explicit file definition
		when using the "-t d" argument.
	- parser: now hyphens are allowed in a keyword.
	- parser: for PSF files, the parser now issues a warning
		about use of the "vendor" keyword.

swbis-0.466
	- build fixes to add option to disable rpm support.

swbis-0.465
	- swpackage: optimization to the duplicate checking code.
            in swstructlib/src/swexport/swobjfiles_i.h making
	    swpackage 20% faster.

swbis-0.464
	- swpackage: improvements to verbose and error messages.

swbis-0.463
	- removed old files.

swbis-0.462
	- swpackage: fixes for explicit file extendeded definitions
		when specifying a directory or link for a non-existing
		file.

swbis-0.461
	- Documentation fixes and improvements.
	- swpackage: Fixed explicit file definition when using the
		'-t {d|h|s}' options relating to default permissions
		and permissions taken from the source.
	- swpackage: code clean-ups
	- swinstall: code clean-ups
	
swbis-0.460
	- swcopy - now uses openpty() if available for the --login
		function.
	- RPM translation (--with-self-rpm) is now on by default

swbis-0.459
	- Documentation fixes.
	- Compile fix for RPM requirement introduced after 0.455

swbis-0.458
	- Documentation fixes.
	- fixed RPM translation for RPMs that have non-ascii
		chars in filenames.
	- fixed RPM translation for RPMs that have decimal '.'
		in their tags, a decimal is now translated to
		a '_".
	- uinfile.c changed default RPM translation options.

swbis-0.457
	- uinfile.c: added preliminary support for deb packages.
	- topsf.c: added preliminary support for deb packages.
	- began implementation of RPM file format
		writing, (in swsupplib/rpmbis), not complete.

swbis-0.456
	- swinstall: added support for a "@-" target
		which means "--to-stdout"
	- swinstall: added --to-stdout option

swbis-0.455
	- swinstall: add installation support for skipping
		volatile files if swbis_install_volatile is
		not true.
	- swinstall: control.sh now sets its locale to "C"
		unconditionally.
	- swinstall: control.sh portability fix for Sun
		platform.

swbis-0.454
	- swpackage: now when  --uuid and --create-time
		options are used, an RPM translation is
		repeatable with identical results.

swbis-0.453
	- Fixed Makefile fix for the RPM support.
	- swinstall: now swinstall strips the absolute path
		from the installed_softwar_catalog string.

swbis-0.452
	- more portability, Makefile and configure fixes.

swbis-0.451
	- unused variable clean-ups
	- more portability, Makefile and configure fixes.

swbis-0.450
	- more portability, Makefile and configure fixes.

swbis-0.449
	- more portability, Makefile and configure fixes.

swbis-0.448
	- more portability, Makefile and configure fixes.

swbis-0.447
	- portability fixes.
	- swpackage: now checks for available file
	  descriptors are made, this fixes a potential file
	  descriptor leak via a file descriptor exhaustion attack.

swbis-0.446
	- documentation updates.
	- regression test fixes to add support for testing
	    against GNU tar 1.15.x and 1.14

swbis-0.445
	- Fixed swsupplib/um_rpm/Makefile
	- Fixed swprogs/Makefile

swbis-0.444
	- swpackage: fixed duplicate control file

swbis-0.443
swbis-0.442
	- documentation updates.

swbis-0.441
	- fixed regression tests when using GNU tar 1.15.x

swbis-0.440
	- swinstall: Fixed control.sh
	- checksig-nosym.sh - fixed support for new value of
		the tar format utility attribute.

swbis-0.439
	- swinstall: fixed bug installing vendor_tag due to broken
		due to broken name split function.
	- documentation updates.
	- checksig.sh - fixed support for new value of
		the tar format utility attribute.

swbis-0.438
	- swign: fixed support for multiple versions of GNU tar

swbis-0.437
	- swpackage: fixed INDEX file attributes for the GNU
		tar options.
	- swign: fixed support for tar-1.14 and 1.15.x
	- swverify: fixed support for tar-1.14 and 1.15.x

swbis-0.436
	- swinstall: now the INSTALLED catalog file records
		script result and fileset state.

swbis-0.435
	- swinstall: add control.sh to the installed
		software catalog.
	- swinstall.c:  checkinstall script is now run
	- gcc-4.0.0 portability fixes.
	- swpackage: fixed file control_files' from appearing
		in the storage section.
	- swinstall: post and pre scripts are now executed.

swbis-0.434
	- swinstall:  the installed software catalog file is now
	  	called INSTALLED
	- added parser support for the INSTALLED file.

swbis-0.433
	- swinstall: Added installation of the 'session_options'
	      file to the installed software catalog.
	- Fixed swpackage failure when packaging long
	  file names (did not exist in 0.420)

swbis-0.432
	- swinstall: Added the INDEX file  to the installed
	 software catalog.  This file records the results
	 and times of the installation.

swbis-0.431
	- swinstall: Added support for RPM config files as 
	volatile files.  Added options to control name suffix
	of volatile files.

swbis-0.430
swbis-0.429
	- Added support for GNU tar 1.15.1 formats.
	  ustar format is now GNU tar-1.15.1 and ustar0 is
	  the --posix format of GNU tar-1.13.25.  Added oldgnu
	  format specifier for the current 'gnutar' format and
	  added support the 'gnu' format of GNU tar-1.15.1

swbis-0.428
	- fixed swinstall that was broken by 0.421->0.422 changes.
	- swpackage: fixed some valgrind warnings in copyout.c used
		by lxpsf.

swbis-0.427
	- swpackage: cosmetic error message edits.
	- swpackage: fixed multiple leading slashes in the
		path attribute in INFO file.
	- created swsupplib/swi directory and split up swi.c
		into several files.

swbis-0.426
	- swpackage: improved handling of owner and group names
		when they are not in the system database.
	- taru.c : fixed the fetch/cache mechanism for searching
		the system data base for user and group names.

swbis-0.425
	- swpackage: changes to verbose listing '-pvv' to make it
		identical with GNU tar for the purpose of testing
		the preview output against the actual contents of
		the tar archive.
swbis-0.424
	- swpackage: code cleanups from 0.423 development.
	- swpackage: Fix,  Now directories have the IRX bit turned on
		if readable but only if generated by the recursive 
		extended  definition.
swbis-0.423
	- swpackage: Now the preview output is generated by the
		tar header listing code. This fixes the duplicate file
		bug in the generation of 'catalog/dfiles/files' files 
		and increases orthogonality.
	- swpackage: Now verbose previews are in a verbose tar listing
		format for verbose levels 3 and higher.

swbis-0.422
	- swpackage: changes to preview the files in a verbose tar
		listing. (Not yet complete).
swbis-0.421
	- swinstall: added ls listing form that displays the owner/group
		 name and the uid/gid

swbis-0.420
	- swinstall: Fixed warning message matching patterns in swcommon.c

swbis-0.419
	- swinstall: Fixed invalid warnings for mismatched file attributes.
	- swinstall: Fixed sanity comparison to of unused and uninitialized
		pointer to NULL.

swbis-0.418
	- swpackage: more fixes for PSFs that produce duplicate files.

swbis-0.417
	- swpackage: more fixes for PSFs that produce duplicate files.

swbis-0.416
	- swinstall: Fixed the INFO stats/Storage Stats warning
		for file definitions that specify uid/gid different
		than in the local system database.
swbis-0.415
	- swpackage: Fixed use of null pointer for some PSFs.

swbis-0.414
	- swpackage: Fixed a uninitialized pointer case in
		swobjfiles_i.h relating to the duplicate file
		handling. This caused a core dump for some PSFs
		notably RPM transaltion.

swbis-0.413
	- swpackage: added debuging statements for the duplicate
		file code.
	- minor documentation fixes.

swbis-0.412
	- swpackage:  More fixes to merging of the swDefinitions
		of duplicate files.

swbis-0.411
	- docs: documentation development.
	- docs: spelling fixes.

swbis-0.410
	- Updated 'Report bugs to' address to the GNU mailing list.
	- swpackage: Now files with same 'path' attribute are not
		stored twice, the last one wins.
	- swpackage: Fixed exclude keyword for some cases.
	- swpackage: Fixed improper storage of duplicate control scripts
		in the catalog section.
	- swinstall, swcopy: Now the ssh option '-A' is not used for
		single hop remote connections.

swbis-0.409
	- swpackage: Fixed invalid owner/group attribute in INFO
		file when file_permissions keyword is used.
	- swpackage: Enhanced configurable debugging statements in
		several C++ modules.
	- swinstall: enabled object dump printing code by defaults at
		the expense of compiled size.
swbis-0.408
	- swinstall_lib.c: fixed null pointer reference if no revision
		attribute found in package.
	- swinstall_lib.c: default revision is set to "0.0" although
		fails with error if no revision is found.

swbis-0.407
	- Documentation fixes.

swbis-0.406
	- swinstall development.
	- swinstall,swcopy: Fixed boolean extendeded option
		command line override.
	- Hardened extended option args against containing
		shell meta-chars.
	- swcopy: Added support for ':path' syntax to support
		relative path.
	- Documentation development including generation of 
		info files.
	- Added lzo compression library for the purpose of
		embedding shell code in the swinstall binary.
	- copyout.c: Fixed incorrect return value if the adjunct_fd
		formal parameter is zero or positive (ie. used).
	- swverify: Now exit status indicates failure for checking
		installed software since not all checks are
		implemented.

swbis-0.405.1
	- Fixed swverify option processing.

swbis-0.405
	- Fixed bin/checksig.sh to avoid using GNU awk
		version 3.1.2 which is busted.

swbis-0.404
	- swinstall: fixed progress bar updates.

swbis-0.403
	- Deleted unused byte pumps.
	- swinstall: progress bar fixes.

swbis-0.402
	- Created swlib_pump_amount7 and placed in
		service in copyout.c	

swbis-0.401
	- Removed experimental byte pumps.
	- Fixed swlib_pump_amount6() byte pump.

swbis-0.400
swbis-0.399
	- byte pump development and refinement

swbis-0.398
	- swinstall: Refined byte pump delay.

swbis-0.397
	- Added delay controls in byte pump for debugging
		purposes.
	- Added ssh-options=OPTION arg in swinstall.c

swbis-0.396
	- swicol.c: improved TASK_END message.
	- swinstall.c  hardened against broken connections.
	- Now PIPE_BUF is overridden to be 512 on all platforms.

swbis-0.395
	- Compile fixes to test programs on non-GNU/Linux platforms.

swbis-0.394
	- Fixed tests/devel Makefile on non-GNU/Linux platforms.

swbis-0.393
	- Makefile cleanups.

swbis-0.392
	- Spelling fixes in docs.

swbis-0.391
	- Added --with-no-flex and --with-no-bison options.

swbis-0.390
	- swpackage: Added error checking in the package
		generation section.
	- added "swbis_remote_shell_client" extended option
		for swinstall and swcopy.
	- Man page fixes.

swbis-0.389
	- Fixed missing uintmax_t for FreeBSD-4.8

swbis-0.388
	- Makefile and configure fixes.

swbis-0.387
	- swinstall: Increased the timelimit for fileset loading.
	- swinstall: fixed an error path return code.
	- swinstall: error message improvements.
	- Now the remote_shell option value is stripped of its
		pathname part for all but the initial hop invocation.

swbis-0.386
	- swinstall_lib.c: Fixed a core dump due to malloc'ing
		insufficient memory.

swbis-0.385
	- um_rpm/rpm-3.0.5/: Fixed configuration on non
		GNU/Linux/i86 platforms.
	- rpmpsf.c: Fixed vendor objects.

swbis-0.384
	- taru.c: changed default value for uid/gid.
	- swinstall: more fixes to uid/gid.

swbis-0.383
	- Fixes for the self contained rpmlib on solaris.

swbis-0.382
	- Fixed compilation breakage due to rpm configuration
		additions.

swbis-0.381
	- Added drop-privilege option to lxpsf.

swbis-0.380
	- Fixes to the --with-self-rpm integration.

swbis-0.379
swbis-0.378
	- Clean-ups to the rpm support code.

swbis-0.377
	- Now RPM support is extended to include rpm-4.2
	- Initial work toward including a self contained rpmlib.a
		to remove the dependence on the system RPM
		installation.
	- Added librpm.a frpm rpm-3.0.5 and made its compilation
		conditional on the "--with-self-rpm" configure 
		option.
swbis-0.376
	- swinstall: swinstall_lib.c: Fixed incorrect sanity
		check failures and warnings.
swbis-0.375
	- swinstall: Now the INFO file attributes are imposed.
		(the as shipped storage file attributes are
		[now] not used.)
	- swinstall: Fixed swinstall when operating on HP-UX
	  	depot packages.  [The failure was due to lack of
		control directory archive members in the package
		layout made by HP's swpackage.]
	- swinstall: Added --preview-tar-file=FILE option.

swbis-0.374
	-
swbis-0.373
	- Fixes to swpackage and swinstall use of (and response
		to) missing group and user names.
	- Now the uid/gid for missing unames and gname is
		set to (07777777).

swbis-0.372
	- logger and verbosity fixes.

swbis-0.371
	- Fixed swpackage and swinstall to work with archives
		with non-ascii chars in filename. 
	- Fixed RPM conversion for RPMs with absolute path
		symlinks.
swbis-0.370
	- RPM conversion: rpmpsf.c: Fixed to work
		better with Suse source RPMs.

swbis-0.369
	- Fixed swinstall return code.
	- Fixed an infinite loop when converting RPMs with
		non ascii characters in the pathnames.
swbis-0.368
	- swpackage.cxx: Now major/minor device numbers
		are only included for device files.
	- swinstall: made much faster for packages with
		lots of files.
	- swpackage: Now the POSIX control directories
		are not prepended to a hard link link_source
		if that make the link_source not fit in a 
		tar header.
swbis-0.367
	- Tested with gcc-3.4.0.
	- Fixed swinstall return code.

swbis-0.366
	- Fixed compiler option on RH6.2
	- Fixed compilation when using --with-rpm on RH6.2
	- More RPM translation testing and fixes to rpmpsf.c
	- swpackage: swobjfiles_i.h:  Fixed core dump when
		translating RPMS with signing turned on
		(either --sign or --dummy-sign).

swbis-0.365
	- swpackage: Fixed --file-digests option processing.
	- reverted --static for swinstall build since this
		breaks sparc/solaris compilation.
	- swinstall: fixed zero length payloads in swicol_send_task
		because zero length payloads are broken with the
		dd(1) on solaris hosts.
	- Fixed logging messages on solaris hosts.

swbis-0.364
	- swmetadata.cxx: Fixed warning on BSD hosts.
	- cleaned up commented out code, unused variables.
	
swbis-0.363
	- reverted some debugging changes from 0.362.
	- Now swinstall is statically linked.
	- swinstall.c : fixed the preview mode broken by
		the fix in 0.362.
	- Fixed regression test 033 which was broken by
		instance_id generation in swpackage.cxx.
	- Added ksh to list of supported shells.  pdksh-5.2.14
		worked OK with swinstall.

swbis-0.362
	- swinstall: fixed pipe breakage for local installs by
		adding a do-nothing trailer task which acts to
		hold up the process and the pipe.
	- swinstall : verbosity tweaks.

swbis-0.361
	- swinstall: Added use of swi_delete(SWI*) in swinstall.c
	- swinstall: Fixed uxfio fd leak in swi.c.

swbis-0.360
	- strob.c: fixed strob_strncat()
	- swinstall: Fixed fd leak when using multiple targets.
	- swinstall: uinfile open flags optimizations.
	- swinstall: memory leak fixes.
	- swinstall: valgrind now runs with no errors reported.

swbis-0.359
	- uinfile.c: Added prefix dir to path for swpackage
		invocation.

swbis-0.358
	- swpackage.cxx: now translates RPMs that have a missing
		file.
	- swpackage : swpackagefile.h : Fixed handling of object
		member that could (did) result in core dump.

swbis-0.357
	- swvarfs.c: a use of fnmatch replaced with strcmp.

swbis-0.356
	- swinstall: Fixed preview mode.
	- compile fixes.

swbis-0.355
	- swinstall fixes and testing.

swbis-0.354
	- swinstall tweaks.

swbis-0.353
	- swinstall is working again.
	- swinstall tweaks.

swbis-0.352
	- swinstall development.
	- swpath.h cleanups.
	- swbistar.c: add -t option which exercises the
		ls_listing code.

swbis-0.351
	- swinstall development.

swbis-0.350
	- RPM conversion: topsf.c: Fixed missing '\n' on the
		last line in RPM scriplets.

swbis-0.349
	- Hardened RPM conversion against non-ascii characters
		being put into the INDEX and INFO files.

swbis-0.348
	- Fixed Hard links when translating RPMs.
	- Fixed ommission of owner and group attributes
		in the fileset INFO file in some circumstances.
swbis-0.347
	- swinstall.c: Now supports installing RPMs by
		adding swbis_allow_rpm extended option.
	- swcopy.c: Now supports installing RPMs by
		adding swbis_allow_rpm extended option.

swbis-0.346
	- swinstall now installs multiple signatures.
	- swverify: Fixed utility name in info messages.
	- swpackage: added --dummy-sign option.
	- ahs.c: Fixed initialization for group and
		user names.
	- otar.c: Fixed user and group names being stored when
		reading in a tar header.
	- swparser: Now all binary data is rejected and
		raises an error when parsing definition
		files.
	- Eliminated usage and references of uxfdr.c/uxfdr.h
	- swinstall: Added comparison of INFO file attributes with storage
		section archive header, in preparation for 
		imposing the former (per ISO spec).
	- added swbis_enfore_sig and swbis_enforce_file_md5
		extended options

swbis-0.345
	- Fixed swverify -W sig-number option.
	- swinstall development.

swbis-0.344
	- swinstall development.

swbis-0.343
	- Manpage fixes.

swbis-0.342
	- swcopy: tweaks to error and event reporting.

swbis-0.341
	- Doc fix.

swbis-0.340
	- Added regression tests test033
	- swpackage: implemented instance_id and
		<control_dir>.tag generation.
	- uxfio.h: Increased max open limit.

swbis-0.339
	- Added regression tests test030, test031, and test032.

swbis-0.338
	- swpackage.cxx: Fixes to hard link handling.
		link_source attribute is now based on the 
		path instead of the source and is directory
		mapped [when directory mapping is active].
	- swpackage.cxx: Now guards against too many uses of
		stdin.
	- swpackage.cxx: now --passfile=/dev/tty overrides
		environment setting of SWPACKAGEPASSFD
	- swpackage.cxx: Added --no-front-dir option.

swbis-0.337
	- Hard link fixes: added inoE and nlinkE in
		generate_ExplicitFileAttributes()
	  Note: hard link bugs still remain, namely the
		link_source contains the source instead of
		the path attribute for the file it points to.

swbis-0.336
	- More work on hard link debugging in preparation for
		applying specific fixes.

swbis-0.335
	- man page fixes.
	- Fixes to hard link handling.

swbis-0.334
	- Now swign can read a passprase on stdin.
	- Now swign supports packages with default owners
	       taken from the source files.
	- swpackage.cxx:  Now a nil owner for --dir-owner
		means use the owners of the current directory.

swbis-0.333
	- swign.sh.in: Fixed swign failing to delete tmp files.
	- Now swign and bin/checksig.sh work for a package that
          uses default file permissions for all the files in the
	  "." directory.

swbis-0.332
	- factored taruib.c to reduce unused functions and
		code size in compiled programs.

swbis-0.331
	- Removal of unused functions.
	- Optimized swsdflt.c for size (eliminating some
		unused information).

swbis-0.330
	- Added --with-debugdump option to turn on inclusion of
		internal object dump/printing code.
	- swpackage: is_locatable attribute is now added.
	- Added --with-debugdump configure option,
		added support for .S file generation when
		configured with --with-debugdump.
	
swbis-0.329
	- swgp.c: changed off_t usage to unsigned long int.
	- swinstall.c: fixed strdup of NULL ptr.
	- */Makefile.in: Now depend failure won't stop compilation.
	- Fixed bin/checksig.sh for files with spaces in their name. 
	- Fixed shell-and-utilities aportability bug that caused
		regression test failure on NetBSD.

swbis-0.328
	- Fixed status for SW_SOURCE_ACCESS_ENDS event.
	- Fixed event reporting and logging for ssh 
		authentication failure.

swbis-0.327
	- swinstall: Removed a failure simulation.

swbis-0.326
	- Fixed compile error on SUN platforms.
	- Makefile fixes.

swbis-0.325
	- swinstall development.
	- Fixed compile error on SUN platforms.

swbis-0.324
	- Man page fixes.

swbis-0.323
	- swcopy.c: Fixed missing ANALYSIS_ENDS event.
	- swcopy: Fixed (partially) invalid stats in progress
            meter when auditting a compressed file.

swbis-0.322
	- swcopy/swinstall: Fixed missing SOURCE_ACCESS_ERROR
		event for local files.

swbis-0.321
	- swextendedef.h: Fixed incorrect over-zealous warning.
	- Fixed missing parser header file for platforms
              that don't have flex(1).

swbis-0.320
	- swpackage: swexdistribution.h: now tag has
		same effect on the leading path as control_directory.
	- Created swpackage.5 manual page.
	- swpackage: swobjfiles_i.h: Fixed control_file extendeded
		definition.  Now the package file name is
		correct when the <path> attribute is given in a
		"control_file" extended definition.
	- swpackage: swextendedef.h: Fixed replacement of
		attributes of file specified in explicit definitions
		files that are duplicates according to the path
		attribute.

swbis-0.319
	- swcopy.c: Fixed event status, Now non-zero status's
		are normalized to 1 since 2 is SW_WARNING.
	- swinstall.c development.
	- Event handling development.
	- Logging fixes.

swbis-0.318
	- logging fixes and development.

swbis-0.317
	- swign.sh.in: Added usage sanity checks.
	- logging development for swcopy and swinstall.

swbis-0.316
	- swinstall.c development.
	- initial debugging of SWI_<event> communication
		pipe.

swbis-0.315
	- swign.sh.in now disables owner/group in tar and 
		swpackage commands if either is set to an
		empty string.
	- swign.sh.in now does not use swpackage's stdin to
		read the PSF file.
	- swinstall development.
	- swpackage: swextendeddef.h: Fixed file_permission
		keyword using -o  and -g with no option arg.
	- sw(5) man page fix.
	- Fixed missing virtual qualifier for base class 
		destructors.

swbis-0.314
	- swvarfs.c: Fixed a changes added in 0.308 that caused
		failure of regression test021.

swbis-0.313
	- Fixed the fix allowing vendor objects in a product object.
	  	Reverted parser change that allows vendor object in a
		product object  (The parser will accept this in
		an INDEX file).
	- rpmpsf.c: removed  the host definition from the PSF used
		in RPM conversion.
	- swi.c: Fixed swinstall breakage on packages with no vendor tag.

swbis-0.312
	- Fixed explicit file extended definition (in a PSF)
		for types hardlinks, symlinks and directory.

swbis-0.311
	- updated swverify(8) to handle ./import2/ form 
		installed catalog.
	- improved posix confomance of swverify(8) options.

swbis-0.310
	- rpmpsf.c : changed mapping of RPMTAG_RELEASE to
		<product>.vendor_tag
	- added vendor_tag file to the installed software
		catalog.
	- implemented '-r' posix option.

swbis-0.309
	- Changes to installed catalog form, now 
		implements /import2/ form that installs the
		catalog as a single file and detaches the signature
		(if a signature is present).

swbis-0.308
	- Changes and developement to swinstall.c and swi.c et.al.
	- Fixed parser: swparse.y: fixed INDEX/PSF file parser to 
		allow vendor objects in a product.
	- Fixed swinstall hanging: swinstall.c: Now shutdown_logger()
		does a kill, this fixes a hang on compressed packages due
		to the logger process not exiting.

swbis-0.307
	- fixed freeBSD compile error in new code for making
		an archive listing.
swbis-0.306
	- fixes to swverify

swbis-0.305
	- swverify.sh: added posix -r and -d options.
	- swinstall: Changes to installed_software_catalog
		paths and filenames.
	- rpmpsf.c : now <revision> is RPMTAG_REVISION
		not REVISION-RELEASE.
		RPMTAG_RELEASE is mapped to prod.<number>

swbis-0.304
	- swinstall becomes usable
	- swinstall man page created.
	- Fixed swpackage file attributes when
		specified from a file definition in
		a PSF, the values from the PSF are
		now preserved.
	- swpackage.cxx: tweaks to the RPM translation policy.

swbis-0.303
	- swinstall development.
	- malloc/free fix in swheader.c
	- changes to rpmpsf.c
	- enabled installation of swinstall.

swbis-0.302
	- swinstall development.

swbis-0.301
	- disabled installation of swinstall.

swbis-0.300
	- swcopy.c copied to swinstall.c and development of
		swinstall begun.
	- Changed the $HOME defaults file location to ~/.swbis/
	- Fixed html formating problem with sw.5 man page.
	- Fixed swign's use of alternative PSF file rather than
		the builtin one.

swbis-0.299
	- swcopy.c: Now swcopy can write to a named pipe.
	- swcommon.c: restricted local file optimization to 
		type regular files to fix hanging on special
		files.

swbis-0.298
	- swcommon.c: Fixed directory copy that was broken due to
		local regular file optimization.
swbis-0.297
	- Fixed bin/make_archive release script.

swbis-0.296
	- Fixed breakage from directory clean-ups.

swbis-0.295
	- Changed package releaase tar format options to numeric
		owners.
swbis-0.294
	- Fixed compile problem caused by file re-arrangement.

swbis-0.293
	- Fixed no-audit mode inappropriately uncompressing.

swbis-0.292
	- package directory clean-ups.

swbis-0.291
	- swcopy.c: Enable multiple targets from seekable stdin.

swbis-0.290
	- Fixed initialization of taruib.c static data that caused
		corruption of the the 2nd of multiple targets.
	- Normalized file descriptors for multiple targets in
		swcopy.c

swbis-0.289
	- swcopy: Fixed swcopy when using remote source.
	- swcopy: Added  the --shell-command=shell option.

swbis-0.288
	- swcopy.c: Fixed no-audit usage when source is
		a compressed archive on stdin.
	- swcopy.c: fixed multiple targets for a compressed local
		source regular file in no-audit mode.

swbis-0.287
	- swcopy.c: More verbosity tweaks.

swbis-0.286
	- swcopy.c: Fixed hanging on SIGPIPE when auditting a
		source file that is compressed.
	- swcopy.c: Now SIGPIPE does not exit in the handler 
		allowing multiple targets to be processed. 

swbis-0.285
	- swcopy: Added -pe option to pax read commands to cause
		file characteristics to be preserved.
	- swcopy: Fixed multiple target usage.
	- swcopy: Enabled local regular file optimization.
	- swcopy: changes to verbose usage of stderr/stdout.

swbis-0.284
	- swcopy: verbose level verbosity fix.
	- swcopy: Fixes to the progress meter.

swbis-0.283
	- swcopy manual page fix.
	- swcopy: verbose level verbosity tweaks.

swbis-0.282
	- Fixed swign.sh.in script on RedHat-5.1 
	- Documented tested platforms in ./README

swbis-0.281
	- Added SW_ACCESS_DENIED event to copy scripts.
	- error message clean-ups.

swbis-0.280
	- uinfile.c: Fixed swcopy hanging when opening a
		compressed invalid package.

swbis-0.279
	- Fixes to bin/checksig.sh
	- swcopy.c: Changes to verbose level dependent stderr
               logging.
	- swcopy.c:  SW_<EVENTS> are now written to stdout when
		stdout is available..
	- swcopy.c: development to support logging to a logfile.

swbis-0.278
	- quieted a error message in swgp.c that showed up in BSD.
	- swverify.sh.in: Fixed unneccessary requirement for pax.
	- swign.sh.in: Fixed unneccessary requirement for pax.

swbis-0.277
	- swcopy.c: Fixed pty selection/contention in swfork.c
		Now failure to open the slave pty is respected
		as a fatal error.

swbis-0.276
	- Fixed regression test029.sh

swbis-0.275
	- Minor improvements to swverify.sh.in

swbis-0.274
	- Fixed swpackage's ability to specify numeric-only
		uid/gid in the archive.
	- swign.sh.in:  Now numeric-id archives can be generated
		and verified.

swbis-0.273
	- Fixed bug in ./bin/checksig.sh

swbis-0.272
	- swign.sh.in: -s option changed to -S
		-s option is now for specify a PSF file.
	- Added test029.sh

swbis-0.271
	- More portability fixes for Solaris
	- Fixed ./bin/checksig.sh for Solaris

swbis-0.270
	- Portability fixes for Solaris
	- Made libexec/swbis/epochtime program for use
	  by swign since date +%s is not available on solaris.

swbis-0.269
	- Fixed swcopy man page error.
	- Fixed sw_parse/Makefile (again) to support
	    systems without flex and bison.  Problem was 
 	    the solaris `which' which is not silent on error,
            (i.e. fills stdout with its error message confusing
	     the Makefile).
	- Fixed swign on solaris (problem with sed, now uses awk).

swbis-0.268
	- More SHELL and GTAR abtraction fixes in the 
		Makefiles.

swbis-0.267
	- Many fixes to bin/checksig.sh and swverify.sh.in
		and swign.sh.in to make work on BSD systems.
	- Added libexec/swbis/mtimetouch program to be
		used by swign(1).

swbis-0.266
	- swcopy.c: Now the logger process is forked
		with the needed signal and handler masks.
	- swcopy.c: Now the logger process closes all
		unused file desciptors.

swbis-0.265
	- swcopy.c: Fixes to selections@targets option
		processing.
	- swcopy.c: Fixed source copy script so that it
		won't produce an archive with absolute
		pathname when the source target path is "/".
	- Makefile fixes to fully abstract the $SHELL.

swbis-0.264
	- Fixed compilation problems on FreeBSD.
	- Fixed compilation problems on systems without
		bison and flex.
	- Spelling fixes.
	- Documentation fixes.
	- swcopy.c: Added --no-getconf option and
		swbis_no_getconf defaults file option.
	- Now arf2arf -S -d does not emit NULs as
		part of the attribute file when writing
		the digest value to stderr.
	- Fixed handling of global vs utility-specific 
		extended options in defaults files.

swbis-0.263
	- swpackage.cxx: --help verbage changes.

swbis-0.262
	- No changes from 0.261

swbis-0.261
	- taruib.c warning fix.
	- documentation updates.

swbis-0.260
	- Added support for multiple signatures in swverify.
	- taruib.c: Fixed signature selection.

swbis-0.259
	- swcopy.c: created logging process which now
		is used for writing to stderr.
	- swgp.c improvements.
	- shcmd.c : added routine to close all fd's.
	- swpackage.cxx : now all unused fd are closed
		in child processes.
	- Fixed shcmd.c and uinfile.c causing a error
		(inconsequential) message when using the
		-C option of arf2arf.
	- Fixed verbose options set from swdefaults file.

swbis-0.258
	- sw.5 man page fix.
	- Fixed error trap in swi.c for sw_yyparse().
	- taruib.c : improved error reporting for checking
		signature of unsigned packages.

swbis-0.257
	- swcopy.c : help verbage changes.
	- swpackage.cxx : help verbage changes.
	- Added support for 1024 byte signature files
		in swpackage.cxx and made this the default
		size.  This breaks compatibility with
		swverify from prior versions.
	- Added support for verifying either 512 or 1024
		byte signature files.
	- Added preliminary support for selecting among
		multiple signatures.
	- Now swverify refuses to verify a cpio archive.
	   [signing was broken for cpio formats anyway].

swbis-0.256
	- ustar header of the signature file is now
		called "sig_header".
	- Fixed swpackage with sig_header enabled.
	
swbis-0.255
	- swcopy.c: Added -b,--block-size option.
	- swcopy.c: cleanups to swcopy scripts.
	- swpackage : added signature_header attribute
		file to provide signature coverage of the
		header of the sig file archive member.
	- arf2arf: added support for signature_header
		checks (disabled).

swbis-0.254
	- swpath.c : added sanity checks to pathname parsing.
	- added swbis.sh.in wrapper program.
	- Now swverify and swign version string is tied to
		common version file.

swbis-0.253
	- swign man page fix.
	- swpath.c : Now multiple dfiles directories are not
		allowed by the swpath module.
	- copyout.c : Fixed an error return code.
	- arf2arf.c : Fixed error exit status.

swbis-0.252
swbis-0.251
	- Code clean-ups.

swbis-0.250
	- swcopy.c: indentation changes to make 80 column friendly.
	- swpackage.cxx: began additions to add a signature_header
		attribute file.

swbis-0.249
	- Removed unused directory swsupplib/dd 

swbis-0.248
	- Fixed operation on a target list when a target fails.

swbis-0.247
	- Changed the man2html convertor to yman2html and fixed
		the href links in the html man pages.
	- swcopy.8 manual page fixes.

swbis-0.246
	- swextendeddef.h : Fixed -o owner,uid and -g group,gid 
		options of the file and file_permissions extended
		definition.
	- Added --no-remote-kill option to swcopy.
	- swcopy.c: Fixed verbose level message.
	- uxfio.c : deprecated uxfio_full_write and replaced with 
		atomicio().

swbis-0.245
	- swcopy.c: Improvements to source script. Now source access 
	  	errors are handled better.

swbis-0.244
	- Many improvements to swevent.c 
	  (This required code changes to target scripts).
	- Fixed invalid memory access in strob_read_char()
		where it might read a negative index.
	- Many improvements to debugging messages.

swbis-0.243
	- Fixed target script bug if SOC_CREATED event occurs and the
          created directory has more than one path.

swbis-0.242
	- swpackage: Fixed use of unitialized data in swdefinitionfile.h
	- uinfile.c: Fixed invalid read of free'd memory.

swbis-0.241
	- Now fd0 is set to /dev/null the source script.
	- Now the kill command kills the (parent) PPID at
	  	every ssh-hop.
	- Now the PPID at every ssh-hop is recorded and used
		for termination of intermediate sshd processes.
	- Many improvements to debugging messages.

swbis-0.240
	- skipped release number.

swbis-0.239
	- Now the target script has fd1 redirected to /dev/null
		This seems to help stop the hanging sshd
		processes on intermediate-hop hosts.
	- Now '-x verbose=0' is better respected. This is useful
		for redirecting remote scripte fd2 to /dev/null which
		serves to help the hanging sshd problem.

swbis-0.238
	- Fixed two initialization issues which
		the valgrind malloc checker complained
		about.

swbis-0.237
	- Fixed the bum fix in swextopt.c

swbis-0.236
	- Fixed double-free in swextopt.c
	- Makefile fixes.
	- swcopy.c: relaxed internal return code check to
             allow use on NetBSD's /bin/sh (which doesn't
             set the $PPID var). 

swbis-0.235
	- Version string fix.
	- autoconf/configure fix.
	- Top level Makefile improvements.
	
swbis-0.234
	- uinfile.c: reduced the look-ahead bytes when not
		decoding the archive file.
swbis-0.233
	- Fixed swcopy bustedness for small files due 
             to test for failed source source connection.

swbis-0.232
	- Made fix in tests/regression/test027.sh

swbis-0.231
	- Added verbose switch to swverify.
	- clean-ups to arf2arf.c
	- Now gzip trailing garbage causes swverify to
            exit with error.

swbis-0.230
	- Tightened up the sanity checks of the 
	     sigfile tar header and sigfile slack data.
	- Documentation updates.

swbis-0.229
swbis-0.228
	- Documentation updates.

swbis-0.227
	- Improvements to uxfio.c
	- Fixed potential breakage on *nix kernels with small
	    PIPE_BUFs'.

swbis-0.226
	- Clean-up to setting of compiled-in defaults.

swbis-0.225

swbis-0.224
	- Spelling fixes.
	- swcopy: Added -x ustar to pax writing command.	

swbis-0.223
	- swcopy: Now, again, star/tar write have their 
		verbosity redirected to stderr.
	- swcopy: Fixed star options.
	- swcopy: Fixed source script for relative path on
		remote host.
swbis-0.222
	- swcopy: Fixed core dump in audit fail code path.

swbis-0.221
	- help and doc fixes.

swbis-0.220
	- swcopy: Source script fixes.
	- swcopy: Progress bar tweaks.

swbis-0.219
	- swcopy: Now the umask of the local parent process 
		is set in the target script.
	- swcopy: Many error handling clean-ups.
swbis-0.218
	- swcopy: Fixed verbose error message.
	- swcopy: Optimized the no-audit byte pump usage.

swbis-0.217
	- swpackage: Fixed respect for GNUPGHOME.

swbis-0.216
	- swcopy: enabled remote-to-remote copies.

swbis-0.215
swbis-0.214
	- swcopy: cleaned up signal blocking and disposition
		controls.

swbis-0.213
	- swcopy: signal handling tweaks.
	- swsupplib: swgp.c pipePump modified to handle a
		missed shutdown case.
swbis-0.212
	- Fixed pax utility selection.

swbis-0.211
	- Fixed pax utility selection.
	- Added gtar to pax utility selection.

swbis-0.210
	- swcopy: fixed option typo.
	- swcopy: worked on getting keyboard interupt to shutdown 
            all processes.
	- swcopy: Now, in no-audit mode, the target_fdar[0] 
	    is pumped to local STDOUT, thus revealing tar and 
            star verbosity.

swbis-0.209
	- Fixed swbistar to continue after trying to archive
		a file with no read access.
	- swbistar now creates an archive with the same file
		list as star (tested example: an unprivilidged 
		user creating an archive from /etc).
	- Added remote-pax-{read|write}-command options.
	- Added local-pax-{read|write}-command options.

swbis-0.208
	- swcopy: Improved signint handler.
	- Added swbisdefaults file, separating the swbis
		extended attributes from the posix extended
		attributes.

swbis-0.207
	- autoconf fixes and ./configure changes.
	- replaced #!/bin/sh with #!/bin/bash in swign
		and swverify.
	- fixed swverify.sh.in to work on Sun Sparc.
	- Now the Makefile that run scripts set the
		SHELL var to /bin/bash.

swbis-0.206
	- Included include file to fixed sparc compililation.
	- Now swcopy @. unpacks in '.' like it should.
	- Fixed a compile type error (int <--> pid_t).

swbis-0.205
	- Fixed syntax error on pre gcc-3.0 compilers.

swbis-0.204
	- Now source file type detection is done in no-
		audit mode.
	- Added -Wquiet-progress option.

swbis-0.203
	- Fixed pty override options.

swbis-0.202
	- changes to progess meter.

swbis-0.201
	- swcopy: Fixed progress meter in audit mode.
	- consolidataion of read/write routines.

swbis-0.200
	- swcopy fixes.
	- Now pax -v and -k are mutually exclusive.

swbis-0.199
	- swcopy development.
	- Now swcopy supports the -t <targetfilelist> option.

swbis-0.198
	- Added swcopy progressmeter.

swbis-0.197
	- swcopy.c: More improvements to the client scripts.
	- swpackage.c: Close passphrase fd in child processs.
	- swcopy.c: Code re-factoring and cleanups.
	- swcopy.c: Now the source client script is sent before the
		target piping is made.

swbis-0.196
	- Clean-ups to signal handling.

swbis-0.195
	- Added handling for SIGPIPE.

swbis-0.194
	- Substantial swcopy development:
	  + Added debugging/verbosity controls to
	    the target scripts.
	  + Now multiple targets are supported from
	    the command line.	
          + Improved client scripts.
	- include<> file dependency reductions.
	- development of support for local source files
		using no fork and no source script.
	- Tested with gcc-3.3.2 compiler.

swbis-0.193
	- swcopy clean-ups.	

swbis-0.192
swbis-0.191
	- swcopy: Now hanging sshd are fixed by handling 
          SIGINT and and running kill PID via a separate ssh.

swbis-0.190
	- Now stderr on remote script is not redirected to
		/dev/null.  This will allow intermediate
		sshd to hang.  This is only a problem for
		multi-hops.

swbis-0.189
	- Fixed regression test test027  (make swigntest3)

swbis-0.188
	- changed /usr/tmp to /var/tmp in scripts.
	- now swign respects GNUPGHOME env var.
	- now swpackage respects GNUPGHOME env var.

swbis-0.187
	- Now reading a passphrase on stdin is supported 
	      (and just as safe as reading from fd=3).

swbis-0.186
	- Now regression tests check for sufficient version
	  of GnuPG and GNU tar.
	- regression test script improvements.
	- Fixed the shcmd::close_list() routine.

swbis-0.185
	- Build fixes, regression test fixes.

swbis-0.184
	- swpackage: Now a file_permissions keyword resets and 
		clears the previous definition.
	- swpackage: Now '' file_permissions -u 000 '' is 
		equivalent to '' file_permissions "" '' 
	- [Security] swpackage: Now the file descriptor set by 
		the passphrase-fd=fd is closed in child processes.
	- Created regression tests 024-028
	- Now env var SWPACKAGEPASSFD=N is the same as 
		the option -Wpassphrase-fd=N
	- Replaced sscanf()'s with home grown version.
		(speed up: about 1% on GNU/Linux).
	- Reverted changes to:  Fixing of 'file_permissions'
		keyword with no options made in 0.183.
     
swbis-0.183
	- swpackage: Fixed parsing of 'file_permissions' keyword 
			with no options.
	- swpackage: Fixed file_permissions umask option not
		applying to subsequent explicit files as it
		should.
	- swpackage: Fixed file_permissions -o and -g options 
		when specifying uid/gid numbers and the owner/group 
		names.
	- Created ascified dump of the tar archive headers using
		-D[v] option <libexec>/swbis/swbistar

swbis-0.182
	- Documentation fixes and updates.

swbis-0.181 [2003-11-07]
	- swcopy: Now if the nhops > 1 then pty-fork is not used.
	- swcopy: Fixes to swcopy leaving hanging sshd processes.
	        Now stderr of the remote driver scripts is 
		redirected to /dev/null for nhops > 1. (this 
		solves the problem of left-over sshd on 
		the intermediate hosts).

swbis-0.180 [2003-11-06]
	- Separated the optind,optarg,opterr variables from the
		C library namespace.
	- sparc warning fixes.
	- sparc portability fix in swsupplib/tests/testdig.sh.

swbis-0.179 [2003-11-06]
	- Changed reference to getopt_long to ugetopt_long
		in swsupplib/progs/getopt.c
	- Fixed ./configure failure on the sparc platform.
	- Makefile fixes to help compiling on the sparc plattform.
	- Fixed swverify on the sparc plattform.
	- Fixed swverify on the FreeBSD plattform.

swbis-0.178
	- Spelling fix.
	- swpackage man page fix.
	- Added getopt(1) binary to the libexec directory.
	- Changed swverify to use getopt(1) in the libexec dir.
		(This adds portability to systems with
		non-GNU/Linux getopt(1), e.g. FreeBSD).
swbis-0.177
	- Added --remote-shell=SHELL option to swcopy.
	- Now PATH is respected when looking for ssh, gpg.

swbis-0.176
	- swcopy: Improved exit status.
	- swcopy: Fixed auditing of a posix package that does not
		have directory archive members in the catalog section.
		(e.g  like packages produced by the HP implementation).
	- swcopy: Added --uncompress option to swcopy.
	- Changed uinfile.c to be able to open (and uncompress)
		arbitrary data.

swbis-0.175
	- swpackage: Optimizations that increase performance by 60%.
			
swbis-0.174 [2003-11-02]
	- Improved the unrpm translator, now all rpms are
		emitted with a leading path.

swbis-0.173 [2003-11-02]
	- uinfile.c: Now an RPM isn't mistaken for a posix layout.
	- More getopt() clean-ups.
	- Now stdioPump() will return an error.
	- swcopy.c error code-path clean-ups.
	- Now compiles on AMD x86_64 platforms. 
	- Now the md5 hash code isn't broken on AMD x86_64
	- Added automated md5,sha1 hash tests to the end
		of the build process so broken sha1 and md5
		are plainly obvious.

swbis-0.172 [2003-11-02]
	- Fixed spackage.  Now a minimal PSF actually works!
		PSF with no attributes in the distribution object
		or a fileset with one file was broken.

swbis-0.171 [2003-11-01]
	- Compile fixes for Darwin/powerpc platform.

swbis-0.170 [2003-11-01]
	- changes to swcopy,8 man page.
	- Fixed compilation support for Darwin/ppc platform.
	- Fixed segfault on powerpc platform.
		(swmetadata.cxx, swattribute.cxx)
	
swbis-0.169 [2003-10-31]
	- Added a new digest test that uses the openssl utility
            to calculate the 'correct" digest values.
	- Compiled and Tested on SunOS/sparc
	- Compiled and Tested on GNU/Linux/debian/alpha

swbis-0.168 [2003-10-31]
	- Fixed swsupplib/sw_parse/Makefile.in
	- gcc Warning fixes on sparc.
	- Makefile/configure fixes.

swbis-0.167 [2003-10-31]
	- Fixed major/minor/makedev issues.

swbis-0.166 [2003-10-31]
	- SunOS/sparc portability fixes.
	- swpackage.cxx: Fixed uuid generation when uuidgen
		is not present.
	- Fixed PSF.bin.map1 psf file.

swbis-0.165 [2003-10-31]
	- Added own getopt routines.

swbis-0.164 [2003-10-31]
	- swcopy.c: Fixed preservation of file compression
		state when copying from a regular file to
		a remote direectory.
	- swcopy.c: Fixed target syntax of @host1
	- swcopy.c: Fixed target syntax of @host1:/ 

swbis-0.163 [2003-10-31]
	- Major swcopy.c changes.
	- Fixed swcopy use of the source script control message.
	- Fixed swcopy when empty target path is specified.
		(i.e.   @host1   -or-   @host1: )
	- swcopy.c: trapped invalid/unsupported use cases.
	- Changed system defaults file from /etc/swbis/swdefaults
		to /usr/lib/sw/defaults.
	- swcopy.8 man page changes.

swbis-0.162 [2003-10-30]
	- Makefile fixes.
	- Portability fixes to swsupplib/sw_parse/Makefile.in

swbis-0.161 [2003-10-29]
	- swcopy.8 man page improvements.
	- Compiler Warning fixes in swsupplib/sw_parse/swparse_supp.c
	- Added support for powerpc-darwin : config.guess
	- Makefile portability fixes.

swbis-0.160 [2003-10-29]
	- Improvments/Changes to  swcopy.c copying semantics.
	  Now a targetpath with a trailing slash is interpreted
	  as significant.
	- swcopy.c: Improvments to preview output format.
	- swcopy.8 man page improvements.
	- Dead argument and code clean ups.

swbis-0.159 [2003-10-27]
	- Makefile changes. Removed *_debug.o files from
		 the compile lists.
	- Changes and cleanups in the format read/write
	  routines (i.e. ./swsupplib/taru/*).

swbis-0.158 [2003-10-27]
	- Fixed [intelligent] selection of pty usage
		for the --login option.
	- Added return code checking in swcopy.c

swbis-0.157 [2003-10-26]
	- minor Makefile fixes.
	- swcopy: Now the ssh command is checked for shell
	          meta charaters and exits if any are found.
	- swssh.c clean-ups.
	- dead code deletion in swssh.c
	- Fixes in swcopy.c to intelligently select when to
		use pseudo ttys.
	- Improvement to swcopy.8 manual page.

swbis-0.156
	- swcopy now enforces IEEE layout by default.
	- unsued code removed from shcmd.c
	- Makefile fixes

swbis-0.155
	- Now the swcopy audit preserves the format personality,
	  instead of re-encoding it.

swbis-0.154
	- Added 'sleep 1' to the end of the target scripts.
	  This helps ssh not drop bytes at the end of the file.

swbis-0.153
	- swcopy.c development.

swbis-0.152
	- swcopy.c development.

swbis-0.151
	- Documentation fixes.

swbis-0.150
	- Documentation fixes.
	- swcopy.c changes.
	- Fixed verbose=0 operation in swcopy.c

swbis-0.149
	- doc/Makefile.in fix.
	- added --extract option to swcopy.

swbis-0.148
	- Now swverify exits 0, if gzip exit with 2 (a warning).
	  This accomodates reading archives from raw devices
	  that present an unbounded byte stream.
	- swcopy fixes.
	- Fixed swcopy argument processing.
	- Fixed terminal setting for --login feature.

swbis-0.147
	- Fixed swcopy when no defaults files are present.

swbis-0.146
	- swcopy fixes and development.

swbis-0.145
	- swcopy fixes and development.

swbis-0.144
	- swcopy fixes and development.

swbis-0.143
	- swcopy fixes and development.

swbis-0.142
	- swcopy fixes and development.

swbis-0.141
	- Fixed swcopy --login feature.

swbis-0.140
	- Create swbis(7) manual page.

swbis-0.139
	- swcopy.c development.

swbis-0.138
	- swcopy.c development.
		Now operations on the localhost are not forked with ptys.
	- Changed uxfio_sfread() routine.	
	
swbis-0.137
	- swcopy development.
	- clean up changes to swpackage.cxx 
	- Fixed signature checking when package <path> (i.e swpath.prepath)
		is a path with more than one directory component.
		e.g.  Swpackage option --dir="a/b/c"	
	- Added "be_silent" argument to stdioPump function.

swbis-0.136
	- Cleaned up sha.c and eliminated need for
	  new_md5_for_sha.h
	- swcopy development.
	- changes to swpackage.cxx

swbis-0.135
	- swcopy development.

swbis-0.134
	- swcopy development.

swbis-0.133
	- swcopy development.
	- hardened parser against binary input. 

swbis-0.132
	- Fixed swbistar -X option.	
	- Added support for pax (v3.0) ustar format bits.
	- added --owner --group option to swign and parameterized
	  the owner and group.
	- parameterized owner and group in swverify.sh
	- Modified checksig to support pax.
	- Fixed pwent cache routine usage in swextendeddef.h
	- Added support for pax, although your pax may require
		tests/pax/rdev_initialization.patch in order to
	  verify a signed package written in --format=bsdpax3

swbis-0.131
	- parametized $(libexecdir) from the configure scripts

swbis-0.130
	- Fixed --dir-mode application in swpackage.cxx

swbis-0.129
	- hardened parser against binary input.

swbis-0.128
	- if -Wdir-mode='.' then use permissions of
	  the current directory.         
	- Made catalog directory and file permissions responsive
	  to the leading path permissions.
	  e.g inherit setgid bit for dir, inherit rw bits of the
	  for the group and other.
	- Fixed use of swign in distributions with setgid bit in
          leading path directory.

swbis-0.127
	- Fixed swparse.y build failure on Knoppix3.2
	- Fixed swsupplib/progs/Makefile.in  -ldb usage
	  when not required.
	- man page fix.
	- Added -Wdir-owner -Wdir-group and -Wdir-mode options.

swbis-0.126
	- man page fix.
	- swcopy development.

swbis-0.125
	- Optimized blocking size on internal swpackage pipes().
	    (Set to PIPE_BUF).

swbis-0.124
	- Optimizations involving eliminating write calls on
		/dev/null.
	- Made default blocksize 10240 bytes.

swbis-0.123
	- swpackage: fixed "/dev/null" fd convervation trick (hack).
	  Modified uxfio.c.
	- swpackage: added code from dd(1) to provide output blocking.
		(not used)
	- swcopy : more development.
	- Added blocksize capability to swpackage.
	- added bufferd writes to uxfio.c

swbis-0.122
	- added vrealpath.c
	- eliminated static variables in xformat::common_setup...()
	  routine.
	- Created swprogs/swcopy.c
	- Modified uxfio.c to conserve open() on "/dev/null"
	- added '-h' to mean --help
	- changed -v to mean --verbose.
	- changed -V to mean --version
	- initial changes to block-ize swpackage output.
	- modified swmemfile.h

swbis-0.121
	- swpackage.cxx
	  Now distribution.tag is not set if zero length.
	- Man page formatting fixes.
        - fixed broken rpm2swbis usage.

swbis-0.120
	- removed debugging code.  To re-apply: Use patch file 
          debugcode-0.120-0.119.patch. swpacakge now 120k smaller.
	- Cleaned up syslinks in test directory and made req'd
          fixes to regression tests.
	- Man page formatting fixes.

swbis-0.119
	- Deleted a junk file.

swbis-0.118
	- spelling fixes.
	- Fixed incorrect exceptional handling of control 
          directories that were one (1) byte long, now they are
          handled the same way as two(2) byte or longer names.
	- Manual page fixes.

swbis-0.117
	- Fix filenames with spaces when specified in explicit
	  file definition in a PSF file.
	- Now swbis_nosign swdefaults file option turns off 
	  archive_digest generation.

swbis-0.116
	- Added -Wcatalog-owner=OWNER and
	  -Wcatalog-group=GROUP
	- Man page additions for swpackage.
	- Added -Wfiles-from=FILE to create a "read a list of files"
	  interface.
	- Fixed owner/group catalog specification by the 
          distribution.owner/group attributes in the PSF.
	- Fixed ''arf2arf -C'' operation for a package with no
          storage section.
	- Now extension options can be given using --long-option
	  format
	- Help verbage formatting improvements.

swbis-0.115
	- Added TARU object type to swsupplib/taru/taru.h
		and began integration into code.
	- Clean-up function API in swsupplib/taru
	- Added signing support for PGP 2.6 and PGP 5.
	- Added signer_pgm and signer_pgm_version attributes
		to the INDEX file.
	- Added own getpass() code so the buffer could be scrubbed.

swbis-0.114
	- Fixed version and help output getting truncated on exit;
	    (reverted addition of fflush() in 0.113).

swbis-0.113
	- source file fixes for the Intel C++ compiler
	(which is not supported by the Makefiles but can be made 
	to work with some manual effort).
	- Added fflush() to help message generation. Now all the
	  help output will write to a pipe on stdout.

swbis-0.112
	- swinstall work.

swbis-0.111
	- doc/Makefile fix

swbis-0.110
	- Portabliity and compiler specific fixes


swbis-0.109
	- Fixed swverify --checksig so garbage input does not
		hang gpg.
	- Fixed swverify manual page.

swbis-0.108
	- Deleted leftover debugging line in swverify.sh
	- Added taru_tarheaderflags to swvarfs.h
	- Set tarheaderflags in arf2arf so reading of a archive
		is not tolerant of skipped bytes or bad header sum.
	- Fixed -V option in swpackage and swinstall.
	- Fixed exit value in swbisparse.cxx
	- Improved swverify manpage.
	- Added new options to swverify
	- Now decompressor errors are detected by swverify.
	- Added new mode to arf2arf to be used by swverify.
	
swbis-0.107
	- Fixed parser handling of comments in swdefaults file.
		This eliminated extraneous bytes [from the lexer]
		appearing on (FILE*)(stdout) upon exit().
	- Converted swcommon.cxx and swinstall.cxx and swlist.cxx
		 to "C"
	- Fixed swheader.c when using the swheader_"goto_next_line"
		routine. (swpackage uses swheader but provides its
		own goto_next_line function).
	- Fixed pfiles attribute location, now in distribution.
	- Now security checks are made on the signature file
		 tar header to check for improper values.
	- Added debugging statements to taruib.c
	- Changes to swverify.sh
	- manpage updates.

swbis-0.106
	- Renamed function uxfio_timedRead() to uxfio_sfread()
	- Added swssh.c and swgp.c files.
	- initialized  swlex_linenumber and moved into the 
		global namespace to fix an initial value 
		problem.
	- Created first version of swinstall.cxx
	- Activated use of applicability flag in the extended 
	  options structure (swcommon.cxx).
	- Added swpath pathname parsing to ieee detect code in
	  uinfile.c
	- Fixed "pfiles" attribute in a PSF having no effect.
	- Fixed taru_set_filetype_from_tartype() routine.
	- Added -Wuuid option and now generate a uuid and include
		in the distribution object.
	- Began work on swlist.cxx
	- Began work on swi.c and swi.h which is the posix
		package decoding object.
	- Updated swattributes.h
	- Fixed sticky bit being dropped from file modes.
	- Changes to swpath.c, swpath.h
	- Fixed swpath_parse_path() in the case of minimal
		package layout.
	- Added -Wpassfile=FILE option to swpackage.

swbis-0.105
	- Fixed -Wunrpm op busted in 0.103-0.104.

swbis-0.104
	- Options restructuring in swpackage.
	- Added support for reading the swdefaults file.

swbis-0.103
	- Improved swpath_parse_path() routine and
	  augmented and fixed regression tests 016
	  and 020.

swbis-0.102
	- Fixed features added to swbistar in 0.101.

swbis-0.101
	- Added support for emulating the star 'ustar'
	  format in the swbistar utility.

swbis-0.100
	- Added support for bzip2'ed rpm payloads.

swbis-0.99
	- Now do sanity check on signature filename.
	- Now checks for double sig and digest files.

swbis-0.98
	- Guard against multiple signature files in 
	  taruib.c
	- Fixed breakage in xformat.c  0.91->0.92
	- Fixed bit LongLink Header bit deviation with GNU tar.

swbis-0.97
	- Fixed some compiler warnings.
	- Fixed incorrect size in INFO for the dfiles/files
	  (distribution filelist) attribute file.
	- Man page fixes.

swbis-0.96
	- Makefile fixes.
	- Added rpm2swbis(1) manual page.

swbis-0.95
	- Fixed long file names (100<length<256).
	- Added test program testtarname.c.
	- Changed swign.sh arg interface, again.
	- Fixed swbistar, now format=gnutar means the same 
	  format as it means to swpackage.
	- Added -Wpassphrase-fd=n option.
	- Added --owner,group to the libexec program swbistar.

swbis-0.94
	- Deleted temporary testing files.
	- Fixed CHANGES file.

swbis-0.93
	- Added rpm2swbis script.
	- Added local-user and homedir to be the same as
	  gpg-name and gpg-path.
	- Added -Wnoop No Op option to swpackage.
	- Added --info-only to lxpsf.

swbis-0.92
	- Fixed hard links in swpackage when from
	  explicit file definitions.
	- Fixed hard links in lxpsf program.
	- Significant changes of lxpsf.
	- Added hard link support when using extendeded
	  definition resursive file spec "file *" in a PSF
	  (currently tar semantics only).
	- Added -x option to lxpsf.

swbis-0.91
	- Removed unused structure elements in c++ stuff.
	- Verbage fixes.
	- Warning fixes in taru/ahs.c
	- Now if tar link_source name is too long return error.

swbis-0.90
	- Changed interface of the swign.sh script.
	  Fix swign() man page.
	- When signing, swpackage now fails if gpg fails.

swbis-0.89
	- Fix swign() man page.
	- Added swverify man page.
	- Added routine to write truncated package to
	  sign since the storage part is discarded.
	  (and reverted, this caused breakage!??.)

swbis-0.88
	- Fixed search loop (an optimization).
	- Fixed core dump (seen with mem pressure and
	  large archives).
	- Small fix to swign.sh

swbis-0.87
	- Documentation updates.

swbis-0.86
	- Fixed bug.  Digest attribute were hard linked
	  together unless a checksig script came first in 
	  catalog/dfiles.

swbis-0.85
	- renamed helper scripts.
	- Now the swign.sh script is installed as a binary.
	- checksig fixes.

swbis-0.84
	- Fixed test scripts and swign.sh against sed reordering
	  lines.

swbis-0.83
	- Now use gzip instead of dynamic share lib, a bug
	  (somewhere) caused breakage on large files (offending 
	  code not found.)

swbis-0.82
	- pipe cleanup in swpackage.cxx.
	- Fixed generation of catalog/dfiles/files being 
	  horribly slow.
	- Changed verbose level definitions.

swbis-0.81
	- Made the checksig.sh file check INFO md5 digests.

swbis-0.80
	- Fixed error when control scripts are sourced 
	  through a symlink.
	- Fixed  swverify --checksig error when checking
	  an uncompressed regular file.

swbis-0.79
	- Created swarf.sh(now swign.sh) script.

swbis-0.78
	- README updates.
	- reverted changes made to uxfio.c/h in 0.65->0.66
	- Added --no-sha1 option.
	- Added swarm.sh package building utility.

swbis-0.77
	- Fixed swverify.sh

swbis-0.76
	- Fixed detection and bailout from arbitrary tarballs
	  when checking signature.

swbis-0.75
	- Fixed some yacc/Bison issues on Debian/Sparc.
	- Fixed stream_config.h to compile on Debian/Sparc. 
	- Added Big-Endian support to the configure scripts.
	- Did very limited sanity check of sha1 code on
	  Debian/Sparc.
	- Fixed checksig script.

swbis-0.74
	- Added md5 and sha1 sanity test.
	- Added controls to arf2arf to query the sha1
	  archive digest.

swbis-0.73
	- Spelling fix.

swbis-0.72
	- Fixed checksig script to check sha1 digests.
	- Added use of -m mode switch to mkfifo in swverify.

swbis-0.71
	- Now swverify checks the archive sha1.
	- Now swpackage computes a sha1 for the archive.

swbis-0.70
	- Added sha1 code from the rh8.0 textutils package.
	- Made function to get md5 and sha1 at the same time 
	  from the from the same file descriptor, and a 
	  test program.

swbis-0.69
	- Fixed archive md5,sig failure code paths.

swbis-0.68
	- verbage changes.
	- Improved error handling in Archive md5 checking
	  function used by swverify.
	- Fixed swverify script leaving temp files.

swbis-0.67
	- Fixed uxfio_lseek for case when reading 
	  uncompressed archive file directly.
	- Fixed swverify script race condition with the fifo.
	- Fixed symlink changes breakage in the regression
	  tests.

swbis-0.66
	- Fixed missing entry in dfiles/files for the 
	  signature file when using the -Wsigned-file
	  option.
	- Added --no-tty switch to gpg command.
	- Added swverify.

swbis-0.65
	- Fixed checksig script.
	  Now it can be used in any package without
	  modification.
	- README improvements.
	- Spelling fixes.

swbis-0.64
	- --help verbage fixes.
	- Fixed some buffer overruns potentials, got rid 
	  of sprintf()'s.
	- New and Improved checksig script.

swbis-0.63
	- Updated Documentation license to be the
	  "GNU Free Documentation License".
	- Fixed major/minor device file attribute support.
	- Fixed error handling is swextendeddef.h

swbis-0.62
	- Fixed lxpsf hard link handling (used in -W unrpm)
	- Now lxpsf runs as `nobody' (used in -W unrpm)
	- Added -r option to lxpsf.
	- Now, A -W unrpm'ed binary RPM is converted using 
	  nil control directories.

swbis-0.61
	- Fixed incorrect warning message from the 
	  getpwent routines.
	- Modified tests scripts to get rid of
	  requirement for swprog -> ../swprogs and
	  swsupplib -> ../swsupplib links in ./tests
	- If the distribution leading package path is "/" 
	  then don't write it.
	- Now the stats from file and control_file
	  definitions are imposed into the archive
	  header overrriding the file system stats.
	- Fixed explicit file definition so file stats
	  are imposed into the archive header.
	- Fixed '/' filename getting squashed to zero
	  length string, now it gets squashed to "."

swbis-0.60
	- Fixed <control_file>.path,tag attributes in 
	  INFO files for control scripts.
	- Fixed the catalog pathname for control scripts.

swbis-0.59
	- Fixed md5sum usage, now only regular files 
		have digests computed.

swbis-0.58
	- Fixed initialization issue in swexstruct_i::
		swexstruct_write_definitionfile().

swbis-0.57
	swpackage:
	- Fixed pwent cache in taru/tar.c 
	- write() optimization in swdef.c
	- Fixed symlinks with non-existing linksource.

swbis-0.56
	swpackage:
	- Made the busy waitpid() loop in swpackage.cxx
	  a little less busy.
	- Fixed the attribute file value in the INDEX file.

swbis-0.55
	swpackage:
	- Fixed missing leading catalog product directory. 

swbis-0.54
	swpackage:
	- help verbage fixes.
	- trivial code consolidation in swpackage.cxx
	- Fixed sw.5 manual page.
	- Fixed ctime in INFO files, i.e. removed it.

swbis-0.53
	swpackage:
	- Fixed fileset with no files. again.

swbis-0.52
	swpackage:
	- Fixed fileset with no files causing core dump.

swbis-0.51
	swpackage:
	- code consolidation in swpackage.cxx

swbis-0.50
	swpackage:
	- Fixed -W source=FILE capability.
	- added -W unrpm option.

swbis-0.49
	swpackage:	
	- Fixed --help output.
	- Fixed use of host object as first object in PSF.
	- Fixed missing md5sums for some usages (PSF styles).
	lxpsf:
	- lxpsf.c: changed fileset control directory name.

swbis-0.48
	swpackage:	
	- Added -Wabsolute-names option to allow absolute paths
	  in archive.
	- Fixed double slash in archive.
	- Fixed filetype initialization of attribute files
	      when md5sum is first attribute file.
	- Fixed absolute paths in archive when nil "" control
	  directory is used.
	
swbis-0.47
	- Added the  product.<all_filesets> attribute.

swbis-0.46
	- Fixed dfiles INFO <control_file>.size attribute.
	- Now the <fileset>.size attribute is added in the INDEX file.

swbis-0.45
	- Now arf2arf may take a file argument to use as input
	  file.

swbis-0.44
	- Made a script to verify md5 digests: bin/checkdigests.sh

swbis-0.43
	- Script and README fixes.

swbis-0.42
	- Fixed portability bug in copyout.c 

swbis-0.41
	- Portability fixes.
	- Verbage fixes.
	- Fixed support for GNU tar tar format by only supporting
	  two (2) null block trailers (i.e. block size: -b1)
	- Added "gnu_tar_format_options" attribute.
	- created partial swpackage man page.
	- Added archive-digests option to swpacakge.

swbis-0.40
	- improvements to make_archive

swbis-0.39
	- fix ./make_archive  and bin/checksig.sh
	- Portability fixes.
	- Added verbose level 2 messages.

swbis-0.38
	- Fixed make_archive and the test keys in var/gnupg 

swbis-0.37
	- Added the catalog/dfiles/files control file, which stores 
	  the files list.
	- Fixed ./make_archive and ./bin/checksig.sh to use 
	  catalog/dfiles/files
	- factored and separated some option combinations entanglements
	  in swpackage.cxx.
	- Fixed -p option.

swbis-0.36	2003-02-15
	- First releasable version.
	

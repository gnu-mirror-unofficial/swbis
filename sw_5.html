<HTML>
<HEAD>
<TITLE>sw(5)</TITLE>
<STYLE>
<!--
i {color:#000080}
-->
</STYLE>
</HEAD>
<BODY BGCOLOR="#f0f0f0">
<H1>sw(5)</H1>
<h3>Contents</h3><ul>
<li><a href="#NAME">NAME</a>
<li><a href="#SYNOPSIS">SYNOPSIS</a>
<li><a href="#SOFTWARE PACKAGING LAYOUT">SOFTWARE PACKAGING LAYOUT</a>
<ul><li><a href="#Minimal Package Layout"><font size=-1>Minimal Package Layout</font></a>
<li><a href="#Distribution Files"><font size=-1>Distribution Files</font></a>
<li><a href="#Product Files"><font size=-1>Product Files</font></a>
<li><a href="#Fileset Files"><font size=-1>Fileset Files</font></a>
<li><a href="#Control Directory Names"><font size=-1>Control Directory Names</font></a>
<li><a href="#File Storage"><font size=-1>File Storage</font></a>
</ul><li><a href="#SOFTWARE DEFINITIONS">SOFTWARE DEFINITIONS</a>
<ul><li><a href="#Host Definition"><font size=-1>Host Definition</font></a>
<li><a href="#Distribution Definition"><font size=-1>Distribution Definition</font></a>
<li><a href="#Installed_software Definition"><font size=-1>Installed_software Definition</font></a>
<li><a href="#Media Definition"><font size=-1>Media Definition</font></a>
<li><a href="#Vendor Definition"><font size=-1>Vendor Definition</font></a>
<li><a href="#Bundle Definition"><font size=-1>Bundle Definition</font></a>
<li><a href="#Product Definition"><font size=-1>Product Definition</font></a>
<li><a href="#Category Definition"><font size=-1>Category Definition</font></a>
<li><a href="#Subroduct Definition"><font size=-1>Subroduct Definition</font></a>
<li><a href="#Fileset Definition"><font size=-1>Fileset Definition</font></a>
<li><a href="#File Definition"><font size=-1>File Definition</font></a>
<li><a href="#Control File Definition"><font size=-1>Control File Definition</font></a>
</ul><li><a href="#SOFTWARE SELECTIONS">SOFTWARE SELECTIONS</a>
<ul><li><a href="#Version Identifiers"><font size=-1>Version Identifiers</font></a>
<li><a href="#Example Software Specs"><font size=-1>Example Software Specs</font></a>
</ul><li><a href="#DEPENDENCY SPECS">DEPENDENCY SPECS</a>
<ul><li><a href="#Dependency Spec Examples"><font size=-1>Dependency Spec Examples</font></a>
</ul><li><a href="#EXTENDED DEFINITIONS">EXTENDED DEFINITIONS</a>
<li><a href="#DISTRIBUTOR KEYWORDS">DISTRIBUTOR KEYWORDS</a>
<li><a href="#PACKAGE SECURITY">PACKAGE SECURITY</a>
<ul><li><a href="#Archive Digests"><font size=-1>Archive Digests</font></a>
<li><a href="#Adjunct Md5 Digest"><font size=-1>Adjunct Md5 Digest</font></a>
<li><a href="#Catalog Signature Header"><font size=-1>Catalog Signature Header</font></a>
<li><a href="#Catalog Signature"><font size=-1>Catalog Signature</font></a>
<li><a href="#File Digests"><font size=-1>File Digests</font></a>
</ul><li><a href="#SOFTWARE DEFINITION FILES">SOFTWARE DEFINITION FILES</a>
<ul><li><a href="#Additional Syntax Rules"><font size=-1>Additional Syntax Rules</font></a>
<li><a href="#Software Definition File Grammar"><font size=-1>Software Definition File Grammar</font></a>
</ul><li><a href="#EXAMPLE PACKAGE">EXAMPLE PACKAGE</a>
<ul><li><a href="#Hypothetical PSF file"><font size=-1>Hypothetical PSF file</font></a>
</ul><li><a href="#SWBIS PSF CONVENTIONS">SWBIS PSF CONVENTIONS</a>
<li><a href="#APPLICABLE STANDARDS">APPLICABLE STANDARDS</a>
<li><a href="#SEE ALSO">SEE ALSO</a>
<li><a href="#IDENTIFICATION">IDENTIFICATION</a>
<li><a href="#BUGS">BUGS</a>
</ul><pre>
</pre><h3><a name="NAME"><b>NAME</b></a></h3><pre>       sw -- POSIX Software Packaging
</pre><h3><a name="SYNOPSIS"><b>SYNOPSIS</b></a></h3><pre>       Software Packaging Layout
       Software Definitions
       Software Selections
       Extended Definitions
       Distributor Keywords
       Package Security
       Software Definition Files: INFO, INDEX, PSF
       Example Package
</pre><h3><a name="SOFTWARE PACKAGING LAYOUT"><b>SOFTWARE PACKAGING LAYOUT</b></a></h3><pre>       A package may exist in two forms: as a directory in a file system, or a
       serial access tar or cpio archive file.  A package consists of two main
       sections: 1) the <i>exported catalog structure</i>, and, 2) the <i>software file</i>
       <i>storage structure</i>.  Each section may contain path name components which
       serve to segregate distribution, product and fileset objects.

       Shown below is an example with <a href=one _1.html>one (1)</a> product and <a href=one _1.html>one (1)</a> fileset.

        &lt;<i>path</i>&gt;/
        &lt;<i>path</i>&gt;/<b>catalog</b>/
        &lt;<i>path</i>&gt;/<b>catalog</b>/<b>INDEX</b>
        &lt;<i>path</i>&gt;/<b>catalog</b>/&lt;<i>dfiles</i>&gt;
        &lt;<i>path</i>&gt;/<b>catalog</b>/&lt;<i>dfiles</i>&gt;/...
        &lt;<i>path</i>&gt;/<b>catalog</b>/&lt;<i>prod</i><b>_</b><i>dir</i>&gt;/
        &lt;<i>path</i>&gt;/<b>catalog</b>/&lt;<i>prod</i><b>_</b><i>dir</i>&gt;/&lt;<i>pfiles</i>&gt;/<b>INFO</b>
        &lt;<i>path</i>&gt;/<b>catalog</b>/&lt;<i>prod</i><b>_</b><i>dir</i>&gt;/&lt;<i>pfiles</i>&gt;/...
        &lt;<i>path</i>&gt;/<b>catalog</b>/&lt;<i>prod</i><b>_</b><i>dir</i>&gt;/&lt;<i>fileset</i><b>_</b><i>dir</i>&gt;/
        &lt;<i>path</i>&gt;/<b>catalog</b>/&lt;<i>prod</i><b>_</b><i>dir</i>&gt;/&lt;<i>fileset</i><b>_</b><i>dir</i>&gt;/<b>INFO</b>
        &lt;<i>path</i>&gt;/<b>catalog</b>/&lt;<i>prod</i><b>_</b><i>dir</i>&gt;/&lt;<i>fileset</i><b>_</b><i>dir</i>&gt;/...
        &lt;<i>path</i>&gt;/<b>catalog</b>/&lt;<i>prod</i><b>_</b><i>dir</i>&gt;/&lt;<i>fileset</i><b>_</b><i>dir</i>&gt;/&lt;<i>script</i>&gt;
        &lt;<i>path</i>&gt;/&lt;<i>prod</i><b>_</b><i>dir</i>&gt;/
        &lt;<i>path</i>&gt;/&lt;<i>prod</i><b>_</b><i>dir</i>&gt;/&lt;<i>fileset</i><b>_</b><i>dir</i>&gt;/
        &lt;<i>path</i>&gt;/&lt;<i>prod</i><b>_</b><i>dir</i>&gt;/&lt;<i>fileset</i><b>_</b><i>dir</i>&gt;/&lt;<i>distribution</i><b>_</b><i>files</i>&gt;
        &lt;<i>path</i>&gt;/&lt;<i>prod</i><b>_</b><i>dir</i>&gt;/&lt;<i>fileset</i><b>_</b><i>dir</i>&gt;/&lt;<i>distribution</i><b>_</b><i>files</i>&gt;/...


       The exported catalog structure consists of the files with pathnames
       that begin &lt;<i>path</i>&gt;/<b>catalog</b>.  Note that <b>catalog</b> is not a legal <i>prod</i><b>_</b><i>dir</i>
       name. Also, &quot;<b>dfiles</b>&quot;, and &quot;<b>pfiles</b>&quot; should not be used as control
       directory names, they are the default names for the Distribution and
       Product files directories.  The dfiles and pfiles defaults are commonly
       accepted.

       The order of files in a serial access archive is specified and shown
       above.  The order of products and filesets within a product is not
       specified, although they must be grouped together.  Notably, the <b>INDEX</b>
       file is the first regular file in the package, followed by the &lt;<i>dfiles</i>&gt;
       directory.  For each product, the &lt;<i>prod</i><b>_</b><i>dir</i>&gt; is followed immediately by
       the &lt;<i>prod</i><b>_</b><i>dir</i>&gt;/&lt;<i>pfiles</i>&gt; directory.

   <a name="Minimal Package Layout"><b>Minimal Package Layout</b></a>
       To support extant usage of tar archives, this implementation supports a
       minimal package layout.  The layout is non-intrusive to the current
       practice of extracting a 'binary' package in the '/' directory where
       &lt;<i>path</i>&gt;/ is nil and, likewise to 'source' packages where &lt;<i>path</i>&gt; is
       typically the package name and version.  The use of nil control
       directories is not attested to in the POSIX standard.

        &lt;<i>path</i>&gt;/
        &lt;<i>path</i>&gt;/<b>catalog</b>/
        &lt;<i>path</i>&gt;/<b>catalog</b>/<b>INDEX</b>
        &lt;<i>path</i>&gt;/<b>catalog</b>/<b>dfiles</b>/
        &lt;<i>path</i>&gt;/<b>catalog</b>/<b>dfiles</b>/<b>INFO</b>
        &lt;<i>path</i>&gt;/<b>catalog</b>/<b>dfiles</b>/...
        &lt;<i>path</i>&gt;/<b>catalog</b>/<b>pfiles</b>/<b>INFO</b>
        &lt;<i>path</i>&gt;/<b>catalog</b>/<b>pfiles</b>/...
        &lt;<i>path</i>&gt;/<b>catalog</b>/<b>INFO</b>
        &lt;<i>path</i>&gt;/&lt;<i>distribution</i><b>_</b><i>files</i>&gt;/...


       In this layout a single product and fileset have <i>control</i><b>_</b><i>directory</i>
       attributes specified as an empty string.

   <a name="Distribution Files"><b>Distribution Files</b></a>
       catalog/&lt;<i>dfiles</i>&gt;/...

       &lt;<i>dfiles</i>&gt; is the value of the <i>dfiles</i> attribute and the default value is
       &quot;dfiles&quot;.  This directory can store an INDEX file or INFO file
       pertaining to the distribution.  It can also store an attribute of the
       distribution as a separate file where file name is the name of the
       attribute and the file contents the value.

   <a name="Product Files"><b>Product Files</b></a>
       catalog/&lt;<i>prod</i><b>_</b><i>dir</i>&gt;/&lt;<i>pfiles</i>&gt;/...

       &lt;<i>pfiles</i>&gt; is the value of the <i>pfiles</i> attribute and the default value is
       &quot;pfiles&quot;.  This directory can store an INFO file pertaining to the
       product control_files,  control scripts defined in the INFO file, and
       all other distributor-defined control_files.  It can also store an
       attribute of the product as a separate file.

   <a name="Fileset Files"><b>Fileset Files</b></a>
       catalog/&lt;<i>prod</i><b>_</b><i>dir</i>&gt;/&lt;<i>fileset</i><b>_</b><i>dir</i>&gt;/...

       This directory contains information in the same form as does the
       <b>Product Files</b> although pertaining to the fileset.

   <a name="Control Directory Names"><b>Control Directory Names</b></a>
       The &lt;<i>prod</i><b>_</b><i>dir</i>&gt;/&lt;<i>fileset</i><b>_</b><i>dir</i>&gt; names are the values of the
       <i>control</i><b>_</b><i>directory</i> attribute for the product and fileset respectively.
       The default value is the value of the <i>tag</i> attribute.  &lt;<i>prod</i><b>_</b><i>dir</i>&gt; must
       be unique within a distribution and &lt;<i>fileset</i><b>_</b><i>dir</i>&gt; must be unique within
       a product.

   <a name="File Storage"><b>File Storage</b></a>
       &lt;<i>prod</i><b>_</b><i>dir</i>&gt;/&lt;<i>fileset</i><b>_</b><i>dir</i>&gt;/&lt;<i>distribution</i><b>_</b><i>files</i>&gt;/...

       The listing of control directories in the exported catalog structure is
       repeated and files of the distribution appear under these directories
       in a location determined by the metadata.

       The standard does not require that files that are not regular files
       appear in the storage section.
</pre><h3><a name="SOFTWARE DEFINITIONS"><b>SOFTWARE DEFINITIONS</b></a></h3><pre>       The Software Definitions are metadata representations of the objects
       and attributes recognized by the standard.  The right hand column in
       each definition shows the default attribute value.  The defining
       standard for each attribute is indicated as a comment (leading '#'
       sign) if it is not IEEE-1387.2,  other defining standards are XDSA C701
       (<b>C701</b>), and, this implementation (<b>impl.</b>).

   <a name="Host Definition"><b>Host Definition</b></a>
        host
          hostname     <i>hostname</i>       None
          os_name      <i>os</i><b>_</b><i>name</i>        None
          os_release   <i>os</i><b>_</b><i>release</i>     None
          os_version   <i>os</i><b>_</b><i>version</i>     None
          machine_type <i>machine</i><b>_</b><i>type</i>   None


       The host definition was attested to only in the informative annex of
       the standard.  An implementation may chose to define this class.

       A host object can contain a <i>distribution</i>, or <i>installed</i><b>_</b><i>software</i> object.


   <a name="Distribution Definition"><b>Distribution Definition</b></a>
        distribution
          layout_version <i>layout</i><b>_</b><i>version</i>  <b>1.0</b>
          path           <i>path</i>            Implementation Defined
          dfiles         <i>dfiles</i>          <b>dfiles</b>
          pfiles         <i>pfiles</i>          <b>pfiles</b>
          uuid           <i>uuid</i>            Empty string


       The <i>path</i> attribute is not in a PSF nor INDEX files.  A PSF does not
       contain a <i>uuid</i> attribute.  An INDEX file will contain a <i>layout</i><b>_</b><i>version</i>
       attribute as the first attribute.

       A distribution object can contain <i>bundles</i>, <i>products</i>, and, <i>media</i> in the
       form of software definitions.

       The following attributes are recognized as valuable by the Informative
       Annex of POSIX.7.2.

          tag                <i>tag</i>                Empty string
          title              <i>title</i>              Empty string
          description        <i>description</i>        Empty string
          revision           <i>revision</i>           Empty string
          media_type         <i>media</i><b>_</b><i>type</i>         Empty string
          copyright          <i>copyright</i>          Empty string
          create_time        <i>create</i><b>_</b><i>time</i>        Empty string
          number             <i>number</i>             Empty string
          architecture       <i>architecture</i>       Empty string


       The following attributes are recognized by this implementation.

          signature          <b>&lt;</b> <i>pathname</i>  None   # impl.
          sig_header   <b>&lt;</b> <i>pathname</i>  None   # impl.
          sha1sum            <b>&lt;</b> <i>pathname</i>  None   # impl.
          sha512sum           <b>&lt;</b> <i>pathname</i>  None   # impl.
          md5sum             <b>&lt;</b> <i>pathname</i>  None   # impl.
          adjunct_md5sum     <b>&lt;</b> <i>pathname</i>  None   # impl.
          files              <b>&lt;</b> <i>pathname</i>    None  # impl.
          control_directory  <i>control</i><b>_</b><i>directory</i>      Empty string   # impl.
          owner              <i>name</i>                           root   # impl.
          group              <i>name</i>                           root   # impl.
          mode               <i>mode</i>                           <b>0755</b>    # impl.
          signer_pgm         <i>utility</i><b>_</b><i>name</i>                   GPG    # impl.
          signer_pgm_version <i>version</i>                        <b>1</b>    # impl.
          tar_format_emulation_options <i>program</i><b>_</b><i>options</i>          # impl.
          tar_format_emulation_utility <i>software spec</i>            # impl.


       The <i>url</i> attribute is the universal record locator of the <i>packager</i>
       qualified vendor.  The <i>control</i><b>_</b><i>directory</i> attribute in the distribution
       object appears as the &lt;<i>path</i>&gt; leading directory path in the a serial
       archive package.  The <i>owner</i>, <i>group</i>, and <i>mode</i> attributes control the
       file attributes of the single path name prefix.  The <i>signature</i>,
       <i>sig</i><b>_</b><i>header</i>, <i>md5sum</i>, and <i>adjunct</i><b>_</b><i>md5sum</i> attributes are described below
       and are stored as separate files in the dfiles directory. The
       <i>tar</i><b>_</b><i>format</i><b>_</b><i>emulation</i><b>_</b><i>*</i> options define the GNU tar version and format
       options that the archive file mimics, these attributes are used by the
       'checkdigest' script.

   <a name="Installed_software Definition"><b>Installed_software Definition</b></a>
        installed_software
          layout_version <i>layout</i><b>_</b><i>version</i>  <b>1.0</b>
          path           <i>path</i>            Implementation Defined
          dfiles         <i>dfiles</i>          <b>dfiles</b>
          pfiles         <i>pfiles</i>          <b>dfiles</b>
          catalog        <i>catalog</i>         Undefined
          install_time   <i>install</i><b>_</b><i>time</i>    Undefined       # impl.


       A software object can be listed (written to stdout) in the form of an
       INDEX file by the swlist utility.


   <a name="Media Definition"><b>Media Definition</b></a>
        media
          sequence_number <i>sequence</i><b>_</b><i>number</i>  <b>1</b>


       An INDEX file must contain the <i>sequence</i><b>_</b><i>number</i> attribute if the
       distribution spans multiple media.


   <a name="Vendor Definition"><b>Vendor Definition</b></a>
        vendor
          the_term_vendor_is_misleading  true                  True or False  #impl
          tag         <i>tag</i>           Empty string
          title       <i>title</i>         Empty string
          description <i>description</i>   Empty string
          qualifier   <i>qualifier</i>     Empty string  # impl.
          url         <i>url</i>           Empty string  # impl.
          vendor_tag  <i>tag</i>           Empty string  # impl.


       The <i>tag</i> attribute is required.  The <i>the</i><b>_</b><i>term</i><b>_</b><i>vendor</i><b>_</b><i>is</i><b>_</b><i>misleading</i> is
       required in a PSF file to avert a (harmless) warning, please use it.
       It exists to allow persons, for example, who are distributors (of
       existing free software) to qualify themselves away from the
       connotations of a &quot;vendor&quot; which has specific meaning not applicable to
       a free software distributor.  A INDEX and PSF files can contain <b>vendor</b>
       definitions.  The <i>vendor</i><b>_</b><i>tag</i> attribute contains the vendor.<i>tag</i> of the
       upstream distributor.  The <b>qualifier</b> attribute value may be one of:
       <b>seller</b>, <b>author</b>, <b>packager</b>, <b>maintainer</b>.  A distribution may have more
       than one vendor definition.  They may form a chain of references from
       the product.<i>vendor</i><b>_</b><i>tag</i> to the last vendor referred to by the
       vendor.<i>vendor</i><b>_</b><i>tag</i> attributes.


   <a name="Bundle Definition"><b>Bundle Definition</b></a>
        bundle
          tag          <i>tag</i>    architecture <i>architecture</i>    Empty string
          location     <i>location</i>        &lt;<i>bundle.directory</i>&gt;
          qualifier    <i>qualifier</i>       Empty string
          revision     <i>revision</i>        Empty string
          vendor_tag   <i>vendor</i><b>_</b><i>tag</i>      Empty string
          create_time  <i>create</i><b>_</b><i>time</i>     None
          description  <i>description</i>     Empty string
          contents     <i>contents</i>        Empty string
          copyright    <i>copyright</i>       Empty string
          directory    <i>directory</i>       Empty string
          instance_id  <i>instance</i><b>_</b><i>id</i>     <b>1</b>
          is_locatable <i>is</i><b>_</b><i>locatable</i>    <b>true</b>
          layout_version <i>layoyt</i><b>_</b><i>version</i>  <b>1.0</b>
          machine_type <i>machine</i><b>_</b><i>type</i>    Empty string
          mod_time     <i>mod</i><b>_</b><i>time</i>        Empty string
          number       <i>number</i>          Empty string
          os_name      <i>os</i><b>_</b><i>name</i>         Empty string
          os_release   <i>os</i><b>_</b><i>release</i>      Empty string
          os_version   <i>os</i><b>_</b><i>version</i>      Empty string
          size         <i>size</i>            Empty string
          title        <i>title</i>           Empty string
          category_tag <i>category</i><b>_</b><i>tag</i>    Empty list or patch  # C701
          is_patch     <i>is</i><b>_</b><i>patch</i>        false                # C701


       The <i>tag</i> and <i>contents</i> attributes are required in INDEX and PSF files.
       The <i>size</i> attribute is not allowed in either file. The value of <i>size</i> is
       generated dynamically.  An INDEX file will contain a <i>instance</i><b>_</b><i>id</i>
       attribute.  Bundle definitions for distributions will not contain
       either the <i>location</i> or <i>qualifier</i>, <i>installed</i><b>_</b><i>software</i> objects may
       contain these attributes.


   <a name="Product Definition"><b>Product Definition</b></a>
        product
          tag               <i>tag</i>               None
          architecture      <i>architecture</i>      Empty string
          location          <i>location</i>          &lt;<i>product.directory</i>&gt;
          qualifier         <i>qualifier</i>         Empty string
          revision          <i>revision</i>          Empty string
          vendor_tag        <i>vendor</i><b>_</b><i>tag</i>        Empty string
          all_filesets      <i>all</i><b>_</b><i>filesets</i>      Empty list
          control_directory <i>control</i><b>_</b><i>directory</i> &lt;<i>product.tag</i>&gt;
          copyright         <i>copyright</i>         Empty string
          create_time       <i>create</i><b>_</b><i>time</i>       None
          directory         <i>directory</i>         <b>/</b>
          description       <i>description</i>       Empty string
          instance_id       <i>instance</i><b>_</b><i>id</i>       <b>1</b>
          is_locatable      <i>is</i><b>_</b><i>locatable</i>      <b>true</b>
          postkernel        <i>postkernel</i>        Implemen. defined
          layout_version    <i>layout</i><b>_</b><i>version</i>    <b>1.0</b>
          machine_type      <i>machine</i><b>_</b><i>type</i>      Empty string
          number            <i>number</i>            Empty string
          os_name           <i>os</i><b>_</b><i>name</i>           Empty string
          os_release        <i>os</i><b>_</b><i>release</i>        Empty string
          os_version        <i>os</i><b>_</b><i>version</i>        Empty string
          mod_time          <i>mod</i><b>_</b><i>time</i>          None
          size              <i>size</i>              None
          title             <i>title</i>             title
          category_tag      <i>category</i><b>_</b><i>tag</i>      Empty list # C701
          is_patch          <i>is</i><b>_</b><i>patch</i>          false      # C701
          copyrighters      <i>copyrighters</i>      None       # impl.
          build_root        <i>build</i><b>_</b><i>root</i>        None       # impl.
          build_host        <i>build</i><b>_</b><i>host</i>        None       # impl.
          source_package    <i>source</i><b>_</b><i>package</i>    None       # impl.
          source_rpm        <i>source</i><b>_</b><i>rpm</i>        None       # impl.
          all_patches       <i>all</i><b>_</b><i>patches</i>       None       # impl.
          url               <i>url</i>               None       # impl.
          rpm_provides      <i>rpm</i><b>_</b><i>provides</i>      None       # impl.
          change_log        <i>change</i><b>_</b><i>log</i>        None       # impl.


       The <i>tag</i> and <i>control</i><b>_</b><i>directory</i> attributes are required.  The <i>size</i>
       attribute is not allowed in either file. The value of <i>size</i> is generated
       dynamically.  An INDEX file will contain a <i>instance</i><b>_</b><i>id</i> attribute.  A
       product object can contain <i>control</i><b>_</b><i>files</i>, <i>files</i>, and, <i>subproducts</i> in
       the form of software definitions.

       The product.<i>vendor</i><b>_</b><i>tag</i> refers to the downstream distributor.  This
       value is be the analogous to the RPMTAG_RELEASE or debian_release
       attributes.  The original upstream author's package, for example, would
       not use this attribute because that package would not have a release
       part in its name, but could (or should) provide a vendor object in the
       PSF.

       The <i>architecture</i> attribute contains an implementation defined name
       describing the architecture.  This attribute may be a pattern.  The
       swbis implementation uses the output of GNU <b>config.guess</b>
       (timestamp=2007-01-15) as the string to be matched by this pattern.


   <a name="Category Definition"><b>Category Definition</b></a>
        category
          tag           <i>tag</i>            None             # C701
          title         <i>title</i>          Empty string     # C701
          description   <i>description</i>    Empty string     # C701
          revision      <i>revision</i>       Empty string     # C701


       The Category definition describes attributes of products and bundles
       related to its category. If <i>is</i><b>_</b><i>patch</i> is &quot;true&quot; then category.tag must
       equal &quot;patch&quot;.


   <a name="Subroduct Definition"><b>Subroduct Definition</b></a>
        subproduct
          tag           <i>tag</i>            None
          create_time   <i>create</i><b>_</b><i>time</i>    None
          description   <i>description</i>    Empty string
          mod_time      <i>mod</i><b>_</b><i>time</i>       None
          size          <i>size</i>           None
          title         <i>title</i>          Empty string
          contents      <i>contents</i>       Empty list
          category_tag  <i>category</i><b>_</b><i>tag</i>   Empty list   # C701
          is_patch      <i>is</i><b>_</b><i>patch</i>       false        # C701


       The <i>tag</i> and <i>contents</i> attributes are required.


   <a name="Fileset Definition"><b>Fileset Definition</b></a>
        fileset
          tag               <i>tag</i>               None
          create_time       <i>create</i><b>_</b><i>time</i>       None
          mod_time          <i>mod</i><b>_</b><i>time</i>          None
          control_directory <i>control</i><b>_</b><i>directory</i> &lt;<i>fileset.tag</i>&gt;
          corequisites      <i>corequisites</i>      Empty list
          description       <i>description</i>       Empty string
          exrequisites      <i>exrequisites</i>      Empty list
          is_kernel         <i>is</i><b>_</b><i>kernel</i>         <b>false</b>
          is_locatable      <i>is</i><b>_</b><i>locatable</i>      <b>true</b>
          is_reboot         <i>is</i><b>_</b><i>reboot</i>         <b>false</b>
          location          <i>location</i>          &lt;<i>product.directory</i>&gt;
          media_sequence_number <i>media</i><b>_</b><i>sequence</i><b>_</b><i>number</i> <b>1</b>
          prerequisites     <i>prerequisites</i>     Empty list
          revision          <i>revision</i>          None
          size              <i>size</i>              None
          state             <i>state</i>             None
          title             <i>title</i>             Empty string
          is_sparse         <i>is</i><b>_</b><i>sparse</i>        &quot;false&quot;        # C701
          is_patch          <i>is</i><b>_</b><i>patch</i>         &quot;false&quot;        # C701
          category_tag      <i>category</i><b>_</b><i>tag</i>      empty list    # C701
          ancestor          <i>ancestor</i>          &lt;<i>product.tag</i>&gt;,ver_id # C701
          applied_patches   <i>applied</i><b>_</b><i>patches</i>   empty list    # C701
          patch_state       <i>patch</i><b>_</b><i>state</i>       applied or,   # C701
                                                  committed or,
                                                    superseded, (no default).
          saved_files_directory  <i>saved</i><b>_</b><i>files</i><b>_</b><i>directory</i> None # C701
          supersedes       <i>supersedes</i>          None         # C701
          superseded_by    <i>superseded</i><b>_</b><i>by</i>       None         # C701


       The <i>tag</i> and <i>control</i><b>_</b><i>directory</i> attributes are required.  A PSF should
       not contain the <i>location</i>, <i>media</i><b>_</b><i>sequence</i><b>_</b><i>number</i>, <i>size</i>, or <i>state</i>
       attributes.  A fileset object can contain <i>control</i><b>_</b><i>files</i>, <i>files</i>, in the
       form of software definitions.


   <a name="File Definition"><b>File Definition</b></a>
        file
          path               <i>path</i>               None
          cksum             <i>cksum</i>             None
          compressed_cksum  <i>compressed</i><b>_</b><i>cksum</i>  None
          compressed_size    <i>compressed</i><b>_</b><i>size</i>    None
          compression_state  <i>compression</i><b>_</b><i>state</i>  <b>uncompressed</b>
          compression_type   <i>compression</i><b>_</b><i>type</i>   Empty string
          revision           <i>revision</i>           Empty string
          size               <i>size</i>               None
          source             <i>source</i>             None
          gid                <i>gid</i>                Undefined
          group              <i>group</i>              Empty string
          is_volatile        <i>is</i><b>_</b><i>volatile</i>        <b>false</b>
          link_source        <i>link</i><b>_</b><i>source</i>        None
          major              <i>major</i>              None
          minor              <i>minor</i>              None
          mode               <i>mode</i>               None
          mtime              <i>mtime</i>              None
          owner              <i>owner</i>              Empty string
          type               <i>type</i>               <b>f</b>
          uid                <i>uid</i>                undefined
          archive_path    <i>archive</i><b>_</b><i>path</i>    empty string    # C701
          md5sum          <i>md5sum</i>      empty string    # impl.
          sha1sum         <i>sha1sum</i>      empty string    # impl.
          sha512sum       <i>sha512sum</i>      empty string    # impl.
          rdev            <i>rdev</i>            empty string    # impl.
          rpm_fileflags   <i>rpm</i><b>_</b><i>fileflags</i>   empty string    # impl.


       A PSF must contain <i>source</i> attribute.  A <i>source</i>  attribute in an INFO
       will be ignored.  A PSF should not contain the <i>cksum</i>, <i>compressed</i><b>_</b><i>cksum</i>,
       <i>compressed</i><b>_</b><i>size</i>, <i>compression</i><b>_</b><i>state</i>, <i>compression</i><b>_</b><i>type</i>, or <i>size</i>
       attributes.


   <a name="Control File Definition"><b>Control File Definition</b></a>
        control_file
          tag                <i>tag</i>                None
          cksum             <i>cksum</i>             None
          compressed_cksum  <i>compressed</i><b>_</b><i>cksum</i>  None
          compressed_size    <i>compressed</i><b>_</b><i>size</i>    None
          compression_state  <i>compression</i><b>_</b><i>state</i>  <b>uncompressed</b>
          compression_type   <i>compression</i><b>_</b><i>type</i>   Empty string
          revision           <i>revision</i>           Empty string
          size               <i>size</i>               None
          source             <i>source</i>             None
          path               <i>path</i>               None
          interpreter        <i>interpreter</i>        <b>sh</b>
          result             <i>result</i>             <b>none</b>


       A control_file defines a control script such as those listed below (see
       Extended Control File Definitions) or an attribute stored as a file.

</pre><h3><a name="SOFTWARE SELECTIONS"><b>SOFTWARE SELECTIONS</b></a></h3><pre>       The Software Selections provide a means to specify and select (possibly
       with a shell matching pattern) specific Software objects.  A selection
       is made using a <b>software spec</b>.  A software spec may not contain white
       space (a list of multiple selections is white space delimited).  A
       software spec consists of <i>tag</i> values and  <i>version</i><b>_</b><i>id</i>s.  Multiple tags
       are '.' (dot) delimited with the leftmost specifying the broadest (most
       general) software object such as a bundle or product and the rightmost
       being most specific (The swbis implementation does not support fileset
       tags in a software spec). The tags may be followed by nothing, or a
       comma and one or more Version Identifiers which are ',' comma
       delimited.

       <b>Dependency Specs</b> are software specs.

   <a name="Version Identifiers"><b>Version Identifiers</b></a>
       <b>Version Identifiers</b> specify specific attributes of a software object.
       There are <a href=five _5.html>five (5)</a> specified. They are signified by a single letter:
       <b>r,a,v,l,q</b>.  An implementation may support additional ones and may
       support qualification to a specific object type by prefixing a 'p' or
       'b' or 'f' for bundle, product, or fileset respectively.  The value of
       the attribute follows an equals sign '=', or in the case of a revision
       id, a relational operator.

        Letter     Attribute
          r    <b>revision</b>   r&lt;<i>relop</i>&gt;<i>revsion</i>
                                    # A relop may be ==,&lt;,&gt;,&lt;=,&gt;=
          v    <b>vendor_tag</b>    v=<i>vendor</i><b>_</b><i>tag</i>
          q    <b>qualifier</b>     q=<i>qualifier</i>
          l    <b>location</b>      l=<i>location</i>
          a    <b>architecture</b>  a=<i>arch</i>


       Implementation Extension Version Ids are the following:

        Letter     Attribute
          i    <i>catalog</i><b>_</b><i>instance</i><b>_</b><i>id</i>   i=<i>number</i>

        The catalog <i>instance</i><b>_</b><i>id</i> is a directory in the installed software
       catalog that distinguishes installed instances of packages with the
       same name and revision but at different locations.

   <a name="Example Software Specs"><b>Example Software Specs</b></a>
           emacs,r==21.2
           kde.kdegames # This assumes that 'kde' was specified as the bundle
                        # in the kdegames package
           foobar,r&gt;1.0,v=tycoon003
           somepackage,r&gt;1.0,r&lt;=1.3  # revision is the product revision by default
           somepackage,pr&gt;1.0,pr&lt;=1.3  # explicitly specify revision is the product revision


</pre><h3><a name="DEPENDENCY SPECS"><b>DEPENDENCY SPECS</b></a></h3><pre>       A dependency spec is a <b>software spec</b>.  There are three types:
       <i>prerequisites</i>, <i>exrequisites</i>, <i>corequisites</i>.  These attributes apply to
       the fileset and are placed in the fileset object in a PSF file.  A
       <i>prerequisites</i> is something that must be installed, and a <i>exrequisites</i>
       is something that must not be installed.  A <i>corequisites</i> is something
       that must be installed with, <i>corequisites</i> are not supported at this
       time.  <i>prerequisites</i> map to RPMTAG_REQUIRENAME, RPMTAG_REQUIREVERSION,
       and RPMTAG_REQUIREFLAGS attributes.

   <a name="Dependency Spec Examples"><b>Dependency Spec Examples</b></a>
          # Alternation  Require a package named foo1 or foo2
          prerequisite   foo1|foo2

          # Require a package named foo1 and foo2
          prerequisite   foo1 foo2

          # multiple prerequisite keywords can be used
          prerequisite  foo1
          prerequisite  foo2

          # Require a revision range and a certain vendor_tag
          prerequisite  foo1,r&gt;2,r&lt;3,v=mydist*

</pre><h3><a name="EXTENDED DEFINITIONS"><b>EXTENDED DEFINITIONS</b></a></h3><pre>       A Product Specification File (PSF) can contain Extended Definitions in
       the <b>fileset</b>, <b>product</b> or <b>bundle</b> software definitions.  They would have
       the same level or containment relationship as a <b>file</b> or <b>control_file</b>
       definition in the same contaning object.

       Extended Definitions represent a minimal, expressive form for
       specifying files and file attributes.  Their use in a PSF is optional
       in that an equivalent PSF can be constructed without using them,
       however, their use is encouraged for the sake of brevity and
       orthogonality.

       The swbis implementation requires that no [ordinary] attributes appear
       after Extended Definitions in the containing object, and, requires that
       Extended Definitions appear before logically contained objects.  That
       is, the parser uses the next object keyword to syntacticly and
       logically terminate the current object even if the current object has
       logically contained objects.

   <b>o</b>  <b>Extended Control File Definitions</b>
            checkinstall  <i>source</i>  [<i>path</i>]
            preinstall    <i>source</i>  [<i>path</i>]
            postinstall   <i>source</i>  [<i>path</i>]
            verify        <i>source</i>  [<i>path</i>]
            fix           <i>source</i>  [<i>path</i>]
            checkremove   <i>source</i>  [<i>path</i>]
            preremove     <i>source</i>  [<i>path</i>]
            postremove    <i>source</i>  [<i>path</i>]
            configure     <i>source</i>  [<i>path</i>]
            unconfigure   <i>source</i>  [<i>path</i>]
            request       <i>source</i>  [<i>path</i>]
            unpreinstall  <i>source</i>  [<i>path</i>]
            unpostinstall <i>source</i>  [<i>path</i>]
            space         <i>source</i>  [<i>path</i>]
            control_file  <i>source</i>  [<i>path</i>]


       The <i>source</i> attribute defines the location in distributors's development
       system where the swpackage utility will find the script.  The keyword
       is the value of the <i>tag</i> attribute and tells the utilities when to
       execute the script.  The <i>path</i> attribute is optional and specifies the
       file name in the packages distribution relative to the
       control_directory for software containing the script. If not given the
       <i>tag</i> value is used as the filename.

   <b>o</b>  <b>Directory Mapping</b>
          directory  <i>source</i>  [<i>destination</i>]


       Applies the <i>source</i> attribute as the directory under which the
       subsequently listed files are located.  If <i>destination</i> is defined it
       will be used as a prefix to the <i>path</i> (implied) file definition.  <i>source</i>
       is typically a temporary or build location and <i>dest</i> is its unrealized
       absolute pathname destination.

   <b>o</b>  <b>Recursive File Definition</b>
         file *


       Specifies every file in current source directory.  The <i>directory</i>
       extended definition must be used before the recursive specification.

   <b>o</b>  <b>Explicit File Definition</b>
         file [-t <i>type</i>] [-m <i>mode</i>] [-o <i>owner</i>[,<i>uid</i>]] [-g <i>group</i>[,<i>gid</i>]] [-n] [-v] source [<i>path</i>]


       <b>source</b>


              <i>source</i> defines the pathname of the file to be used as the source
              of file data and/or attributes.  If it is a relative path, then
              swpackage searches for this file relative to the the source
              argument of the <b>directory</b> keyword, if set.  If <b>directory</b> keyword
              is not set then the search is relative to the current working
              directory of the swpackage utility's invocation.

              All attributes for the destination file are taken from the
              source file, unless a <b>file_permissions</b> keyword is active, or the
              -m, -o, or -g options are also included in the file
              specification.

       <b>path</b>

              <i>path</i> defines the destination path where the file will be created
              or installed.  If it is a relative path, then the destination
              path of the of the <b>directory</b> keyword must be active and will be
              used as the path prefix.  If path is not specified then <i>source</i>
              is used as the value of path and directory mapping applied (if
              active).

       <b>-t type</b>

              <i>type</i> may one of 'd' (directory), or  'h' (hard link), or 's'
              (symbolic link).

              -t d  Create a directory.
              If <i>path</i> is not specified <i>source</i> is used as the path attribute.

              -t h  Create a hard link.
              <i>path</i> and <i>source</i> are specified.  <i>source</i> is used as the value of
              the <i>link</i><b>_</b><i>source</i> attribute, and <i>path</i> is the value of the path
              attribute.

              -t s  Create a symbolic link.
              <i>path</i> and <i>source</i> are specified.  <i>source</i> is used as the value of
              the <i>link</i><b>_</b><i>source</i> attribute, and <i>path</i> is the value of the path
              attribute.

       <b>-m mode</b>

              <i>mode</i> defines the octal mode for the file.

   <b>o</b>  <b>Default Permission Definition</b>
         file_permissions [-m <i>mode</i>] [-u <i>umask</i>] [-o [<i>owner</i>[,]][<i>uid</i>]] [-g [<i>group</i>[,]][<i>gid</i>]]


       Applies to subsequently listed file definitions in a fileset.  These
       attributes will apply where the file attributes were not specified
       explicitly in a file definition.  Subsequent <b>file_permissions</b>
       definitions simply replace previous definitions (resetting all the
       options).

       To reset the file_permission state (i.e. turn it off) use one of the
       following:
           file_permissions &quot;&quot;
            or the preferred way is
           file_permissions -u 000

   <b>o</b>  <b>Excluding Files</b>
          exclude source


       Excludes a previously included file or an entire directory.

   <b>o</b>  <b>Including Files</b>
          include &lt;<i>filename</i>


       The contents of <i>filename</i> may be more definitions for files.  The syntax
       of the included file is PSF syntax.
</pre><h3><a name="DISTRIBUTOR KEYWORDS"><b>DISTRIBUTOR KEYWORDS</b></a></h3><pre>       A software definition file (INFO, INDEX or psf) may contain keywords
       not recognized by the standard.  Such keywords will be parsed as an
       attribute keyword, that is as an attribute of the containing object
       (keyword) software definition.
</pre><h3><a name="PACKAGE SECURITY"><b>PACKAGE SECURITY</b></a></h3><pre>       The Package Security Attributes are distribution attributes stored as
       separate files.  They are implementation extensions.  They consist of
       archive digests, catalog signature, catalog signature header, and
       individual file md5, sha1, and sha512 digests.


   <a name="Archive Digests"><b>Archive Digests</b></a>
       <i>md5sum</i>, <i>sha1sum</i>, and <i>sha512sum</i> are the md5 and sha1 and sha512 digests
       (ascii representations) of the leading package directories that do not
       have the <b>catalog</b> pathname component followed by the <i>software file</i>
       <i>storage structure</i> portion of the uncompressed serial access package
       file including all archive format trailer blocks.

              &lt;<i>path</i>&gt;/<b>catalog</b>/&lt;<i>dfiles</i>&gt;/<b>md5sum</b>
              &lt;<i>path</i>&gt;/<b>catalog</b>/&lt;<i>dfiles</i>&gt;/<b>sha1sum</b>
              &lt;<i>path</i>&gt;/<b>catalog</b>/&lt;<i>dfiles</i>&gt;/<b>sha512sum</b>


   <a name="Adjunct Md5 Digest"><b>Adjunct Md5 Digest</b></a>
       <i>adjunct</i><b>_</b><i>md5sum</i> is the same as the <i>md5sum</i> excluding symbolic links.  If
       a package does not contain symbolic links the <i>md5sum</i> and <i>adjunct</i><b>_</b><i>md5sum</i>
       will be identical.

              &lt;<i>path</i>&gt;/<b>catalog</b>/&lt;<i>dfiles</i>&gt;/<b>adjunct_md5sum</b>


       Explanation: This attribute is called 'adjunct' because it is a digest
       of a subset of the files in the package.  It exists to facilitate
       verifying file integrity of the directory form of a package in an
       environment where the modification time of symbolic link files are not
       preserved from the serial archive by the tar utility or operating
       system.  The ability to verify even the <i>adjunct</i><b>_</b><i>md5sum</i> from the
       directory form of the package is dependent on the tar creating utility
       and other attributes of a POSIX.2 environment.

   <a name="Catalog Signature Header"><b>Catalog Signature Header</b></a>
       The <i>sig</i><b>_</b><i>header</i> file is a ustar header that is identical bit-for-bit to
       the ustar header of the signature file.  It always precedes the
       signature file archive members.

              &lt;<i>path</i>&gt;/<b>catalog</b>/&lt;<i>dfiles</i>&gt;/<b>sig_header</b>


       The <i>sig</i><b>_</b><i>header</i> protects the tar header of the signature files from
       tampering.  This is required because neither the signature file bytes
       nor the signature tar header are included in the signed data.

   <a name="Catalog Signature"><b>Catalog Signature</b></a>
       The signature protects the metadata section of the archive.  The
       contents of payload section are only included in the form of a
       crytographic digest.  The sha1 digest is preferred over the md5 digest
       for technical reasons.  If the metadata section does not contain the
       payload section digests then there is no way to verify the payload from
       the signature.


              &lt;<i>path</i>&gt;/<b>catalog</b>/&lt;<i>dfiles</i>&gt;/<b>signature</b>


       The signed data is the <i>exported catalog structure</i> of the uncompressed
       serial archive package file up to but not including the first byte of
       the <i>software file storage structure</i> followed by <a href=two _2.html>two (2)</a> 512 byte null
       blocks if tar format, and no trailer bytes if not tar format.  The
       signature file archive member itself is not included in the signed
       stream, it is intended that the &lt;<i>path</i>&gt;/<b>catalog</b>/&lt;<i>dfiles</i>&gt;/<b>md5sum</b> file is
       included in the signed stream.

       The signature file is ASCII armored.  The last printable character of
       the signature is followed by one or more newline characters (0x0A).
       The total length of the file must match the file size specified in the
       size field of the <b>sig_header</b> file.  The ustar header of every signature
       archive member shall be identical to the <b>sig_header</b> file.  The padded
       size is predetermined [by swpackage] and currently set to be 1024
       octets.  This means the armored sig file has a length limitation of
       1023 octets.

       If multiple signature archive members exist they must follow one
       another in the archive with no other intervening files; and, the same
       <b>sig_header</b> file is the ustar header for all the signature archive
       members.  A signature archive member, whether alone or one of many, is
       never part of the signed data stream.

   <a name="File Digests"><b>File Digests</b></a>
              <i>file</i>.cksum
              <i>file</i>.md5sum
              <i>file</i>.sha1sum
              <i>file</i>.sha512sum

       Each file can have none or all of these digests.
</pre><h3><a name="SOFTWARE DEFINITION FILES"><b>SOFTWARE DEFINITION FILES</b></a></h3><pre>       The metadata files, INDEX, INFO and PSF, contain information about the
       software in the form of <i>software definitions</i>.  The INDEX and INFO files
       appear in a package directory structure.  They are automatically
       generated by the 'swpackage' command.  The location in the directory
       structure indicates the higher level object to which their data
       pertains.  The PSF file does not appear in the package.  It is created
       by a person or program and it directs the action of the swpackage
       utility.  It is internal data unless released by the distributor.

       The files contain keywords (and values) to represent the attributes
       defined in the standard.  There are <a href=three _3.html>three (3)</a> different keyword types:
       object, attribute, and, extended. The object keyword type has no value
       and there are eleven (11) of these corresponding to the Software
       Definitions defined above: <b>installed_software</b>, <b>distribution</b>, <b>media</b>,
       <b>bundle</b>, <b>vendor</b>, <b>category</b>, <b>product</b>, <b>subproduct</b>, <b>fileset</b>, <b>control_file</b>,
       <b>file</b>.

       Each object keyword is followed by and newline and attributes in the
       form of keyword/value pairs.  Whitespace separates the keyword and
       value.  Whitespace outside of a quoted value is not significant.  A
       quoted value can span multiple lines.  An object keyword with its list
       of attribute keywords (and values) forms a <i>Software Definition</i>.  A
       <i>Software Definition</i> is terminated by the start of the next <i>Software</i>
       <i>Definition</i>.  Extended keywords (meaning Extended Definitions) only
       appear in a PSF file.

       The order  of objects (i.e <i>Software Definition</i>s) is significant and a
       containment  hierarchy is determined according to parser's grammar.

   <a name="Additional Syntax Rules"><b>Additional Syntax Rules</b></a>
          *  A '#' (pound) character designates a comment.  A comment may
             begin a line or appear at the end of a single line containing the
             keyword/value pair.

          *  A value may be quoted by the '&quot;' (double quote) character; and,
             multi-line values must be quoted.  Trailing white space from an
             unquoted value will be removed.

          *  The order of attributes is not significant although the INDEX
             file grammar requires the <i>layout</i><b>_</b><i>version</i> attribute appear first
             in distribution or installed software object.

          *  The &quot;, #, and, \ characters must be escaped with a backslash (\)
             in a quoted value.

          *  If a value begins with a &lt; (less than), the value is interpreted
             as a filename whose contents will be treated as a quoted value
             although the storage of the attribute will be in the form of a
             control file (i.e. a separate file in the control directory).
             For INDEX files, the filename is relative to the control
             directory in which this attribute is contained.  For PSF files,
             the filename is a path on the host.

   <a name="Software Definition File Grammar"><b>Software Definition File Grammar</b></a>
       A PSF may contain all <i>Software Definitions</i>.  An INDEX file does not
       contain <b>control_file</b>, or <b>file</b> definitions. An INFO file contains only
       <b>control_file</b>, and <b>file</b> definitions.

            software_definition_file : INDEX
                                     | INFO
                                     | PSF
                                     ;

            PSF :  distribution_definition
                   swo_contents
                   ;

            INDEX : swo_definition
                    swo_contents
                   ;

            INFO : fileset_contents
                   ;

            swo_definition : distribution_definition
                           | <i>installed</i><b>_</b><i>software</i>
                           ;

            distribution_definition : <i>distribution</i>
                                                <i>media</i>
                                    ;

            swo_contents : <i>vendor</i>(s)
                          | <i>category</i>(s)
                          | products
                          | bundles
                          ;

            products : <i>product</i>
                       product_contents
                       ;

            bundles : <i>bundle</i>
                       ;

            product_contents :  <i>control</i><b>_</b><i>file</i>s
              /* control_files not valid in INDEX file */
                            | <i>subproduct</i>s
                            |  filesets
                      ;

            filesets : <i>fileset</i>
             /* fileset_contents not valid in INDEX file */
                       fileset_contents
                       ;

            fileset_contents :  <i>control</i><b>_</b><i>file</i>s
                             | <i>file</i>s
                             ;

</pre><h3><a name="EXAMPLE PACKAGE"><b>EXAMPLE PACKAGE</b></a></h3><pre>   <b>Layout</b>
        swm-1.0/catalog
        swm-1.0/catalog/INDEX
        swm-1.0/catalog/dfiles
        swm-1.0/catalog/dfiles/INFO
        swm-1.0/catalog/dfiles/md5sum
        swm-1.0/catalog/dfiles/sha1sum
        swm-1.0/catalog/dfiles/adjunct_md5sum
        swm-1.0/catalog/dfiles/sig_header
        swm-1.0/catalog/dfiles/signature
        swm-1.0/catalog/gsoft_swm
        swm-1.0/catalog/gsoft_swm/pfiles
        swm-1.0/catalog/gsoft_swm/pfiles/INFO
        swm-1.0/catalog/gsoft_swm/pfiles/remove
        swm-1.0/catalog/gsoft_swm/pfiles/configure
        swm-1.0/catalog/gsoft_swm/bin
        swm-1.0/catalog/gsoft_swm/bin/INFO
        swm-1.0/catalog/gsoft_swm/bin/postinstall
        swm-1.0/catalog/gsoft_swm/bin/configure
        swm-1.0/catalog/gsoft_swm/doc
        swm-1.0/catalog/gsoft_swm/doc/INFO
        swm-1.0/catalog/gsoft_swm/doc/postinstall
        swm-1.0/gsoft_swm
        swm-1.0/gsoft_swm/bin
        swm-1.0/gsoft_swm/bin/usr/bin/swpackage
        swm-1.0/gsoft_swm/bin/usr/bin/sw_build
        swm-1.0/gsoft_swm/doc
        swm-1.0/gsoft_swm/doc/usr/man/man1/swpackage.1
        swm-1.0/gsoft_swm/doc/usr/man/man1/sw_build.1


   <a name="Hypothetical PSF file"><b>Hypothetical PSF file</b></a>
        distribution
          control_directory swm-1.0  #Implementation Extension.
          vendor
            the_term_vendor_is_misleading  false # True or False
            tag greatsoft
            title Greatersoft Corporation
            description &quot;Greatersoft Corporation, Inc.&quot;
          product
            tag swm
            title POSIX 1387 package builder
            revision 1.0
            control_directory gsoft_swm
            vendor_tag greatsoft
            description A package building Utility.
            machine_type i386
            control_file
                 path remove
               source /var/tmp/sw/remove.source
            configure /var/tmp/sw/configure.source
            fileset
               tag bin
               control_directory bin
               title Executable Files
               state available
                 postinstall /var/tmp/sw/bin/postinstall
               configure /var/tmp/sw/bin/configure
               file -m 0755 -o root -g root /var/tmp/sw/build/bin/swpackage  \
                            /usr/bin/swpackage
               file -m 0755 -o root -g root /var/tmp/sw/build/bin/sw_build  \
                            /usr/bin/sw_build
          fileset
             tag doc
             control_directory doc
             title Manual Pages
             state available
             postinstall /var/tmp/sw/bin/postinstall
             file -m 0644 -o root -g root /var/tmp/sw/build/man/swpackage.1 \
                       /usr/man/man1/swpackage.1
             file
                mode 0644
                owner root
                group  root
                source /var/tmp/sw/build/man/sw_build.1
                path /usr/man/man1/sw_build.1


   <b>INDEX File swm-1.0/catalog/INDEX</b>
        distribution
          layout_version 1.0
          tag swm-1.0
          uuid 880ccf8b-de2c-4422-bff0-fd686279da73
          md5sum &lt; md5sum
          adjunct_md5sum &lt; adjunct_md5sum
          sig_header &lt; sig_header
          signature &lt; signature
          media
            sequence_number 1
          vendor
            the_term_vendor_is_misleading  false # True or False
            tag greatsoft
            title Greatersoft Corporation
            description &quot;Greatersoft Corporation, Inc.&quot;
          product
            tag swm
            title POSIX 1387 package builder
            revision 1.0
            instance_id 1
            control_directory gsoft_swm
            vendor_tag greatsoft
            description A package building Utility.
            machine_type i386
            fileset
               tag bin
               control_directory bin
               size 196643
               title Executable Files
               state available
            fileset
               tag doc
               control_directory doc
               size 19643
               title Manual Pages
               state available


   <b>INFO File swm-1.0/catalog/dfiles/INFO</b>
        control_file
          path INFO
          tag INFO
          size 92
        control_file
          path md5sum
          tag md5sum
          size 36
        control_file
          path adjunct_md5sum
          tag adjunct_md5sum
          size 36
        control_file
          path sig_header
          tag sig_header
          size 512
        control_file
          path signature
          tag signature
          size 512


   <b>INFO File swm-1.0/catalog/gsoft_swm/bin/INFO</b>
        control_file
          path INFO
          tag INFO
          size 337

        control_file
          path postinstall
          type f
          size 803
          cksum 3928827394
          mode 550
          uid 0
          gid 0
          owner root
          group root
          mtime 739080341

        control_file
          path configure
          type f
          size 432
          cksum 3934546394
          mode 550
          uid 0
          gid 0
          owner root
          group root
          mtime 739340771

        file
          path /usr/bin/swpackage
          type f
          size 80860
          cksum 3929827394
          mode 755
          uid 0
          gid 0
          owner root
          group root
          mtime 739080771

        file
          path /usr/bin/sw_build
          type f
          size 120860
          cksum 9894925524
          mode 755
          uid 0
          gid 0
          owner root
          group root
          mtime 7393808731


</pre><h3><a name="SWBIS PSF CONVENTIONS"><b>SWBIS PSF CONVENTIONS</b></a></h3><pre>       This section describes attribute usage and conventions imposed by the
       swbis implementation.  Not all attributes are listed here.  Those that
       are have important effects or particular interest.

   <b>o Distribution Attributes</b>
       The standard defines a limited set of attributes for the distribution
       object.  An expanded set is suggested by the informative annex however
       a conforming implementation is not required act on them.  The reason
       for this is a distribution may be acted upon by a conforming utility in
       such a way that attributes of the <b>distribution</b> become invalid.  For
       this reason, some attributes that refer to an entire &quot;package&quot; [in
       other package managers] are referred from the product object and attain
       their broadened scope by the distributor's convention that their
       distribution contains just one <b>product</b>.

       For example, the package NAME and VERSION are referred from the product
       tag and revision, not the distribution's.  This convention supports
       multiple products in a distribution and is consistent with the
       standard.

       <b>tag</b>

              <i>tag</i> is the short, file system friendly, name of the
              distribution.  Providing a distribution tag is optional.  The
              swbis implementation will use this as the [single] path name
              prefix if there is no distribution.control_directory attribute.
              A distribution tag attribute and swpackage's response to it is
              an implementation extension.  The leading package path can also
              be controlled with the ''-W dir'' option.


       <b>control_directory</b>

              <i>control</i><b>_</b><i>directory</i>, in a distribution object, is the constant
              leading package path.  Providing this attribute is optional.  A
              distribution control_directory attribute and swpackage's
              response to it is an implementation extension.  The leading
              package path can also be controlled with the ''-W dir'' option.
              This attribute will be generated by swpackage if not set in a
              PSF.


   <b>o Bundle Attributes</b>
       A <b>bundle</b> defines a collection of products whether or not the
       distribution has all the products present.

       <b>tag</b>

              <i>tag</i> is the short, file system friendly, name of the bundle.
              This value is used by the swbis implementation as a path name
              component in the installed software catalog.  If it is not
              present the product tag is used.


   <b>o Product Attributes</b>
       A <b>product</b> defines the software product.

       <b>tag</b>

              <i>tag</i> is the short, file system friendly, name of the product.
              This value is used by the swbis implementation as a path name
              component in the installed software catalog.  It is required.
              The swbis implementation uses it in a way that is analogous to
              the RPMTAG_NAME attribute, namely as the public recognizable
              name of the package.


       <b>control_directory</b>

              Is the directory name in the distribution under which the
              product contents are located.  This value has no affect on the
              installed software catalog.  If it is not given in a PSF then
              the <i>tag</i> is used.


       <b>revision</b>

              Is the product revision.  It should not contain a &quot;RELEASE&quot;
              attribute part or other version suffix modifiers.  This value is
              used by the swbis implementation as a path name component in the
              installed software catalog.  It is required by swinstall.


       <b>vendor_tag</b>

              This is a short identifying name of the distributor that
              supplied the product and may associate (refer to) a <b>vendor</b>
              object from the INDEX file that has a matching tag attribute.
              This attribute is optional.  This attribute value should strive
              to be unique among all distributors. The swbis implementation
              modifies the intended usage slightly as a string that strives to
              be globally unique for a given product.<b>tag</b> and product.<b>revision</b>.
              In this capacity it serves to distinguish products with the same
              revision and tag from the same or different distributor.  It
              most closely maps to the RPMTAG_RELEASE or &quot;debian_revision&quot;
              attributes.  It is one of the version distinguishing attributes
              of a product specified by the standard.  It is transfered into
              the installed_software catalog (not as a path name component) by
              swinstall.  If this attribute exists there should also be a
              <b>vendor</b> object in the PSF in the distribution object that has
              this tag.  This attribute is assigned the value of
              RPMTAG_RELEASE by swpackage when translating an RPM.


       <b>architecture</b>

              This string is one of the version attributes.  It is used to
              disambiguate products that have the same <b>tag</b>, <b>revision</b> and
              <b>vendor_tag</b>.  It is not used for determining a products
              compatibility with a host.  The form is implementation defined.
              swbis uses the output of GNU <b>config.guess</b> as the value of this
              string.  A wildcard pattern should not be used.  The canonical
              swbis architecture string can be listed with <b>swlist</b>. For example

              swlist -a architecture @ localhost

               Here are some example outputs from real systems.

                  System      `uname -srm`              architecture
              Red Hat 8.0:  Linux 2.4.18 i686        i686-pc-linux-gnu
              OpenSolaris:  SunOS 5.11 i86pc         i386-pc-solaris2.11
              NetBSD 3.1:   NetBSD 3.1 i386          i386-unknown-netbsdelf3.1
              Red Hat 4.1:  Linux 2.0.36 i586        i586-pc-linux-gnulibc1
              Debian 3.1:   Linux 2.6.8-2-386 i686   i686-pc-linux-gnu



       <b>os_name os_release os_version machine_type</b>

              These attributes are used to determine compatibility with a
              host.  They correspond to the <b>uname</b> attributes defined by
              POSIX.1.  If an value is nil or non-existent it is assumed to
              match the host.  All attributes must match for there to be
              compatibility.  Distributors may wish to make these values a
              shell pattern in their PSF's so to match the intended collection
              of hosts.  swbis uses <b>fnmatch</b> (with FLAGS=0) to determine a
              match.


   <b>o Fileset Attributes</b>
       A <b>fileset</b> defines the fileset.

       <b>tag</b>

              <i>tag</i> is the short, file system friendly, name of the fileset.  It
              is required although selection of filesets is  not yet supported
              therefore the end user will have little to do with the fileset
              tag.

       <b>control_directory</b>

              Is the directory name in the product under which the fileset
              contents are located.  This value has no affect on the installed
              software catalog.  If it is not given in a PSF then the <i>tag</i> is
              used.

   <b>o Example Source Package PSF</b>
       This PSF packages every file is current directory. It uses nil control
       directories so the package structure does not change relative to a
       vanilla tarball.

        distribution
          description &quot;fooit - a program from fooware
       that does everything.&quot;
          title &quot;fooit - a really cool program&quot;
          COPYING &lt; /usr/local/fooware/legalstuff/COPYING
        vendor
          the_term_vendor_is_misleading false
          tag fooware
          title fooware Consultancy Services, Inc.
          description &quot;&quot;
        vendor
          the_term_vendor_is_misleading true
          tag myfixes1
          title Bug fixes, Set 1
          description &quot;a place for more detailed description&quot;
        product
          tag fooit
          control_directory &quot;&quot;
          revision 1.0
          vendor_tag myfixes1  # Matches the vendor object above
        fileset
           tag fooit-SOURCE
           control_directory &quot;&quot;
           directory .
           file *
           exclude catalog



   <b>o Example Runtime (Binary) Package PSF</b>
       This is a sample PSF for a runtime package.  It implies multiple
       products (e.g. sub-packages) using the bundle.contents attribute.
       Since the bundle and product tags exist in a un-regulated namespace and
       are seen by end users they should be carefully chosen.   Note that the
       bundle and product have the same tag which may force downstream users
       to disambiguate using software selection syntax such as fooit,bv=* or
       fooit,pv=* .

        distribution
          description &quot;fooit - a program from fooware
       that does everything.&quot;
          title &quot;fooit - a really cool program&quot;
          COPYING &lt; /usr/local/fooware/legalstuff/COPYING

            vendor
               the_term_vendor_is_misleading false
               tag fooware
               title fooware Consultancy Services, Inc.
               description &quot;Provider of the programs
        that do everything&quot;

            vendor
               the_term_vendor_is_misleading true
                tag fw0
                title fooware fixes
                description &quot;More fixes from the fooware users&quot;

       #  Bundle definition:  Use a bundle
            bundle
                tag fooit
                vendor_tag fooware
                contents fooit,v=fw0 fooit-devel fooit-doc

       #  Product definition:
            product
                tag fooit   # This is the package name
                revision 1.0 # This is the package version
                vendor_tag fw0 # This is a release name e.g. RPMTAG_RELEASE
                postinstall scripts/postinstall
            fileset
                 tag fooit-RUN
                 file doc/man/man1/fooit.1 /usr/man/man1/fooit.1
                 file src/fooit /usr/bin/fooit


</pre><h3><a name="APPLICABLE STANDARDS"><b>APPLICABLE STANDARDS</b></a></h3><pre>       IEEE Std 1387.2-1995 (Identical to ISO 15068-2:1999), Open Group CAE
       C701
</pre><h3><a name="SEE ALSO"><b>SEE ALSO</b></a></h3><pre>        XDSA C701 <a href="http://www.opengroup.org/publications/catalog/c701.htm">http://www.opengroup.org/publications/catalog/c701.htm</a>
        <a href=swbisparse_1.html>swbisparse(1)</a> -- An implementation extension parser utility.
        <a href=swcopy_8.html>swcopy(8)</a>
        <a href=swinstall_8.html>swinstall(8)</a>
        <a href=swpackage_5.html>swpackage(5)</a>
        <a href=swpackage_8.html>swpackage(8)</a>
        <a href=swverify_8.html>swverify(8)</a>
</pre><h3><a name="IDENTIFICATION"><b>IDENTIFICATION</b></a></h3><pre>        Copyright (C) 2005 Jim Lowe
        Version: 1.6
        Last Updated: 2006-01
        Copying Terms: GNU Free Documentation License
</pre><h3><a name="BUGS"><b>BUGS</b></a></h3><pre>       None



                                                                         <a href=sw_5.html>sw(5)</a>
</pre><hr></body></html>
